["^ ","~:output",["^ ","~:js","goog.provide('predict_prostate.models.prostate_release');\npredict_prostate.models.prostate_release.exp = Math.exp;\npredict_prostate.models.prostate_release.ln = Math.log;\npredict_prostate.models.prostate_release.pow = Math.pow;\npredict_prostate.models.prostate_release.abs = Math.abs;\npredict_prostate.models.prostate_release.pi_pcsm = (function predict_prostate$models$prostate_release$pi_pcsm(p__31737){\nvar map__31738 = p__31737;\nvar map__31738__$1 = (((((!((map__31738 == null))))?(((((map__31738.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__31738.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__31738):map__31738);\nvar inputs = map__31738__$1;\nvar grade_group = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"grade-group\",\"grade-group\",-1255212518));\nvar brca = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"brca\",\"brca\",-1943532098));\nvar age = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"age\",\"age\",-604307804));\nvar biopsy50 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"biopsy50\",\"biopsy50\",-1232179703));\nvar psa = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"psa\",\"psa\",-321761459));\nvar biopsy_cores_involved = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"biopsy-cores-involved\",\"biopsy-cores-involved\",1324361520));\nvar biopsy_done = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"biopsy-done\",\"biopsy-done\",-1332187565));\nvar biopsy_cores_taken = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"biopsy-cores-taken\",\"biopsy-cores-taken\",-1514658666));\nvar primary_rx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"primary-rx\",\"primary-rx\",-1656848904));\nvar t_stage = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31738__$1,new cljs.core.Keyword(null,\"t-stage\",\"t-stage\",-1315750984));\n\nvar ppc = (cljs.core.truth_((function (){var and__4115__auto__ = biopsy_cores_involved;\nif(cljs.core.truth_(and__4115__auto__)){\nvar and__4115__auto____$1 = biopsy_cores_taken;\nif(cljs.core.truth_(and__4115__auto____$1)){\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((1),biopsy_done);\n} else {\nreturn and__4115__auto____$1;\n}\n} else {\nreturn and__4115__auto__;\n}\n})())?((100) * (biopsy_cores_involved / biopsy_cores_taken)):41.9415);\nreturn (((((((0.0026005 * ((function (){var G__31760 = (age / (10));\nvar G__31761 = (3);\nreturn (predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2 ? predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2(G__31760,G__31761) : predict_prostate.models.prostate_release.pow.call(null,G__31760,G__31761));\n})() - 341.155151)) + (0.185959 * ((function (){var G__31762 = ((psa + (1)) / (100));\nreturn (predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(G__31762) : predict_prostate.models.prostate_release.ln.call(null,G__31762));\n})() + 1.636423432))) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 4, [(1),(0),(2),0.1614922,(3),0.39767881,(4),0.6330977], null),t_stage)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 5, [(1),(0),(2),0.2791641,(3),0.5464889,(4),0.7411321,(5),1.367963], null),grade_group)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 4, [0.9,(predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(0.35) : predict_prostate.models.prostate_release.ln.call(null,0.35)),(1),-0.6837094,1.1,(predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(0.67) : predict_prostate.models.prostate_release.ln.call(null,0.67)),(3),0.9084921], null),primary_rx)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 4, [null,(0),(0),(0),(1),0.956,(2),(0)], null),brca)) + ((Math.sqrt(((ppc + 0.1811159) / (100))) - 0.649019) * 1.890134));\n});\npredict_prostate.models.prostate_release.pi_npcm = (function predict_prostate$models$prostate_release$pi_npcm(p__31775){\nvar map__31776 = p__31775;\nvar map__31776__$1 = (((((!((map__31776 == null))))?(((((map__31776.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__31776.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__31776):map__31776);\nvar age = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31776__$1,new cljs.core.Keyword(null,\"age\",\"age\",-604307804));\nvar charlson_comorbidity = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31776__$1,new cljs.core.Keyword(null,\"charlson-comorbidity\",\"charlson-comorbidity\",-633596907));\n\nreturn ((0.1226666 * (age - 69.87427439)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 2, [(0),(0),(1),0.6382002], null),charlson_comorbidity));\n});\npredict_prostate.models.prostate_release.days = (function predict_prostate$models$prostate_release$days(t){\nreturn ((365) * t);\n});\npredict_prostate.models.prostate_release.pcsm_at_t = (function predict_prostate$models$prostate_release$pcsm_at_t(time,pi){\n\nreturn ((1) + (- (function (){var G__31792 = ((- (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(pi) : predict_prostate.models.prostate_release.exp.call(null,pi))) * (function (){var G__31794 = ((-16.40532 + (1.653947 * (predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(time) : predict_prostate.models.prostate_release.ln.call(null,time)))) + (1.89E-12 * (predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2 ? predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2(time,(3)) : predict_prostate.models.prostate_release.pow.call(null,time,(3)))));\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__31794) : predict_prostate.models.prostate_release.exp.call(null,G__31794));\n})());\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__31792) : predict_prostate.models.prostate_release.exp.call(null,G__31792));\n})()));\n});\npredict_prostate.models.prostate_release.f = (function predict_prostate$models$prostate_release$f(p__31795){\nvar map__31796 = p__31795;\nvar map__31796__$1 = (((((!((map__31796 == null))))?(((((map__31796.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__31796.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__31796):map__31796);\nvar foo = map__31796__$1;\nvar n = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31796__$1,new cljs.core.Keyword(null,\"n\",\"n\",562130025),(10));\nvar a = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31796__$1,new cljs.core.Keyword(null,\"a\",\"a\",-2123407586));\nvar b = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31796__$1,new cljs.core.Keyword(null,\"b\",\"b\",1482224470));\nvar c = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__31796__$1,new cljs.core.Keyword(null,\"c\",\"c\",-1763192079),(3));\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [foo,c,n], null);\n});\npredict_prostate.models.prostate_release.npcm_at_t = (function predict_prostate$models$prostate_release$npcm_at_t(time,pi){\n\nreturn ((1) + (- (function (){var G__31800 = ((- (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(pi) : predict_prostate.models.prostate_release.exp.call(null,pi))) * (function (){var G__31802 = ((-12.4841 + (1.32274 * (predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(time) : predict_prostate.models.prostate_release.ln.call(null,time)))) + (2.9E-12 * (predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2 ? predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2(time,(3)) : predict_prostate.models.prostate_release.pow.call(null,time,(3)))));\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__31802) : predict_prostate.models.prostate_release.exp.call(null,G__31802));\n})());\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__31800) : predict_prostate.models.prostate_release.exp.call(null,G__31800));\n})()));\n});\npredict_prostate.models.prostate_release.run_prostate = (function predict_prostate$models$prostate_release$run_prostate(p__31826){\nvar map__31827 = p__31826;\nvar map__31827__$1 = (((((!((map__31827 == null))))?(((((map__31827.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__31827.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.hash_map,map__31827):map__31827);\nvar args = map__31827__$1;\nvar grade_group = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"grade-group\",\"grade-group\",-1255212518));\nvar protect = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"protect\",\"protect\",-67966332));\nvar age = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"age\",\"age\",-604307804));\nvar biopsy50 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"biopsy50\",\"biopsy50\",-1232179703));\nvar n = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"n\",\"n\",562130025));\nvar psa = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"psa\",\"psa\",-321761459));\nvar charlson_comorbidity = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"charlson-comorbidity\",\"charlson-comorbidity\",-633596907));\nvar primary_rx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"primary-rx\",\"primary-rx\",-1656848904));\nvar t_stage = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__31827__$1,new cljs.core.Keyword(null,\"t-stage\",\"t-stage\",-1315750984));\nvar piPCSM = predict_prostate.models.prostate_release.pi_pcsm(args);\nvar piNPCM = predict_prostate.models.prostate_release.pi_npcm(args);\nvar PCSMatT = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31805_SHARP_){\nreturn predict_prostate.models.prostate_release.pcsm_at_t(predict_prostate.models.prostate_release.days(p1__31805_SHARP_),piPCSM);\n}),cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(n + (1))));\nvar PCSM_mortrate_year = common.utils.deltas((0),PCSMatT);\nvar PCS_survival_year = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31806_SHARP_){\nreturn ((1) - p1__31806_SHARP_);\n}),PCSM_mortrate_year);\nvar NPCMatT = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31807_SHARP_){\nreturn predict_prostate.models.prostate_release.npcm_at_t(predict_prostate.models.prostate_release.days(p1__31807_SHARP_),piNPCM);\n}),cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(n + (1))));\nvar NPCM_mortrate_year = common.utils.deltas((0),NPCMatT);\nvar NPC_survival_year = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31808_SHARP_){\nreturn ((1) - p1__31808_SHARP_);\n}),NPCM_mortrate_year);\nvar PCSsurvival = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31809_SHARP_){\nreturn ((1) - p1__31809_SHARP_);\n}),PCSMatT);\nvar NPCsurvival = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31810_SHARP_){\nreturn ((1) - p1__31810_SHARP_);\n}),NPCMatT);\nvar allcauseM = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__31811_SHARP_,p2__31812_SHARP_){\nreturn ((1) - (p1__31811_SHARP_ * p2__31812_SHARP_));\n}),PCSsurvival,NPCsurvival);\nvar allcauseM_inyear = common.utils.deltas((0),allcauseM);\nvar proportionPC_cum = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__31813_SHARP_,p2__31814_SHARP_){\nreturn (p1__31813_SHARP_ / (p1__31813_SHARP_ + p2__31814_SHARP_));\n}),PCSMatT,NPCMatT);\nvar proportionPC = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__31815_SHARP_,p2__31816_SHARP_){\nreturn (p1__31815_SHARP_ / (p1__31815_SHARP_ + p2__31816_SHARP_));\n}),PCSM_mortrate_year,NPCM_mortrate_year);\nvar propn_NPC = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31817_SHARP_){\nreturn ((1) - p1__31817_SHARP_);\n}),proportionPC);\nvar pred_PC_year = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__31818_SHARP_,p2__31819_SHARP_){\nreturn (p1__31818_SHARP_ * p2__31819_SHARP_);\n}),proportionPC,allcauseM_inyear);\nvar pred_PC_cum = cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(cljs.core._PLUS_,pred_PC_year);\nvar pred_NPC_year = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__31820_SHARP_,p2__31821_SHARP_){\nreturn (p1__31820_SHARP_ * p2__31821_SHARP_);\n}),propn_NPC,allcauseM_inyear);\nvar pred_NPC_cum = cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(cljs.core._PLUS_,pred_NPC_year);\nvar overall_survival = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__31822_SHARP_,p2__31823_SHARP_){\nreturn ((100) * ((1) - (p1__31822_SHARP_ + p2__31823_SHARP_)));\n}),pred_NPC_cum,pred_PC_cum);\nvar NPCM = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__31824_SHARP_){\nreturn ((100) - (p1__31824_SHARP_ * (100)));\n}),pred_PC_cum);\nreturn (new cljs.core.PersistentArrayMap(null,(4),[new cljs.core.Keyword(null,\"PCSsurvival\",\"PCSsurvival\",1208128423),PCSsurvival,new cljs.core.Keyword(null,\"pred-PC-cum\",\"pred-PC-cum\",1965177836),cljs.core.cons((0),pred_PC_cum),new cljs.core.Keyword(null,\"pred-NPC-cum\",\"pred-NPC-cum\",-1636287417),cljs.core.cons((0),pred_NPC_cum),new cljs.core.Keyword(null,\"NPC-survival\",\"NPC-survival\",-1399930619),cljs.core.cons((1),NPCsurvival)],null));\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","predict_prostate/models/prostate_release.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",45],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$clojure.pprint","~$cljs.pprint","~$clojure.spec.alpha","~$cljs.spec.alpha","~$clojure.core.async","~$cljs.core.async"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:name","~$predict-prostate.models.prostate-release","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$common.data-frame","^M","~$common.utils","^N","~$cljs.core","^O","~$goog","^P"],"~:seen",["^F",["~:require"]],"~:uses",["^ ","~$cell-apply","^M","~$cell-update","^M","~$cell-sums","^M","~$cell-diffs","^M","~$deltas","^N"],"~:require-macros",["^ ","^O","^O"],"~:form",["~#list",["~$ns","^H",["^[",["^R",["^M","~:refer",["^T","^U","^V","^W"]],["^N","^11",["^X"]]]]]],"~:flags",["^ ","^R",["^F",[]]],"~:js-deps",["^ "],"~:deps",["^P","^O","^M","^N"]],"^J","^H","~:resource-id",["~:shadow.build.classpath/resource","predict_prostate/models/prostate_release.cljs"],"~:compiled-at",1636624109539,"~:resource-name","predict_prostate/models/prostate_release.cljs","~:warnings",[],"~:source","(ns predict-prostate.models.prostate-release\n  (:require [common.data-frame :refer [cell-apply cell-update cell-sums cell-diffs]]\n            [common.utils :refer [deltas]]\n            ))\n\n(def exp js/Math.exp)\n(def ln js/Math.log)\n(def pow js/Math.pow)\n(def abs js/Math.abs)\n\n\n; stata L 21\n(defn pi-pcsm [{:keys [age psa t-stage grade-group primary-rx brca biopsy50 biopsy-done biopsy-cores-involved biopsy-cores-taken] :as inputs}]\n  \"gen pi-pcsm = 0.0026005*((age/10)^3-341.155151) + 0.185959*(ln((psa+1)/100)+1.636423432) + .1614922*(t_stage==2) + .39767881*(t_stage==3) + .6330977*(t_stage==4) + .2791641*(gradegroup==2) + .5464889*(gradegroup==3) + .7411321*(gradegroup==4) + 1.367963*(gradegroup==5) + -.6837094*(primaryRx==1) + .9084921*(primaryRx==3) -0.617722958*(biopsy50==1) + 0.579225231*(biopsy50==2) +(((PPC+0.1811159)/100)^.5-.649019)*1.890134 \\n\"\n  (let [ppc (if (and biopsy-cores-involved biopsy-cores-taken (= 1 biopsy-done))\n              (* 100 (/ biopsy-cores-involved biopsy-cores-taken))\n              41.9415)]\n\n    ;(println \"inputs = \" inputs)\n\n    (+ (* 0.0026005 (- (pow (/ age 10) 3) 341.155151))\n      (* 0.185959 (+ (ln (/ (inc psa) 100)) 1.636423432))\n      (get {1 0\n            2 0.1614922\n            3 0.39767881\n            4 0.6330977} t-stage)\n      (get {1 0\n            2 0.2791641\n            3 0.5464889\n            4 0.7411321\n            5 1.367963} grade-group)\n      (get {0.9 (ln 0.35)                                   ; radical low (now log 0.38) (was log 0.35)  ;todo uncertainty\n            1   -0.6837094\n            1.1 (ln 0.67)                                   ; radical high (now log 0.67) (was log 0.67) ;todo uncertainty\n            3   0.9084921} primary-rx)\n      #_(get {1 -0.617722958\n            2 0.579225231} biopsy50)\n      (get {nil 0\n            0 0\n            1 0.956\n            2 0} brca)\n      (* (- (js/Math.sqrt (/ (+ ppc 0.1811159) 100)) 0.649019) 1.890134)\n      )\n\n\n    ))\n(comment\n  (pi-pcsm {:age 70 :psa 10 :t-stage 2 :grade-group 2 :primary-rx 0  :biopsy50 0 :brca 0 :ppc 41.9415})\n  ;=> 0.3392995824130641\n  )\n\n(defn pi-npcm [{:keys [age charlson-comorbidity]}]\n  \"gen pi-npcm = 0.1229245*(age-69.8749646) + 0.6640308*(charlson_comorbidity==1)\"\n  (+ (* 0.1226666 (- age 69.87427439))\n     (get {0 0\n           1 0.6382002} charlson-comorbidity))\n  )\n(comment\n  (pi-npcm {:age 70 :charlson-comorbidity 0})\n  ; => 0.015422333111626427\n  )\n\n\n; using 'days' instead of 'time' so as not to shadow the clojure 'time' function\n(defn days [t] (* 365 t))\n\n#_(comment\n    ; generate baseline mortality (though I don't go on to use this!?)\n    ; ok to bind 'time' to a local\n    (defn bs-PCSM [time]\n      \"exp(-17.03262 + 1311.891*(time^-2) + 1.726887*(ln(time)))\"\n      (exp (+ -17.03262\n              (* 1311.891 (pow time -2))\n              (* 1.726887 (ln time))))\n      )\n    (comment\n      (bs-PCSM (days 10))\n      ;=> 0.05682600500436472 (year 10)\n      )\n\n    (defn bs-NPCM [time]\n      \"exp(-12.45735 + 1.317565*(ln(time)) + 3.01e-12*(time^3))\"\n      (exp (+ -12.45735\n              (* 1.317565 (ln time))\n              (* 3.01e-12 (pow time 3))))\n      )\n    (comment\n      (bs-NPCM (days 10))\n      ;=> 0.22231086828716715 (year 10)\n      ))\n\n\n;gen PCS mortality, then per year, then convert to survival per year...\n(defn pcsm-at-t [time pi]\n  \"1 - exp(-exp(pi-pcsm)*exp(-17.03262 + 1311.891*(time^-2) + 1.726887*(ln(time))))\"\n  (+ 1\n     (- (exp (* (- (exp pi))\n                (exp (+ -16.40532\n                        (* 1.653947 (ln time))\n                        (* 1.89e-12 (pow time 3)))))))))\n(comment\n  (pcsm-at-t (days 10)))\n\n(defn f [{:keys [n a b c]\n          :or   {c 3 n 10}\n          :as   foo}]\n  [foo c n])\n\n\n(defn npcm-at-t [time pi]\n  \"1 - exp(-exp(piNPCM)*exp(-12.45735 + 1.317565*(ln(time)) + 3.01e-12*(time^3)))\"\n  (+ 1\n     (- (exp (* (- (exp pi))\n                (exp (+ -12.4841\n                        (* 1.32274 (ln time))\n                        (* 2.90e-12 (pow time 3)))))))))    ; 3.01e-12 !!!!\n\n(defn run-prostate [{:keys [n age grade-group psa t-stage charlson-comorbidity primary-rx protect biopsy50]\n                     :as   args}]\n\n  (let [;defaults {:n 10 :age 45 :grade-group 5 :psa 85 :t-stage 3 :charlson-comorbidity 1 :primary-rx 0 :protect 0 :biopsy50 0}\n\n\n\n        ;calculate the PCSM prognostic index (pi)\n        piPCSM (pi-pcsm args)\n        ; 1.4757039089297683\n\n        ;calculate the NPCM progostic index (pi)\n        piNPCM (pi-npcm args)\n        ;-3.0577425859727\n\n        ;\n        ; gen PCS mortality, then per year, then convert to survival per year... L 36\n        ;\n        PCSMatT (map #(pcsm-at-t (days %) piPCSM) (range 1 (inc n)))\n        ; (0.004696368826957453 0.015348535722248369 0.030632249443662052 0.049821202973259204 0.0723622401089552 0.09778069760891961 0.1256472677385151 0.1555640347706816 0.1871582391504335 0.22007959169657776)\n\n        PCSM-mortrate-year (deltas 0 PCSMatT)\n        ; [0.004696368826957453 0.010652166895290915 0.015283713721413683 0.019188953529597153 0.022541037135695996 0.02541845749996441 0.02786657012959548 0.029916767032166502 0.03159420437975191 0.032921352546144256]\n\n        PCS-survival-year (map #(- 1 %) PCSM-mortrate-year)\n        ; (0.9953036311730425 0.9893478331047091 0.9847162862785863 0.9808110464704028 0.977458962864304 0.9745815425000356 0.9721334298704045 0.9700832329678335 0.9684057956202481 0.9670786474538557)\n\n        ;\n        ; do the same for NPCM... L 49\n        ;\n        NPCMatT (map #(npcm-at-t (days %) piNPCM) (range 1 (inc n)))\n        ; (0.0008435940967794764 0.0021034450705306185 0.003596050109458959 0.005277474404832394 0.007138103010569274 0.009188519090954417 0.011455884009952233 0.013983784428835522 0.016834044593207587 0.02009025121514263)\n\n        NPCM-mortrate-year (deltas 0 NPCMatT)\n        ; [0.0008435940967794764 0.001259850973751142 0.0014926050389283407 0.0016814242953734349 0.0018606286057368804 0.0020504160803851423 0.0022673649189978162 0.0025279004188832888 0.002850260164372065 0.0032562066219350427]\n\n        NPC-survival-year (map #(- 1 %) NPCM-mortrate-year)\n        ; (0.9991564059032205 0.9987401490262489 0.9985073949610717 0.9983185757046266 0.9981393713942631 0.9979495839196149 0.9977326350810022 0.9974720995811167 0.9971497398356279 0.996743793378065)\n\n        ;\n        ;generate survivals\n        ;\n        PCSsurvival (map #(- 1 %) PCSMatT)\n        ;(0.9953036311730425 0.9846514642777516 0.969367750556338 0.9501787970267408 0.9276377598910448 0.9022193023910804 0.8743527322614849 0.8444359652293184 0.8128417608495665 0.7799204083034222)\n\n        NPCsurvival (map #(- 1 %) NPCMatT)\n        ;(0.9991564059032205 0.9978965549294694 0.996403949890541 0.9947225255951676 0.9928618969894307 0.9908114809090456 0.9885441159900478 0.9860162155711645 0.9831659554067924 0.9799097487848574)\n\n        ;\n        ;'all cause mortality'\n        ;\n        allcauseM (map #(- 1 (* %1 %2)) PCSsurvival NPCsurvival)\n        ;(0.005535976336812465 0.01741962778769468 0.03411802269051689 0.05483556505613563 0.0789835662715267 0.1060704395470139 0.1356633605530203 0.16737197747451704 0.20084110431861169 0.23574775252364877)\n\n        allcauseM-inyear (deltas 0 allcauseM)\n        ; [0.005535976336812465 0.011883651450882216 0.01669839490282221 0.020717542365618735 0.02414800121539107 0.0270868732754872 0.029592921006006412 0.031708616921496735 0.03346912684409464 0.03490664820503708]\n\n        ;\n        ; proportion of all cause mortality\n        ;\n        proportionPC-cum (map #(/ %1 (+ %1 %2)) PCSMatT NPCMatT)\n        ;(0.847729484591698 0.8794759072130388 0.8949425549607571 0.9042209129145304 0.9102159857565977 0.914104283009165 0.9164463078642722 0.9175260631086086 0.9174800914362404 0.9163529292704825)\n\n        proportionPC (map #(/ %1 (+ %1 %2)) PCSM-mortrate-year NPCM-mortrate-year)\n        ;(0.847729484591698 0.8942403133741444 0.9110321082436409 0.9194378035322059 0.9237527851534536 0.9253577797910928 0.9247600090270526 0.9220888423039323 0.9172538025684129 0.9099972624769542)\n\n        ; this makes more sense to me, but the prostate code (line 121) suggests this should be*allcauseM_inyear ??why??\n        propn-NPC (map #(- 1 %) proportionPC)\n        ;(0.15227432175853584 0.10576301912922303 0.08897095127071308 0.0805651104869638 0.07625006528048706 0.07464507324581204 0.07524290854617943 0.07791420339558741 0.08274944035552734 0.0900062551706945)\n\n        ;\n        ; *PC mortality as competing risk\n        ;\n        pred-PC-year (map #(* %1 %2) proportionPC allcauseM-inyear)\n        ;(0.004693010282765466 0.01062683944561739 0.015212771614112598 0.01904848684638193 0.022306775075572483 0.02506503606101867 0.027366331363946138 0.029238136411749632 0.03069965006915814 0.03176491052736049)\n\n        pred-PC-cum (reductions + pred-PC-year)\n        ;(0.004693010282765466 0.015319849728382854 0.03053262134249545 0.049581108188877385 0.07188788326444986 0.09695291932546854 0.12431925068941468 0.15355738710116432 0.18425703717032246 0.21602194769768296)\n\n        ;\n        ; *NPC Mortality as competing risk\n        ;\n        pred-NPC-year (map #(* %1 %2) propn-NPC allcauseM-inyear)\n        ; (0.0008429908119527243 0.001256855450638569 0.001485676844069427 0.0016691159590441862 0.0018412916653964386 0.0020219068365977025 0.00222666296597377 0.0024705576375669007 0.002769558258234278 0.0031418245000532172)\n\n        pred-NPC-cum (reductions + pred-NPC-year)\n        ; (0.0008429908119527243 0.002099846262591293 0.0035855231066607204 0.005254639065704907 0.0070959307311013456 0.009117837567699048 0.011344500533672818 0.013815058171239718 0.016584616429473995 0.01972644092952721)\n\n        overall-survival (map #(* 100 (- 1 (+ %1 %2))) pred-NPC-cum pred-PC-cum)\n        ; (99.44639989052818 98.25803040090258 96.58818555508438 94.51642527454177 92.10161860044488 89.39292431068324 86.43362487769124 83.2627554727596 79.91583464002035 76.42516113727899)\n        NPCM (map #(- 100 (* % 100)) pred-PC-cum)\n        ; (99.53069897172345 98.46801502716171 96.94673786575045 95.04188918111227 92.81121167355501 90.30470806745315 87.56807493105853 84.64426128988357 81.57429628296775 78.39780523023171)\n        ]\n    (array-map\n      ;; unused\n      ;:piPCSM piPCSM\n      ;:piNPCM piNPCM\n      ;:PCSMatT (map #(pcsm-at-t (days %) piPCSM) (range 1 16))\n      ;:PCSM_mortrate_year PCSM-mortrate-year\n      ;:NPCMatT NPCMatT\n      ;:NPCM-mortrate-year NPCM-mortrate-year\n      ;:NPCsurvival NPCsurvival\n      :PCSsurvival PCSsurvival\n\n      ;; used\n      :pred-PC-cum (cons 0 pred-PC-cum)\n      :pred-NPC-cum (cons 0 pred-NPC-cum)\n      :NPC-survival (cons 1 NPCsurvival)\n      )\n\n    )\n  )\n\n(comment\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 0\n                 :primary-rx           0\n                 :biopsy50             0\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 1\n                 :primary-rx           0\n                 :biopsy50             0\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 1\n                 :primary-rx           1\n                 :biopsy50             0\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 1\n                 :primary-rx           1\n                 :biopsy50             1\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  95\n                 :grade-group          4\n                 :psa                  10\n                 :t-stage              3\n                 :charlson-comorbidity 0\n                 :primary-rx           1\n                 :biopsy50             2\n                 })\n  )","~:reader-features",["^F",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings","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","names",["predict-prostate.models.prostate-release/exp","js/Math.exp","predict-prostate.models.prostate-release/ln","js/Math.log","predict-prostate.models.prostate-release/pow","js/Math.pow","predict-prostate.models.prostate-release/abs","js/Math.abs","p__31737","map__31738","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","predict-prostate.models.prostate-release/pi-pcsm","age","psa","t-stage","grade-group","primary-rx","brca","biopsy50","biopsy-done","biopsy-cores-involved","biopsy-cores-taken","inputs","ppc","and__4115__auto__","cljs.core._EQ_","G__31760","G__31761","G__31762","js/Math.sqrt","p__31775","map__31776","predict-prostate.models.prostate-release/pi-npcm","charlson-comorbidity","predict-prostate.models.prostate-release/days","t","predict-prostate.models.prostate-release/pcsm-at-t","time","pi","G__31792","G__31794","p__31795","map__31796","predict-prostate.models.prostate-release/f","n","a","b","c","foo","predict-prostate.models.prostate-release/npcm-at-t","G__31800","G__31802","p__31826","map__31827","predict-prostate.models.prostate-release/run-prostate","protect","args","piPCSM","piNPCM","PCSMatT","p1__31805#","cljs.core.map","cljs.core.range","PCSM-mortrate-year","common.utils/deltas","PCS-survival-year","p1__31806#","NPCMatT","p1__31807#","NPCM-mortrate-year","NPC-survival-year","p1__31808#","PCSsurvival","p1__31809#","NPCsurvival","p1__31810#","allcauseM","p1__31811#","p2__31812#","allcauseM-inyear","proportionPC-cum","p1__31813#","p2__31814#","proportionPC","p1__31815#","p2__31816#","propn-NPC","p1__31817#","pred-PC-year","p1__31818#","p2__31819#","pred-PC-cum","cljs.core.reductions","cljs.core/+","pred-NPC-year","p1__31820#","p2__31821#","pred-NPC-cum","overall-survival","p1__31822#","p2__31823#","NPCM","p1__31824#","cljs.core/PersistentArrayMap","cljs.core/cons"]],"~:used-vars",["^F",["~$predict-prostate.models.prostate-release/pi-npcm","~$predict-prostate.models.prostate-release/npcm-at-t","~$js/Math.sqrt","~$cljs.core/PersistentArrayMap","~$predict-prostate.models.prostate-release/f","~$js/Math.pow","~$js/Math.exp","~$predict-prostate.models.prostate-release/exp","~$predict-prostate.models.prostate-release/abs","~$predict-prostate.models.prostate-release/pcsm-at-t","~$js/Math.abs","~$predict-prostate.models.prostate-release/days","~$predict-prostate.models.prostate-release/run-prostate","~$cljs.core/get","~$predict-prostate.models.prostate-release/pi-pcsm","~$js/Math.log","~$cljs.core/cons","~$predict-prostate.models.prostate-release/ln","~$predict-prostate.models.prostate-release/pow"]]],"~:cache-keys",["~#cmap",[["^16","goog/dom/tagname.js"],["6025affb7181cd40418600864f58eed1ea80055d","~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^F",[]],"~:deps-syms",["^P","~$goog.dom.HtmlElement"]]],["^16","goog/math/math.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","~$goog.array","~$goog.asserts"]]],["^16","goog/html/trustedtypes.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/labs/useragent/browser.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","~$goog.labs.userAgent.util","~$goog.object","~$goog.string.internal"]]],["^16","goog/html/safeurl.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^24"]]],["^16","common/utils.cljs"],["11bf38210ca45253e8d82ee36df08e8d79f363a7","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^O"]]],["^16","goog/array/array.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21"]]],["^16","goog/debug/error.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/dom/nodetype.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/string/typedstring.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/object/object.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/dom/asserts.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21"]]],"~:SHADOW-TIMESTAMP",[1635266348000,1635266348000,1634894918000],["^16","goog/math/long.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21","~$goog.reflect"]]],["^16","goog/html/trustedresourceurl.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21","~$goog.html.trustedtypes","^27","^28","^29","^2:"]]],["^16","goog/string/internal.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/functions/functions.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/html/safestyle.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","^21","~$goog.html.SafeUrl","^29","^2:","^24"]]],["^16","goog/dom/safe.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","~$goog.html.SafeScript","~$goog.html.SafeStyle","^2>","^26","~$goog.html.uncheckedconversions","^29","^24"]]],["^16","goog/structs/map.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^16","goog/html/safehtml.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","^21","~$goog.dom.TagName","~$goog.dom.tags","^2B","^2C","~$goog.html.SafeStyleSheet","^2>","^26","^2=","^27","^28","~$goog.labs.userAgent.browser","^23","^29","^2:","^24"]]],["^16","goog/dom/tags.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^23"]]],["^16","goog/asserts/asserts.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^16","goog/uri/uri.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","^21","~$goog.string","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^16","goog/i18n/bidi.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","predict_prostate/models/prostate_release.cljs"],["af2753b181c9118cd9af850721b74c6634e47f26","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^O","^M","^N"]]],["^16","goog/fs/url.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/base.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",[]]],["^16","goog/structs/structs.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","^23"]]],["^16","goog/string/string.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","~$goog.dom.safe","^2D","^29","^24"]]],["^16","goog/reflect/reflect.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/labs/useragent/util.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^24"]]],["^16","common/data_frame.cljs"],["5d3818dd44b99fe53158200df93b70522cbd1884","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^O"]]],["^16","goog/string/stringbuffer.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","goog/iter/iter.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","^21","^2@","~$goog.math"]]],["^16","goog/html/uncheckedconversions.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21","^2A","^2B","^2C","^2I","^2>","^26","^29","^24"]]],["^16","goog/dom/htmlelement.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P"]]],["^16","cljs/core.cljs"],["9f9729dbbf9b814c83dc189977b447d2ae92b6cd","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","~$goog.math.Long","~$goog.math.Integer","^2M","^23","^20","~$goog.Uri","~$goog.string.StringBuffer"]]],["^16","goog/html/safescript.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21","^2=","^29","^2:"]]],["^16","goog/html/safestylesheet.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","^21","^2C","^23","^29","^2:","^24"]]],["^16","goog/math/integer.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^2<"]]],["^16","goog/uri/utils.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^20","^21","^2M"]]],["^16","goog/string/const.js"],["6025affb7181cd40418600864f58eed1ea80055d","^1W",["^ ","^1X",null,"^1Y",["^F",[]],"^1Z",["^P","^21","^2:"]]]]],"~:clj-info",["^ ","jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1634893165000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/reader_types.clj",1634894917000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/externs.clj",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/analyzer.cljc",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/core.cljc",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/env.cljc",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/compiler.cljc",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/js_deps.cljc",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1634893165000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1634893165000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/tagged_literals.cljc",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/source_map/base64.clj",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/data.json/1.0.0/data.json-1.0.0.jar!/clojure/data/json.clj",1634894917000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1634893165000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1634893165000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1634893165000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/impl/inspect.clj",1634894917000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader.clj",1634894917000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/source_map.clj",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1634893165000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/default_data_readers.clj",1634894917000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/util.cljc",1634894918000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.3/tools.reader-1.3.3.jar!/clojure/tools/reader/impl/errors.clj",1634894917000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.773/clojurescript-1.10.773.jar!/cljs/source_map/base64_vlq.clj",1634894918000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",1,"^8",5,"^9",1,"^:",45],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",null,"^E",["^F",[]],"~:shadow/js-access-properties",["^F",["pow","log","exp","sqrt","abs"]],"^G","^H","^K",null,"^L",["^ ","^M","^M","^N","^N","^O","^O","^P","^P"],"^Q",["^F",["^R"]],"~:shadow/js-access-global",["^F",["Math"]],"^S",["^ ","^T","^M","^U","^M","^V","^M","^W","^M","^X","^N"],"~:defs",["^ ","~$ln",["^ ","^G","^1S","^6","predict_prostate/models/prostate_release.cljs","^7",7,"^8",1,"^9",7,"^:",8,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",7,"^8",6,"^9",7,"^:",8],"~:tag","~$js"],"~$pow",["^ ","^G","^1T","^6","predict_prostate/models/prostate_release.cljs","^7",8,"^8",1,"^9",8,"^:",9,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",8,"^8",6,"^9",8,"^:",9],"^3K","^3L"],"~$exp",["^ ","^G","^1I","^6","predict_prostate/models/prostate_release.cljs","^7",6,"^8",1,"^9",6,"^:",9,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",6,"^8",6,"^9",6,"^:",9],"^3K","^3L"],"~$pcsm-at-t",["^ ","~:protocol-inline",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",94,"^8",7,"^9",94,"^:",16,"~:arglists",["^[",["~$quote",["^[",[["~$time","~$pi"]]]]]],"^G","^1K","^6","predict_prostate/models/prostate_release.cljs","^:",16,"~:method-params",["^[",[["^3S","^3T"]]],"~:protocol-impl",null,"~:arglists-meta",["^[",[null,null]],"^8",1,"~:variadic?",false,"^7",94,"~:ret-tag","~$number","^9",94,"~:max-fixed-arity",2,"~:fn-var",true,"^3Q",["^[",["^3R",["^[",[["^3S","^3T"]]]]]],"~$days",["^ ","^3P",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",65,"^8",7,"^9",65,"^:",11,"^3Q",["^[",["^3R",["^[",[["~$t"]]]]]],"^G","^1M","^6","predict_prostate/models/prostate_release.cljs","^:",11,"^3U",["^[",[["~$t"]]],"^3V",null,"^3W",["^[",[null,null]],"^8",1,"^3X",false,"^7",65,"^3Y","^3Z","^9",65,"^3[",1,"^40",true,"^3Q",["^[",["^3R",["^[",[["~$t"]]]]]],"~$run-prostate",["^ ","^3P",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",118,"^8",7,"^9",118,"^:",19,"^3Q",["^[",["^3R",["^[",[[["^ ","~:keys",["~$n","~$age","~$grade-group","~$psa","~$t-stage","~$charlson-comorbidity","~$primary-rx","~$protect","~$biopsy50"],"~:as","~$args"]]]]]]],"^G","^1N","^6","predict_prostate/models/prostate_release.cljs","^:",19,"^3U",["^[",[["~$p__31826"]]],"^3V",null,"^3W",["^[",[null,null]],"^8",1,"^3X",false,"^7",118,"^3Y","^1E","^9",118,"^3[",1,"^40",true,"^3Q",["^[",["^3R",["^[",[[["^ ","^43",["~$n","^44","^45","^46","^47","^48","^49","^4:","^4;"],"^4<","^4="]]]]]]],"~$pi-npcm",["^ ","^3P",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",52,"^8",7,"^9",52,"^:",14,"^3Q",["^[",["^3R",["^[",[[["^ ","^43",["^44","^48"]]]]]]]],"^G","^1B","^6","predict_prostate/models/prostate_release.cljs","^:",14,"^3U",["^[",[["~$p__31775"]]],"^3V",null,"^3W",["^[",[null,null]],"^8",1,"^3X",false,"^7",52,"^3Y","^3Z","^9",52,"^3[",1,"^40",true,"^3Q",["^[",["^3R",["^[",[[["^ ","^43",["^44","^48"]]]]]]]],"~$pi-pcsm",["^ ","^3P",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",13,"^8",7,"^9",13,"^:",14,"^3Q",["^[",["^3R",["^[",[[["^ ","^43",["^44","^46","^47","^45","^49","~$brca","^4;","~$biopsy-done","~$biopsy-cores-involved","~$biopsy-cores-taken"],"^4<","~$inputs"]]]]]]],"^G","^1P","^6","predict_prostate/models/prostate_release.cljs","^:",14,"^3U",["^[",[["~$p__31737"]]],"^3V",null,"^3W",["^[",[null,null]],"^8",1,"^3X",false,"^7",13,"^3Y","^3Z","^9",13,"^3[",1,"^40",true,"^3Q",["^[",["^3R",["^[",[[["^ ","^43",["^44","^46","^47","^45","^49","^4B","^4;","^4C","^4D","^4E"],"^4<","^4F"]]]]]]],"~$abs",["^ ","^G","^1J","^6","predict_prostate/models/prostate_release.cljs","^7",9,"^8",1,"^9",9,"^:",9,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",9,"^8",6,"^9",9,"^:",9],"^3K","^3L"],"~$npcm-at-t",["^ ","^3P",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",110,"^8",7,"^9",110,"^:",16,"^3Q",["^[",["^3R",["^[",[["^3S","^3T"]]]]]],"^G","^1C","^6","predict_prostate/models/prostate_release.cljs","^:",16,"^3U",["^[",[["^3S","^3T"]]],"^3V",null,"^3W",["^[",[null,null]],"^8",1,"^3X",false,"^7",110,"^3Y","^3Z","^9",110,"^3[",2,"^40",true,"^3Q",["^[",["^3R",["^[",[["^3S","^3T"]]]]]],"~$f",["^ ","^3P",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",104,"^8",7,"^9",104,"^:",8,"^3Q",["^[",["^3R",["^[",[[["^ ","^43",["~$n","~$a","~$b","~$c"],"~:or",["^ ","~$c",3,"~$n",10],"^4<","~$foo"]]]]]]],"^G","^1F","^6","predict_prostate/models/prostate_release.cljs","^:",8,"^3U",["^[",[["~$p__31795"]]],"^3V",null,"^3W",["^[",[null,null]],"^8",1,"^3X",false,"^7",104,"^3Y","~$cljs.core/IVector","^9",104,"^3[",1,"^40",true,"^3Q",["^[",["^3R",["^[",[[["^ ","^43",["~$n","~$a","~$b","~$c"],"^4J",["^ ","~$c",3,"~$n",10],"^4<","^4K"]]]]]]]],"^Y",["^ ","^O","^O"],"~:cljs.analyzer/constants",["^ ","^Q",["^F",["~:protect","~:age","~:NPC-survival","~:pred-NPC-cum","~:PCSsurvival","~:n","~:biopsy50","~:pred-PC-cum","~:psa","~:biopsy-cores-involved","~:c","~:biopsy-done","~:charlson-comorbidity","~:biopsy-cores-taken","~:b","~:primary-rx","~:t-stage","~:grade-group","~:brca","~:a"]],"~:order",["^51","^52","^4P","^4T","^4V","^4W","^4X","^4Z","^4[","^50","^4Y","~:n","~:a","~:b","~:c","^4O","^4S","^4U","^4R","^4Q"]],"^12",["^ ","^R",["^F",[]]],"^13",["^ "],"^14",["^P","^O","^M","^N"]],"^J","^H","~:ns-specs",["^ "],"~:ns-spec-vars",["^F",[]],"~:compiler-options",["^1V",[["^56","~:static-fns"],true,["^56","~:shadow-tweaks"],null,["^56","~:source-map-inline"],null,["^56","~:elide-asserts"],false,["^56","~:optimize-constants"],null,["^56","^19"],null,["^56","~:external-config"],null,["^56","~:tooling-config"],null,["^56","~:emit-constants"],null,["^56","~:load-tests"],null,["^56","~:form-size-threshold"],null,["^56","~:data-readers"],null,["^56","~:infer-externs"],"~:auto",["^56","^1;"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^56","~:fn-invoke-direct"],null,["^56","~:source-map"],"/dev/null"]]]