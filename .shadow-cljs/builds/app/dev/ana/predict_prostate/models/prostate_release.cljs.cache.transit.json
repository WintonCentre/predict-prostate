["^ ","~:output",["^ ","~:js","goog.provide('predict_prostate.models.prostate_release');\npredict_prostate.models.prostate_release.exp = Math.exp;\npredict_prostate.models.prostate_release.ln = Math.log;\npredict_prostate.models.prostate_release.pow = Math.pow;\npredict_prostate.models.prostate_release.abs = Math.abs;\npredict_prostate.models.prostate_release.pi_pcsm = (function predict_prostate$models$prostate_release$pi_pcsm(p__43251){\nvar map__43252 = p__43251;\nvar map__43252__$1 = cljs.core.__destructure_map(map__43252);\nvar inputs = map__43252__$1;\nvar grade_group = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"grade-group\",\"grade-group\",-1255212518));\nvar brca = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"brca\",\"brca\",-1943532098));\nvar age = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"age\",\"age\",-604307804));\nvar biopsy50 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"biopsy50\",\"biopsy50\",-1232179703));\nvar psa = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"psa\",\"psa\",-321761459));\nvar biopsy_cores_involved = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"biopsy-cores-involved\",\"biopsy-cores-involved\",1324361520));\nvar biopsy_done = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"biopsy-done\",\"biopsy-done\",-1332187565));\nvar biopsy_cores_taken = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"biopsy-cores-taken\",\"biopsy-cores-taken\",-1514658666));\nvar primary_rx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"primary-rx\",\"primary-rx\",-1656848904));\nvar t_stage = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43252__$1,new cljs.core.Keyword(null,\"t-stage\",\"t-stage\",-1315750984));\n\nvar ppc = (cljs.core.truth_((function (){var and__4210__auto__ = biopsy_cores_involved;\nif(cljs.core.truth_(and__4210__auto__)){\nvar and__4210__auto____$1 = biopsy_cores_taken;\nif(cljs.core.truth_(and__4210__auto____$1)){\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((1),biopsy_done);\n} else {\nreturn and__4210__auto____$1;\n}\n} else {\nreturn and__4210__auto__;\n}\n})())?((100) * (biopsy_cores_involved / biopsy_cores_taken)):41.9415);\nreturn (((((((0.0026005 * ((function (){var G__43253 = (age / (10));\nvar G__43254 = (3);\nreturn (predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2 ? predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2(G__43253,G__43254) : predict_prostate.models.prostate_release.pow.call(null,G__43253,G__43254));\n})() - 341.155151)) + (0.185959 * ((function (){var G__43255 = ((psa + (1)) / (100));\nreturn (predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(G__43255) : predict_prostate.models.prostate_release.ln.call(null,G__43255));\n})() + 1.636423432))) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 4, [(1),(0),(2),0.1614922,(3),0.39767881,(4),0.6330977], null),t_stage)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 5, [(1),(0),(2),0.2791641,(3),0.5464889,(4),0.7411321,(5),1.367963], null),grade_group)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 4, [0.9,(predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(0.35) : predict_prostate.models.prostate_release.ln.call(null,0.35)),(1),-0.6837094,1.1,(predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(0.67) : predict_prostate.models.prostate_release.ln.call(null,0.67)),(3),0.9084921], null),primary_rx)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 4, [null,(0),(0),(0),(1),0.956,(2),(0)], null),brca)) + ((Math.sqrt(((ppc + 0.1811159) / (100))) - 0.649019) * 1.890134));\n});\npredict_prostate.models.prostate_release.pi_npcm = (function predict_prostate$models$prostate_release$pi_npcm(p__43256){\nvar map__43257 = p__43256;\nvar map__43257__$1 = cljs.core.__destructure_map(map__43257);\nvar age = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43257__$1,new cljs.core.Keyword(null,\"age\",\"age\",-604307804));\nvar charlson_comorbidity = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43257__$1,new cljs.core.Keyword(null,\"charlson-comorbidity\",\"charlson-comorbidity\",-633596907));\n\nreturn ((0.1226666 * (age - 69.87427439)) + cljs.core.get.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentArrayMap(null, 2, [(0),(0),(1),0.6382002], null),charlson_comorbidity));\n});\npredict_prostate.models.prostate_release.days = (function predict_prostate$models$prostate_release$days(t){\nreturn ((365) * t);\n});\npredict_prostate.models.prostate_release.pcsm_at_t = (function predict_prostate$models$prostate_release$pcsm_at_t(time,pi){\n\nreturn ((1) + (- (function (){var G__43267 = ((- (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(pi) : predict_prostate.models.prostate_release.exp.call(null,pi))) * (function (){var G__43268 = ((-16.40532 + (1.653947 * (predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(time) : predict_prostate.models.prostate_release.ln.call(null,time)))) + (1.89E-12 * (predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2 ? predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2(time,(3)) : predict_prostate.models.prostate_release.pow.call(null,time,(3)))));\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__43268) : predict_prostate.models.prostate_release.exp.call(null,G__43268));\n})());\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__43267) : predict_prostate.models.prostate_release.exp.call(null,G__43267));\n})()));\n});\npredict_prostate.models.prostate_release.f = (function predict_prostate$models$prostate_release$f(p__43282){\nvar map__43283 = p__43282;\nvar map__43283__$1 = cljs.core.__destructure_map(map__43283);\nvar foo = map__43283__$1;\nvar n = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__43283__$1,new cljs.core.Keyword(null,\"n\",\"n\",562130025),(10));\nvar a = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43283__$1,new cljs.core.Keyword(null,\"a\",\"a\",-2123407586));\nvar b = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43283__$1,new cljs.core.Keyword(null,\"b\",\"b\",1482224470));\nvar c = cljs.core.get.cljs$core$IFn$_invoke$arity$3(map__43283__$1,new cljs.core.Keyword(null,\"c\",\"c\",-1763192079),(3));\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [foo,c,n], null);\n});\npredict_prostate.models.prostate_release.npcm_at_t = (function predict_prostate$models$prostate_release$npcm_at_t(time,pi){\n\nreturn ((1) + (- (function (){var G__43289 = ((- (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(pi) : predict_prostate.models.prostate_release.exp.call(null,pi))) * (function (){var G__43290 = ((-12.4841 + (1.32274 * (predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.ln.cljs$core$IFn$_invoke$arity$1(time) : predict_prostate.models.prostate_release.ln.call(null,time)))) + (2.9E-12 * (predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2 ? predict_prostate.models.prostate_release.pow.cljs$core$IFn$_invoke$arity$2(time,(3)) : predict_prostate.models.prostate_release.pow.call(null,time,(3)))));\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__43290) : predict_prostate.models.prostate_release.exp.call(null,G__43290));\n})());\nreturn (predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.models.prostate_release.exp.cljs$core$IFn$_invoke$arity$1(G__43289) : predict_prostate.models.prostate_release.exp.call(null,G__43289));\n})()));\n});\npredict_prostate.models.prostate_release.run_prostate = (function predict_prostate$models$prostate_release$run_prostate(p__43322){\nvar map__43323 = p__43322;\nvar map__43323__$1 = cljs.core.__destructure_map(map__43323);\nvar args = map__43323__$1;\nvar grade_group = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"grade-group\",\"grade-group\",-1255212518));\nvar protect = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"protect\",\"protect\",-67966332));\nvar age = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"age\",\"age\",-604307804));\nvar biopsy50 = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"biopsy50\",\"biopsy50\",-1232179703));\nvar n = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"n\",\"n\",562130025));\nvar psa = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"psa\",\"psa\",-321761459));\nvar charlson_comorbidity = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"charlson-comorbidity\",\"charlson-comorbidity\",-633596907));\nvar primary_rx = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"primary-rx\",\"primary-rx\",-1656848904));\nvar t_stage = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__43323__$1,new cljs.core.Keyword(null,\"t-stage\",\"t-stage\",-1315750984));\nvar piPCSM = predict_prostate.models.prostate_release.pi_pcsm(args);\nvar piNPCM = predict_prostate.models.prostate_release.pi_npcm(args);\nvar PCSMatT = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43293_SHARP_){\nreturn predict_prostate.models.prostate_release.pcsm_at_t(predict_prostate.models.prostate_release.days(p1__43293_SHARP_),piPCSM);\n}),cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(n + (1))));\nvar PCSM_mortrate_year = common.utils.deltas((0),PCSMatT);\nvar PCS_survival_year = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43298_SHARP_){\nreturn ((1) - p1__43298_SHARP_);\n}),PCSM_mortrate_year);\nvar NPCMatT = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43302_SHARP_){\nreturn predict_prostate.models.prostate_release.npcm_at_t(predict_prostate.models.prostate_release.days(p1__43302_SHARP_),piNPCM);\n}),cljs.core.range.cljs$core$IFn$_invoke$arity$2((1),(n + (1))));\nvar NPCM_mortrate_year = common.utils.deltas((0),NPCMatT);\nvar NPC_survival_year = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43305_SHARP_){\nreturn ((1) - p1__43305_SHARP_);\n}),NPCM_mortrate_year);\nvar PCSsurvival = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43306_SHARP_){\nreturn ((1) - p1__43306_SHARP_);\n}),PCSMatT);\nvar NPCsurvival = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43307_SHARP_){\nreturn ((1) - p1__43307_SHARP_);\n}),NPCMatT);\nvar allcauseM = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__43308_SHARP_,p2__43309_SHARP_){\nreturn ((1) - (p1__43308_SHARP_ * p2__43309_SHARP_));\n}),PCSsurvival,NPCsurvival);\nvar allcauseM_inyear = common.utils.deltas((0),allcauseM);\nvar proportionPC_cum = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__43310_SHARP_,p2__43311_SHARP_){\nreturn (p1__43310_SHARP_ / (p1__43310_SHARP_ + p2__43311_SHARP_));\n}),PCSMatT,NPCMatT);\nvar proportionPC = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__43312_SHARP_,p2__43313_SHARP_){\nreturn (p1__43312_SHARP_ / (p1__43312_SHARP_ + p2__43313_SHARP_));\n}),PCSM_mortrate_year,NPCM_mortrate_year);\nvar propn_NPC = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43314_SHARP_){\nreturn ((1) - p1__43314_SHARP_);\n}),proportionPC);\nvar pred_PC_year = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__43315_SHARP_,p2__43316_SHARP_){\nreturn (p1__43315_SHARP_ * p2__43316_SHARP_);\n}),proportionPC,allcauseM_inyear);\nvar pred_PC_cum = cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(cljs.core._PLUS_,pred_PC_year);\nvar pred_NPC_year = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__43317_SHARP_,p2__43318_SHARP_){\nreturn (p1__43317_SHARP_ * p2__43318_SHARP_);\n}),propn_NPC,allcauseM_inyear);\nvar pred_NPC_cum = cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(cljs.core._PLUS_,pred_NPC_year);\nvar overall_survival = cljs.core.map.cljs$core$IFn$_invoke$arity$3((function (p1__43319_SHARP_,p2__43320_SHARP_){\nreturn ((100) * ((1) - (p1__43319_SHARP_ + p2__43320_SHARP_)));\n}),pred_NPC_cum,pred_PC_cum);\nvar NPCM = cljs.core.map.cljs$core$IFn$_invoke$arity$2((function (p1__43321_SHARP_){\nreturn ((100) - (p1__43321_SHARP_ * (100)));\n}),pred_PC_cum);\nreturn (new cljs.core.PersistentArrayMap(null,(4),[new cljs.core.Keyword(null,\"PCSsurvival\",\"PCSsurvival\",1208128423),PCSsurvival,new cljs.core.Keyword(null,\"pred-PC-cum\",\"pred-PC-cum\",1965177836),cljs.core.cons((0),pred_PC_cum),new cljs.core.Keyword(null,\"pred-NPC-cum\",\"pred-NPC-cum\",-1636287417),cljs.core.cons((0),pred_NPC_cum),new cljs.core.Keyword(null,\"NPC-survival\",\"NPC-survival\",-1399930619),cljs.core.cons((1),NPCsurvival)],null));\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","predict_prostate/models/prostate_release.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",45],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$clojure.pprint","~$cljs.pprint","~$clojure.spec.alpha","~$cljs.spec.alpha"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:name","~$predict-prostate.models.prostate-release","~:reader-aliases",["^ "],"~:op","~:ns","~:imports",null,"~:requires",["^ ","~$common.data-frame","^L","~$common.utils","^M","~$cljs.core","^N","~$goog","^O"],"~:seen",["^D",["~:require"]],"~:uses",["^ ","~$cell-apply","^L","~$cell-update","^L","~$cell-sums","^L","~$cell-diffs","^L","~$deltas","^M"],"~:require-macros",["^ ","^N","^N"],"~:form",["~#list",["~$ns","^F",["^Z",["^Q",["^L","~:refer",["^S","^T","^U","^V"]],["^M","^10",["^W"]]]]]],"~:flags",["^ ","^Q",["^D",[]]],"~:js-deps",["^ "],"~:deps",["^O","^N","^L","^M"]],"^I","^F","~:resource-id",["~:shadow.build.classpath/resource","predict_prostate/models/prostate_release.cljs"],"~:compiled-at",1648475980686,"^G",["^ ","^L","^L","^M","^M","^N","^N","^O","^O"],"~:resource-name","predict_prostate/models/prostate_release.cljs","~:warnings",[],"~:source","(ns predict-prostate.models.prostate-release\n  (:require [common.data-frame :refer [cell-apply cell-update cell-sums cell-diffs]]\n            [common.utils :refer [deltas]]\n            ))\n\n(def exp js/Math.exp)\n(def ln js/Math.log)\n(def pow js/Math.pow)\n(def abs js/Math.abs)\n\n\n; stata L 21\n(defn pi-pcsm [{:keys [age psa t-stage grade-group primary-rx brca biopsy50 biopsy-done biopsy-cores-involved biopsy-cores-taken] :as inputs}]\n  \"gen pi-pcsm = 0.0026005*((age/10)^3-341.155151) + 0.185959*(ln((psa+1)/100)+1.636423432) + .1614922*(t_stage==2) + .39767881*(t_stage==3) + .6330977*(t_stage==4) + .2791641*(gradegroup==2) + .5464889*(gradegroup==3) + .7411321*(gradegroup==4) + 1.367963*(gradegroup==5) + -.6837094*(primaryRx==1) + .9084921*(primaryRx==3) -0.617722958*(biopsy50==1) + 0.579225231*(biopsy50==2) +(((PPC+0.1811159)/100)^.5-.649019)*1.890134 \\n\"\n  (let [ppc (if (and biopsy-cores-involved biopsy-cores-taken (= 1 biopsy-done))\n              (* 100 (/ biopsy-cores-involved biopsy-cores-taken))\n              41.9415)]\n\n    ;(println \"inputs = \" inputs)\n\n    (+ (* 0.0026005 (- (pow (/ age 10) 3) 341.155151))\n      (* 0.185959 (+ (ln (/ (inc psa) 100)) 1.636423432))\n      (get {1 0\n            2 0.1614922\n            3 0.39767881\n            4 0.6330977} t-stage)\n      (get {1 0\n            2 0.2791641\n            3 0.5464889\n            4 0.7411321\n            5 1.367963} grade-group)\n      (get {0.9 (ln 0.35)                                   ; radical low (now log 0.38) (was log 0.35)  ;todo uncertainty\n            1   -0.6837094\n            1.1 (ln 0.67)                                   ; radical high (now log 0.67) (was log 0.67) ;todo uncertainty\n            3   0.9084921} primary-rx)\n      #_(get {1 -0.617722958\n            2 0.579225231} biopsy50)\n      (get {nil 0\n            0 0\n            1 0.956\n            2 0} brca)\n      (* (- (js/Math.sqrt (/ (+ ppc 0.1811159) 100)) 0.649019) 1.890134)\n      )\n\n\n    ))\n(comment\n  (pi-pcsm {:age 70 :psa 10 :t-stage 2 :grade-group 2 :primary-rx 0  :biopsy50 0 :brca 0 :ppc 41.9415})\n  ;=> 0.3392995824130641\n  )\n\n(defn pi-npcm [{:keys [age charlson-comorbidity]}]\n  \"gen pi-npcm = 0.1229245*(age-69.8749646) + 0.6640308*(charlson_comorbidity==1)\"\n  (+ (* 0.1226666 (- age 69.87427439))\n     (get {0 0\n           1 0.6382002} charlson-comorbidity))\n  )\n(comment\n  (pi-npcm {:age 70 :charlson-comorbidity 0})\n  ; => 0.015422333111626427\n  )\n\n\n; using 'days' instead of 'time' so as not to shadow the clojure 'time' function\n(defn days [t] (* 365 t))\n\n#_(comment\n    ; generate baseline mortality (though I don't go on to use this!?)\n    ; ok to bind 'time' to a local\n    (defn bs-PCSM [time]\n      \"exp(-17.03262 + 1311.891*(time^-2) + 1.726887*(ln(time)))\"\n      (exp (+ -17.03262\n              (* 1311.891 (pow time -2))\n              (* 1.726887 (ln time))))\n      )\n    (comment\n      (bs-PCSM (days 10))\n      ;=> 0.05682600500436472 (year 10)\n      )\n\n    (defn bs-NPCM [time]\n      \"exp(-12.45735 + 1.317565*(ln(time)) + 3.01e-12*(time^3))\"\n      (exp (+ -12.45735\n              (* 1.317565 (ln time))\n              (* 3.01e-12 (pow time 3))))\n      )\n    (comment\n      (bs-NPCM (days 10))\n      ;=> 0.22231086828716715 (year 10)\n      ))\n\n\n;gen PCS mortality, then per year, then convert to survival per year...\n(defn pcsm-at-t [time pi]\n  \"1 - exp(-exp(pi-pcsm)*exp(-17.03262 + 1311.891*(time^-2) + 1.726887*(ln(time))))\"\n  (+ 1\n     (- (exp (* (- (exp pi))\n                (exp (+ -16.40532\n                        (* 1.653947 (ln time))\n                        (* 1.89e-12 (pow time 3)))))))))\n(comment\n  (pcsm-at-t (days 10) Math/PI))\n\n(defn f [{:keys [n a b c]\n          :or   {c 3 n 10}\n          :as   foo}]\n  [foo c n])\n\n\n(defn npcm-at-t [time pi]\n  \"1 - exp(-exp(piNPCM)*exp(-12.45735 + 1.317565*(ln(time)) + 3.01e-12*(time^3)))\"\n  (+ 1\n     (- (exp (* (- (exp pi))\n                (exp (+ -12.4841\n                        (* 1.32274 (ln time))\n                        (* 2.90e-12 (pow time 3)))))))))    ; 3.01e-12 !!!!\n\n(defn run-prostate [{:keys [n age grade-group psa t-stage charlson-comorbidity primary-rx protect biopsy50]\n                     :as   args}]\n\n  (let [;defaults {:n 10 :age 45 :grade-group 5 :psa 85 :t-stage 3 :charlson-comorbidity 1 :primary-rx 0 :protect 0 :biopsy50 0}\n\n\n\n        ;calculate the PCSM prognostic index (pi)\n        piPCSM (pi-pcsm args)\n        ; 1.4757039089297683\n\n        ;calculate the NPCM progostic index (pi)\n        piNPCM (pi-npcm args)\n        ;-3.0577425859727\n\n        ;\n        ; gen PCS mortality, then per year, then convert to survival per year... L 36\n        ;\n        PCSMatT (map #(pcsm-at-t (days %) piPCSM) (range 1 (inc n)))\n        ; (0.004696368826957453 0.015348535722248369 0.030632249443662052 0.049821202973259204 0.0723622401089552 0.09778069760891961 0.1256472677385151 0.1555640347706816 0.1871582391504335 0.22007959169657776)\n\n        PCSM-mortrate-year (deltas 0 PCSMatT)\n        ; [0.004696368826957453 0.010652166895290915 0.015283713721413683 0.019188953529597153 0.022541037135695996 0.02541845749996441 0.02786657012959548 0.029916767032166502 0.03159420437975191 0.032921352546144256]\n\n        PCS-survival-year (map #(- 1 %) PCSM-mortrate-year)\n        ; (0.9953036311730425 0.9893478331047091 0.9847162862785863 0.9808110464704028 0.977458962864304 0.9745815425000356 0.9721334298704045 0.9700832329678335 0.9684057956202481 0.9670786474538557)\n\n        ;\n        ; do the same for NPCM... L 49\n        ;\n        NPCMatT (map #(npcm-at-t (days %) piNPCM) (range 1 (inc n)))\n        ; (0.0008435940967794764 0.0021034450705306185 0.003596050109458959 0.005277474404832394 0.007138103010569274 0.009188519090954417 0.011455884009952233 0.013983784428835522 0.016834044593207587 0.02009025121514263)\n\n        NPCM-mortrate-year (deltas 0 NPCMatT)\n        ; [0.0008435940967794764 0.001259850973751142 0.0014926050389283407 0.0016814242953734349 0.0018606286057368804 0.0020504160803851423 0.0022673649189978162 0.0025279004188832888 0.002850260164372065 0.0032562066219350427]\n\n        NPC-survival-year (map #(- 1 %) NPCM-mortrate-year)\n        ; (0.9991564059032205 0.9987401490262489 0.9985073949610717 0.9983185757046266 0.9981393713942631 0.9979495839196149 0.9977326350810022 0.9974720995811167 0.9971497398356279 0.996743793378065)\n\n        ;\n        ;generate survivals\n        ;\n        PCSsurvival (map #(- 1 %) PCSMatT)\n        ;(0.9953036311730425 0.9846514642777516 0.969367750556338 0.9501787970267408 0.9276377598910448 0.9022193023910804 0.8743527322614849 0.8444359652293184 0.8128417608495665 0.7799204083034222)\n\n        NPCsurvival (map #(- 1 %) NPCMatT)\n        ;(0.9991564059032205 0.9978965549294694 0.996403949890541 0.9947225255951676 0.9928618969894307 0.9908114809090456 0.9885441159900478 0.9860162155711645 0.9831659554067924 0.9799097487848574)\n\n        ;\n        ;'all cause mortality'\n        ;\n        allcauseM (map #(- 1 (* %1 %2)) PCSsurvival NPCsurvival)\n        ;(0.005535976336812465 0.01741962778769468 0.03411802269051689 0.05483556505613563 0.0789835662715267 0.1060704395470139 0.1356633605530203 0.16737197747451704 0.20084110431861169 0.23574775252364877)\n\n        allcauseM-inyear (deltas 0 allcauseM)\n        ; [0.005535976336812465 0.011883651450882216 0.01669839490282221 0.020717542365618735 0.02414800121539107 0.0270868732754872 0.029592921006006412 0.031708616921496735 0.03346912684409464 0.03490664820503708]\n\n        ;\n        ; proportion of all cause mortality\n        ;\n        proportionPC-cum (map #(/ %1 (+ %1 %2)) PCSMatT NPCMatT)\n        ;(0.847729484591698 0.8794759072130388 0.8949425549607571 0.9042209129145304 0.9102159857565977 0.914104283009165 0.9164463078642722 0.9175260631086086 0.9174800914362404 0.9163529292704825)\n\n        proportionPC (map #(/ %1 (+ %1 %2)) PCSM-mortrate-year NPCM-mortrate-year)\n        ;(0.847729484591698 0.8942403133741444 0.9110321082436409 0.9194378035322059 0.9237527851534536 0.9253577797910928 0.9247600090270526 0.9220888423039323 0.9172538025684129 0.9099972624769542)\n\n        ; this makes more sense to me, but the prostate code (line 121) suggests this should be*allcauseM_inyear ??why??\n        propn-NPC (map #(- 1 %) proportionPC)\n        ;(0.15227432175853584 0.10576301912922303 0.08897095127071308 0.0805651104869638 0.07625006528048706 0.07464507324581204 0.07524290854617943 0.07791420339558741 0.08274944035552734 0.0900062551706945)\n\n        ;\n        ; *PC mortality as competing risk\n        ;\n        pred-PC-year (map #(* %1 %2) proportionPC allcauseM-inyear)\n        ;(0.004693010282765466 0.01062683944561739 0.015212771614112598 0.01904848684638193 0.022306775075572483 0.02506503606101867 0.027366331363946138 0.029238136411749632 0.03069965006915814 0.03176491052736049)\n\n        pred-PC-cum (reductions + pred-PC-year)\n        ;(0.004693010282765466 0.015319849728382854 0.03053262134249545 0.049581108188877385 0.07188788326444986 0.09695291932546854 0.12431925068941468 0.15355738710116432 0.18425703717032246 0.21602194769768296)\n\n        ;\n        ; *NPC Mortality as competing risk\n        ;\n        pred-NPC-year (map #(* %1 %2) propn-NPC allcauseM-inyear)\n        ; (0.0008429908119527243 0.001256855450638569 0.001485676844069427 0.0016691159590441862 0.0018412916653964386 0.0020219068365977025 0.00222666296597377 0.0024705576375669007 0.002769558258234278 0.0031418245000532172)\n\n        pred-NPC-cum (reductions + pred-NPC-year)\n        ; (0.0008429908119527243 0.002099846262591293 0.0035855231066607204 0.005254639065704907 0.0070959307311013456 0.009117837567699048 0.011344500533672818 0.013815058171239718 0.016584616429473995 0.01972644092952721)\n\n        overall-survival (map #(* 100 (- 1 (+ %1 %2))) pred-NPC-cum pred-PC-cum)\n        ; (99.44639989052818 98.25803040090258 96.58818555508438 94.51642527454177 92.10161860044488 89.39292431068324 86.43362487769124 83.2627554727596 79.91583464002035 76.42516113727899)\n        NPCM (map #(- 100 (* % 100)) pred-PC-cum)\n        ; (99.53069897172345 98.46801502716171 96.94673786575045 95.04188918111227 92.81121167355501 90.30470806745315 87.56807493105853 84.64426128988357 81.57429628296775 78.39780523023171)\n        ]\n    (array-map\n      ;; unused\n      ;:piPCSM piPCSM\n      ;:piNPCM piNPCM\n      ;:PCSMatT (map #(pcsm-at-t (days %) piPCSM) (range 1 16))\n      ;:PCSM_mortrate_year PCSM-mortrate-year\n      ;:NPCMatT NPCMatT\n      ;:NPCM-mortrate-year NPCM-mortrate-year\n      ;:NPCsurvival NPCsurvival\n      :PCSsurvival PCSsurvival\n\n      ;; used\n      :pred-PC-cum (cons 0 pred-PC-cum)\n      :pred-NPC-cum (cons 0 pred-NPC-cum)\n      :NPC-survival (cons 1 NPCsurvival)\n      )\n\n    )\n  )\n\n(comment\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 0\n                 :primary-rx           0\n                 :biopsy50             0\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 1\n                 :primary-rx           0\n                 :biopsy50             0\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 1\n                 :primary-rx           1\n                 :biopsy50             0\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  65\n                 :grade-group          4\n                 :psa                  11\n                 :t-stage              2\n                 :charlson-comorbidity 1\n                 :primary-rx           1\n                 :biopsy50             1\n                 })\n\n  (run-prostate {:n                    15\n                 :age                  95\n                 :grade-group          4\n                 :psa                  10\n                 :t-stage              3\n                 :charlson-comorbidity 0\n                 :primary-rx           1\n                 :biopsy50             2\n                 })\n  )","~:reader-features",["^D",["~:cljs"]],"~:cljc",false,"~:source-map-compact",["^ ","mappings",";AAKA,AAAKA,+CAAIC;AACT,AAAKC,8CAAGC;AACR,AAAKC,+CAAIC;AACT,AAAKC,+CAAIC;AAIT,mDAAA,2DAAAC,9GAAMI;AAAN,AAAA,IAAAH,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;aAAAA,TAAsIc;kBAAtI,AAAAZ,4CAAAF,eAAA,zEAAuCO;WAAvC,AAAAL,4CAAAF,eAAA,lEAA8DS;UAA9D,AAAAP,4CAAAF,eAAA,jEAAuBI;eAAvB,AAAAF,4CAAAF,eAAA,tEAAmEU;UAAnE,AAAAR,4CAAAF,eAAA,jEAA2BK;4BAA3B,AAAAH,4CAAAF,eAAA,nFAAwFY;kBAAxF,AAAAV,4CAAAF,eAAA,zEAA4EW;yBAA5E,AAAAT,4CAAAF,eAAA,hFAA8Ga;iBAA9G,AAAAX,4CAAAF,eAAA,xEAAmDQ;cAAnD,AAAAN,4CAAAF,eAAA,rEAA+BM;AAA/B,AAAA;AAEE,IAAMS,MAAI,kBAAI,iBAAAC,oBAAKJ;AAAL,AAAA,oBAAAI;AAAA,IAAAA,wBAA2BH;AAA3B,AAAA,oBAAAG;AAA8C,oDAAA,7CAACC,iDAAIN;;AAAnDK;;;AAAAA;;6DAAJ,vDACE,CAAA,QAAO,CAAGJ,wBAAsBC;AAD5C,AAME,QAAA,CAAA,CAAA,CAAA,CAAA,CAAG,CAAA,YAAa,CAAG,iBAAAK,WAAK,OAAA,NAAGd;IAARe,WAAA;AAAA,AAAA,gKAAAD,SAAAC,mEAAAD,SAAAC,7OAACxB,6EAAAA,gGAAAA;OAAJ,eACd,CAAA,WAAY,CAAG,iBAAAyB,WAAI,eAAA,dAAG,OAAA,NAAKf;AAAZ,AAAA,8JAAAe,kEAAAA,xNAAC3B,4EAAAA,sFAAAA;OAAJ,iBACZ,4CAAA,2CAAA,IAAA,IAAA,IAAA,UAAA,IAAA,WAAA,IAAA,hIAACS,kJAGkBI,YACnB,4CAAA,2CAAA,IAAA,IAAA,IAAA,UAAA,IAAA,UAAA,IAAA,UAAA,IAAA,7IAACJ,8JAIiBK,gBAClB,4CAAA,2CAAA,gOAAA,IAAA,WAAA,gOAAA,IAAA,1iBAACL,2FAAS,uJAAA,8DAAA,pNAACT,4EAAAA,kFAAAA,gFAED,uJAAA,8DAAA,pNAACA,4EAAAA,kFAAAA,mFACUe,eAGrB,4CAAA,2CAAA,KAAA,IAAA,IAAA,IAAA,IAAA,MAAA,IAAA,tHAACN,kIAGUO,SACX,uDAAA,tDAAG,0CAAA,zCAAG,AAACY,UAAa,qBAAA,pBAAG,OAAA,NAAGN;;AAKhC,AAKA,mDAAA,2DAAAO,9GAAME;AAAN,AAAA,IAAAD,aAAAD;IAAAC,iBAAA,AAAAtB,4BAAAsB;UAAA,AAAArB,4CAAAqB,eAAA,jEAAuBnB;2BAAvB,AAAAF,4CAAAqB,eAAA,lFAA2BE;AAA3B,AAAA;AAEE,QAAG,CAAA,YAAa,OAAA,NAAGrB,sBAChB,4CAAA,2CAAA,IAAA,IAAA,IAAA,nGAACF,qHACkBuB;;AAExB,AAOA,gDAAA,hDAAMC,wGAAMC;AAAZ,AAAe,QAAA,QAAOA;;AA6BtB,qDAAA,rDAAMC,kHAAWC,KAAKC;AAAtB,AAAA;AAEE,QAAA,MACG,GAAG,iBAAAC,WAAK,CAAG,GAAG,CAACxC,6EAAAA,iFAAAA,NAAIuC,6DAAAA,QACR,iBAAAE,WAAK,CAAA,CAAA,YACG,CAAA,WAAY,CAACvC,4EAAAA,kFAAAA,RAAGoC,8DAAAA,WAChB,CAAA,WAAY,8JAAA,mEAAA,hOAAClC,6EAAAA,uFAAAA,ZAAIkC,mEAAAA;AAFzB,AAAA,gKAAAG,mEAAAA,3NAACzC,6EAAAA,uFAAAA;;AADT,AAAA,gKAAAwC,mEAAAA,3NAACxC,6EAAAA,uFAAAA;;;AAIT,AAGA,6CAAA,qDAAA0C,lGAAME;AAAN,AAAA,IAAAD,aAAAD;IAAAC,iBAAA,AAAAjC,4BAAAiC;UAAAA,NAEgBM;QAFhB,AAAAtC,4CAAAgC,eAAA,8CAAA,7GAAiBE;QAAjB,AAAAlC,4CAAAgC,eAAA,/DAAmBG;QAAnB,AAAAnC,4CAAAgC,eAAA,/DAAqBI;QAArB,AAAApC,4CAAAgC,eAAA,gDAAA,/GAAuBK;AAAvB,AAAA,0FAGGC,IAAID,EAAEH;;AAGT,qDAAA,rDAAMK,kHAAWZ,KAAKC;AAAtB,AAAA;AAEE,QAAA,MACG,GAAG,iBAAAY,WAAK,CAAG,GAAG,CAACnD,6EAAAA,iFAAAA,NAAIuC,6DAAAA,QACR,iBAAAa,WAAK,CAAA,CAAA,WACG,CAAA,UAAW,CAAClD,4EAAAA,kFAAAA,RAAGoC,8DAAAA,WACf,CAAA,UAAY,8JAAA,mEAAA,hOAAClC,6EAAAA,uFAAAA,ZAAIkC,mEAAAA;AAFzB,AAAA,gKAAAc,mEAAAA,3NAACpD,6EAAAA,uFAAAA;;AADT,AAAA,gKAAAmD,mEAAAA,3NAACnD,6EAAAA,uFAAAA;;;AAKT,wDAAA,gEAAAqD,xHAAME;AAAN,AAAA,IAAAD,aAAAD;IAAAC,iBAAA,AAAA5C,4BAAA4C;WAAAA,PAC2BG;kBAD3B,AAAA9C,4CAAA2C,eAAA,zEAAkCtC;cAAlC,AAAAL,4CAAA2C,eAAA,rEAA0FE;UAA1F,AAAA7C,4CAAA2C,eAAA,jEAA8BzC;eAA9B,AAAAF,4CAAA2C,eAAA,tEAAkGnC;QAAlG,AAAAR,4CAAA2C,eAAA,/DAA4BT;UAA5B,AAAAlC,4CAAA2C,eAAA,jEAA8CxC;2BAA9C,AAAAH,4CAAA2C,eAAA,lFAA0DpB;iBAA1D,AAAAvB,4CAAA2C,eAAA,xEAA+ErC;cAA/E,AAAAN,4CAAA2C,eAAA,rEAAkDvC;AAAlD,AAGE,IAKM2C,SAAO,AAAC9C,iDAAQ6C;IAIhBE,SAAO,AAAC1B,iDAAQwB;IAMhBG,UAAQ,4CAAA,WAAAC,vDAACC;AAAD,AAAM,OAACzB,mDAAU,8CAAAwB,9CAAC1B,gEAAQuB;GAAQ,8CAAA,9CAACK,kDAAQ,KAAA,JAAKlB;IAGxDmB,qBAAmB,oBAAA,pBAACC,wBAASL;IAG7BM,oBAAkB,4CAAA,WAAAC,vDAACL;AAAD,AAAM,QAAA,MAAAK;GAAQH;IAMhCI,UAAQ,4CAAA,WAAAC,vDAACP;AAAD,AAAM,OAACZ,mDAAU,8CAAAmB,9CAAClC,gEAAQwB;GAAQ,8CAAA,9CAACI,kDAAQ,KAAA,JAAKlB;IAGxDyB,qBAAmB,oBAAA,pBAACL,wBAASG;IAG7BG,oBAAkB,4CAAA,WAAAC,vDAACV;AAAD,AAAM,QAAA,MAAAU;GAAQF;IAMhCG,cAAY,4CAAA,WAAAC,vDAACZ;AAAD,AAAM,QAAA,MAAAY;GAAQd;IAG1Be,cAAY,4CAAA,WAAAC,vDAACd;AAAD,AAAM,QAAA,MAAAc;GAAQR;IAM1BS,YAAU,4CAAA,WAAAC,iBAAAC,xEAACjB;AAAD,AAAM,QAAA,MAAK,CAAAgB,mBAAAC;GAAWN,YAAYE;IAG5CK,mBAAiB,oBAAA,pBAACf,wBAASY;IAM3BI,mBAAiB,4CAAA,WAAAC,iBAAAC,xEAACrB;AAAD,AAAM,QAAAoB,mBAAM,CAAAA,mBAAAC;GAAWvB,QAAQQ;IAGhDgB,eAAa,4CAAA,WAAAC,iBAAAC,xEAACxB;AAAD,AAAM,QAAAuB,mBAAM,CAAAA,mBAAAC;GAAWtB,mBAAmBM;IAIvDiB,YAAU,4CAAA,WAAAC,vDAAC1B;AAAD,AAAM,QAAA,MAAA0B;GAAQJ;IAMxBK,eAAa,4CAAA,WAAAC,iBAAAC,xEAAC7B;AAAD,AAAM,QAAA4B,mBAAAC;GAAUP,aAAaJ;IAG1CY,cAAY,AAACC,mDAAWC,iBAAEL;IAM1BM,gBAAc,4CAAA,WAAAC,iBAAAC,xEAACnC;AAAD,AAAM,QAAAkC,mBAAAC;GAAUV,UAAUP;IAGxCkB,eAAa,AAACL,mDAAWC,iBAAEC;IAG3BI,mBAAiB,4CAAA,WAAAC,iBAAAC,xEAACvC;AAAD,AAAM,QAAA,QAAO,CAAA,MAAK,CAAAsC,mBAAAC;GAAYH,aAAaN;IAE5DU,OAAK,4CAAA,WAAAC,vDAACzC;AAAD,AAAM,QAAA,QAAO,CAAAyC,mBAAA;GAAWX;AAvFnC,AA0FE,YAAAY,6BAAA,KAAA,IAAA,CAAA,+EAAA,mGAAA,uGAAA,uGAAA,7TASe/B,+EAGA,eAAA,fAACgC,mBAAOb,mFACP,eAAA,fAACa,mBAAOP,oFACR,eAAA,fAACO,mBAAO9B;;AAM5B","names",["predict-prostate.models.prostate-release/exp","js/Math.exp","predict-prostate.models.prostate-release/ln","js/Math.log","predict-prostate.models.prostate-release/pow","js/Math.pow","predict-prostate.models.prostate-release/abs","js/Math.abs","p__43251","map__43252","cljs.core/--destructure-map","cljs.core.get","predict-prostate.models.prostate-release/pi-pcsm","age","psa","t-stage","grade-group","primary-rx","brca","biopsy50","biopsy-done","biopsy-cores-involved","biopsy-cores-taken","inputs","ppc","and__4210__auto__","cljs.core._EQ_","G__43253","G__43254","G__43255","js/Math.sqrt","p__43256","map__43257","predict-prostate.models.prostate-release/pi-npcm","charlson-comorbidity","predict-prostate.models.prostate-release/days","t","predict-prostate.models.prostate-release/pcsm-at-t","time","pi","G__43267","G__43268","p__43282","map__43283","predict-prostate.models.prostate-release/f","n","a","b","c","foo","predict-prostate.models.prostate-release/npcm-at-t","G__43289","G__43290","p__43322","map__43323","predict-prostate.models.prostate-release/run-prostate","protect","args","piPCSM","piNPCM","PCSMatT","p1__43293#","cljs.core.map","cljs.core.range","PCSM-mortrate-year","common.utils/deltas","PCS-survival-year","p1__43298#","NPCMatT","p1__43302#","NPCM-mortrate-year","NPC-survival-year","p1__43305#","PCSsurvival","p1__43306#","NPCsurvival","p1__43307#","allcauseM","p1__43308#","p2__43309#","allcauseM-inyear","proportionPC-cum","p1__43310#","p2__43311#","proportionPC","p1__43312#","p2__43313#","propn-NPC","p1__43314#","pred-PC-year","p1__43315#","p2__43316#","pred-PC-cum","cljs.core.reductions","cljs.core/+","pred-NPC-year","p1__43317#","p2__43318#","pred-NPC-cum","overall-survival","p1__43319#","p2__43320#","NPCM","p1__43321#","cljs.core/PersistentArrayMap","cljs.core/cons"]],"~:used-vars",["^D",["~$cljs.core/--destructure-map","~$predict-prostate.models.prostate-release/pi-npcm","~$predict-prostate.models.prostate-release/npcm-at-t","~$js/Math.sqrt","~$cljs.core/PersistentArrayMap","~$cljs.core/=","~$predict-prostate.models.prostate-release/f","~$js/Math.pow","~$js/Math.exp","~$predict-prostate.models.prostate-release/exp","~$predict-prostate.models.prostate-release/abs","~$predict-prostate.models.prostate-release/pcsm-at-t","~$cljs.core/map","~$js/Math.abs","~$predict-prostate.models.prostate-release/days","~$predict-prostate.models.prostate-release/run-prostate","~$cljs.core/get","~$common.utils/deltas","~$predict-prostate.models.prostate-release/pi-pcsm","~$js/Math.log","~$cljs.core/reductions","~$cljs.core/cons","~$cljs.core/range","~$predict-prostate.models.prostate-release/ln","~$predict-prostate.models.prostate-release/pow","~$cljs.core/+"]]],"~:cache-keys",["~#cmap",[["^15","goog/dom/tagname.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^D",[]],"~:deps-syms",["^O","~$goog.dom.HtmlElement"]]],["^15","goog/math/math.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","~$goog.array","~$goog.asserts"]]],["^15","goog/html/trustedtypes.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/labs/useragent/browser.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^26","~$goog.labs.userAgent.util","~$goog.object","~$goog.string.internal"]]],["^15","goog/html/safeurl.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^2:"]]],["^15","common/utils.cljs"],["11bf38210ca45253e8d82ee36df08e8d79f363a7","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^N"]]],["^15","goog/array/array.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27"]]],["^15","goog/debug/error.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/dom/nodetype.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/string/typedstring.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/object/object.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/dom/asserts.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27"]]],"~:SHADOW-TIMESTAMP",[1647940543000,1647940543000,1633031471000],["^15","goog/math/long.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27","~$goog.reflect"]]],["^15","goog/html/trustedresourceurl.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27","~$goog.fs.blob","^2;","~$goog.html.SafeScript","~$goog.html.trustedtypes","^2=","^2>","^2?","^2@"]]],["^15","goog/string/internal.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/functions/functions.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/html/safestyle.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^26","^27","~$goog.html.SafeUrl","^2?","^2@","^2:"]]],["^15","goog/dom/safe.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","^2D","~$goog.html.SafeStyle","^2F","^2<","~$goog.html.uncheckedconversions","^2?","^2:"]]],["^15","goog/structs/map.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^15","goog/html/safehtml.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^26","^27","~$goog.dom.TagName","~$goog.dom.tags","^2D","^2J","~$goog.html.SafeStyleSheet","^2F","^2<","^2E","^2=","^2>","~$goog.labs.userAgent.browser","^29","^2?","^2@","^2:"]]],["^15","goog/dom/tags.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^29"]]],["^15","goog/fs/blob.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^26"]]],["^15","goog/asserts/asserts.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^15","goog/uri/uri.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^26","^27","~$goog.string","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^15","goog/i18n/bidi.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","predict_prostate/models/prostate_release.cljs"],["a41e8a6ed61ada5549b2dfebc6fbfb8c1e429e9c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^N","^L","^M"]]],["^15","goog/fs/url.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/base.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",[]]],["^15","goog/structs/structs.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^26","^29"]]],["^15","goog/string/string.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","~$goog.dom.safe","^2K","^2?","^2:"]]],["^15","goog/reflect/reflect.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/labs/useragent/util.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^2:"]]],["^15","common/data_frame.cljs"],["5d3818dd44b99fe53158200df93b70522cbd1884","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^N"]]],["^15","goog/string/stringbuffer.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","goog/iter/iter.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^26","^27","^2H","~$goog.math"]]],["^15","goog/html/uncheckedconversions.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27","^2I","^2D","^2J","^2P","^2F","^2<","^2?","^2:","^2="]]],["^15","goog/dom/htmlelement.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O"]]],["^15","cljs/core.cljs"],["528fbd795675bc73c189ce8a8429415f03165a3b","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","~$goog.math.Long","~$goog.math.Integer","^2T","^29","^26","~$goog.Uri","~$goog.string.StringBuffer"]]],["^15","goog/html/safescript.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^2?","^2@","^2E","^27"]]],["^15","goog/html/safestylesheet.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^2?","^2J","^2@","^26","^29","^27","^2:"]]],["^15","goog/math/integer.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^2B"]]],["^15","goog/uri/utils.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27","^2T"]]],["^15","goog/string/const.js"],["b8c673dd84d8ed85c6d857e28afee5524a0ef82c","^21",["^ ","^22",null,"^23",["^D",[]],"^24",["^O","^27","^2@"]]]]],"~:clj-info",["^ ","jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/core.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/env.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/analyzer.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/js_deps.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/impl/inspect.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/reader_types.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/analyzer/passes.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/default_data_readers.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/impl/errors.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/source_map/base64_vlq.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/analyzer/passes/and_or.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.3/clojure-1.10.3.jar!/clojure/set.clj",1633011066000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/tagged_literals.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/instant.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.3/clojure-1.10.3.jar!/clojure/core.clj",1633011066000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/compiler.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/analyzer/impl.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.3/clojure-1.10.3.jar!/clojure/instant.clj",1633011066000,"jar:file:/Users/mehdi/.m2/repository/binaryage/devtools/1.0.4/devtools-1.0.4.jar!/devtools/defaults.clj",1648121537000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/util.cljc",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/source_map.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.3/clojure-1.10.3.jar!/clojure/java/io.clj",1633011066000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/source_map/base64.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.3/clojure-1.10.3.jar!/clojure/string.clj",1633011066000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.3/clojure-1.10.3.jar!/clojure/edn.clj",1633011066000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/data.json/2.4.0/data.json-2.4.0.jar!/clojure/data/json.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojurescript/1.10.879/clojurescript-1.10.879.jar!/cljs/externs.clj",1633031471000,"jar:file:/Users/mehdi/.m2/repository/org/clojure/clojure/1.10.3/clojure-1.10.3.jar!/clojure/pprint.clj",1633011066000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",1,"^8",5,"^9",1,"^:",45],"^;",["^ ","^<","^=","^>","^?","^@","^A"],"^B",null,"^C",["^D",[]],"~:shadow/js-access-properties",["^D",["pow","log","exp","sqrt","abs"]],"^E","^F","^G",["^ "],"^J",null,"^K",["^ ","^L","^L","^M","^M","^N","^N","^O","^O"],"^P",["^D",["^Q"]],"~:shadow/js-access-global",["^D",["Math"]],"^R",["^ ","^S","^L","^T","^L","^U","^L","^V","^L","^W","^M"],"~:defs",["^ ","~$ln",["^ ","^E","^1X","^6","predict_prostate/models/prostate_release.cljs","^7",7,"^8",1,"^9",7,"^:",8,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",7,"^8",6,"^9",7,"^:",8],"~:tag","~$js"],"~$pow",["^ ","^E","^1Y","^6","predict_prostate/models/prostate_release.cljs","^7",8,"^8",1,"^9",8,"^:",9,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",8,"^8",6,"^9",8,"^:",9],"^3W","^3X"],"~$exp",["^ ","^E","^1J","^6","predict_prostate/models/prostate_release.cljs","^7",6,"^8",1,"^9",6,"^:",9,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",6,"^8",6,"^9",6,"^:",9],"^3W","^3X"],"~$pcsm-at-t",["^ ","~:protocol-inline",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",94,"^8",7,"^9",94,"^:",16,"~:arglists",["^Z",["~$quote",["^Z",[["~$time","~$pi"]]]]]],"^E","^1L","^6","predict_prostate/models/prostate_release.cljs","^:",16,"~:method-params",["^Z",[["^43","^44"]]],"~:protocol-impl",null,"~:arglists-meta",["^Z",[null,null]],"^8",1,"~:variadic?",false,"^7",94,"~:ret-tag","~$number","^9",94,"~:max-fixed-arity",2,"~:fn-var",true,"^41",["^Z",["^42",["^Z",[["^43","^44"]]]]]],"~$days",["^ ","^40",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",65,"^8",7,"^9",65,"^:",11,"^41",["^Z",["^42",["^Z",[["~$t"]]]]]],"^E","^1O","^6","predict_prostate/models/prostate_release.cljs","^:",11,"^45",["^Z",[["~$t"]]],"^46",null,"^47",["^Z",[null,null]],"^8",1,"^48",false,"^7",65,"^49","^4:","^9",65,"^4;",1,"^4<",true,"^41",["^Z",["^42",["^Z",[["~$t"]]]]]],"~$run-prostate",["^ ","^40",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",118,"^8",7,"^9",118,"^:",19,"^41",["^Z",["^42",["^Z",[[["^ ","~:keys",["~$n","~$age","~$grade-group","~$psa","~$t-stage","~$charlson-comorbidity","~$primary-rx","~$protect","~$biopsy50"],"~:as","~$args"]]]]]]],"^E","^1P","^6","predict_prostate/models/prostate_release.cljs","^:",19,"^45",["^Z",[["~$p__43322"]]],"^46",null,"^47",["^Z",[null,null]],"^8",1,"^48",false,"^7",118,"^49","^1E","^9",118,"^4;",1,"^4<",true,"^41",["^Z",["^42",["^Z",[[["^ ","^4?",["~$n","^4@","^4A","^4B","^4C","^4D","^4E","^4F","^4G"],"^4H","^4I"]]]]]]],"~$pi-npcm",["^ ","^40",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",52,"^8",7,"^9",52,"^:",14,"^41",["^Z",["^42",["^Z",[[["^ ","^4?",["^4@","^4D"]]]]]]]],"^E","^1B","^6","predict_prostate/models/prostate_release.cljs","^:",14,"^45",["^Z",[["~$p__43256"]]],"^46",null,"^47",["^Z",[null,null]],"^8",1,"^48",false,"^7",52,"^49","^4:","^9",52,"^4;",1,"^4<",true,"^41",["^Z",["^42",["^Z",[[["^ ","^4?",["^4@","^4D"]]]]]]]],"~$pi-pcsm",["^ ","^40",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",13,"^8",7,"^9",13,"^:",14,"^41",["^Z",["^42",["^Z",[[["^ ","^4?",["^4@","^4B","^4C","^4A","^4E","~$brca","^4G","~$biopsy-done","~$biopsy-cores-involved","~$biopsy-cores-taken"],"^4H","~$inputs"]]]]]]],"^E","^1S","^6","predict_prostate/models/prostate_release.cljs","^:",14,"^45",["^Z",[["~$p__43251"]]],"^46",null,"^47",["^Z",[null,null]],"^8",1,"^48",false,"^7",13,"^49","^4:","^9",13,"^4;",1,"^4<",true,"^41",["^Z",["^42",["^Z",[[["^ ","^4?",["^4@","^4B","^4C","^4A","^4E","^4N","^4G","^4O","^4P","^4Q"],"^4H","^4R"]]]]]]],"~$abs",["^ ","^E","^1K","^6","predict_prostate/models/prostate_release.cljs","^7",9,"^8",1,"^9",9,"^:",9,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",9,"^8",6,"^9",9,"^:",9],"^3W","^3X"],"~$npcm-at-t",["^ ","^40",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",110,"^8",7,"^9",110,"^:",16,"^41",["^Z",["^42",["^Z",[["^43","^44"]]]]]],"^E","^1C","^6","predict_prostate/models/prostate_release.cljs","^:",16,"^45",["^Z",[["^43","^44"]]],"^46",null,"^47",["^Z",[null,null]],"^8",1,"^48",false,"^7",110,"^49","^4:","^9",110,"^4;",2,"^4<",true,"^41",["^Z",["^42",["^Z",[["^43","^44"]]]]]],"~$f",["^ ","^40",null,"^5",["^ ","^6","predict_prostate/models/prostate_release.cljs","^7",104,"^8",7,"^9",104,"^:",8,"^41",["^Z",["^42",["^Z",[[["^ ","^4?",["~$n","~$a","~$b","~$c"],"~:or",["^ ","~$c",3,"~$n",10],"^4H","~$foo"]]]]]]],"^E","^1G","^6","predict_prostate/models/prostate_release.cljs","^:",8,"^45",["^Z",[["~$p__43282"]]],"^46",null,"^47",["^Z",[null,null]],"^8",1,"^48",false,"^7",104,"^49","~$cljs.core/IVector","^9",104,"^4;",1,"^4<",true,"^41",["^Z",["^42",["^Z",[[["^ ","^4?",["~$n","~$a","~$b","~$c"],"^4V",["^ ","~$c",3,"~$n",10],"^4H","^4W"]]]]]]]],"^X",["^ ","^N","^N"],"~:cljs.analyzer/constants",["^ ","^P",["^D",["~:protect","~:age","~:NPC-survival","~:pred-NPC-cum","~:PCSsurvival","~:n","~:biopsy50","~:pred-PC-cum","~:psa","~:biopsy-cores-involved","~:c","~:biopsy-done","~:charlson-comorbidity","~:biopsy-cores-taken","~:b","~:primary-rx","~:t-stage","~:grade-group","~:brca","~:a"]],"~:order",["^5=","^5>","^50","^54","^56","^57","^58","^5:","^5;","^5<","^59","~:n","~:a","~:b","~:c","^4[","^53","^55","^52","^51"]],"^11",["^ ","^Q",["^D",[]]],"^12",["^ "],"^13",["^O","^N","^L","^M"]],"^I","^F","~:ns-specs",["^ "],"~:ns-spec-vars",["^D",[]],"~:compiler-options",["^20",[["^5B","~:static-fns"],true,["^5B","~:shadow-tweaks"],null,["^5B","~:source-map-inline"],null,["^5B","~:elide-asserts"],false,["^5B","~:optimize-constants"],null,["^5B","^18"],null,["^5B","~:external-config"],null,["^5B","~:tooling-config"],null,["^5B","~:emit-constants"],null,["^5B","~:load-tests"],null,["^5B","~:form-size-threshold"],null,["^5B","~:data-readers"],null,["^5B","~:infer-externs"],"~:auto",["^5B","^1:"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^5B","~:fn-invoke-direct"],null,["^5B","~:source-map"],"/dev/null"]]]