{"version":3,"sources":["predict_prostate/pages/tool.cljs"],"mappings":";AA6BA,AAAA,AAAAA,AAAA,AAAAC,AAAUO;AAAV,AAAA,AAAAN,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAAA,AAA+DS;AAA/D,AAAAL,AAAAJ,AAAA,AAAiDQ;AAAjD,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AACuDG;AADvD,AAAA,AAA6BD;AAe7B,AAAA,AAAAT,AAAA,AAAAY,AAAUS,AAA4DI;AAAtE,AAAA,AAAAZ,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAV,AAAA,AAAAU,AAAA,AAAA,AAAA,AAAA,AAAAT,AAAAC,AAAAQ,AAAAA;AAAA,AAAAP,AAAAO,AAAA,AAA6CS;AAA7C,AAAAhB,AAAAO,AAAA,AAAmDU;AAAnD,AAAAjB,AAAAO,AAAA,AAAyDW;AAAzD,AAAA,AAAA,AAAAjB,AAAA,AAAA,AAAA,AAAAO,AAAA,AAAA,AAAA,AAAA,AAAAP,AAAA,AAAA,AAAA,AAAAO,AAAA,AAAA,AAAAC,AACiC,AAAA,AAAsBS,AACtC,AAAA,AAAsBD,AAClBD;AAHrB,AAAA,AAAAlB,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAD,AAAA,AAAAE,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAA,AAAA,AAAAC,AAAAD,AAAA,AAAA,AAAA,AAAAI,AAAAJ;AAAA,AAAAK,AAIiBK;AAJjB,AAAA,AAAArB,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAI,AAAA,AAAAH,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAA,AAAA,AAAA,AAAA,AAAAJ,AAAAI,AAAA,AAAA,AAAA,AAAAD,AAAAC;;AAAA,AAAA,AAAyBX;AAMzB,AAAA,AAAAT,AAAA,AAAA0B,AAAUI,AAA6DL;AAAvE,AAAA,AAAAE,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAxB,AAAA,AAAAwB,AAAA,AAAA,AAAA,AAAA,AAAAvB,AAAAC,AAAAsB,AAAAA;AAAA,AAAArB,AAAAqB,AAAA,AAA8CL;AAA9C,AAAAhB,AAAAqB,AAAA,AAAoDJ;AAApD,AAAAjB,AAAAqB,AAAA,AAA0DH;AAA1D,AAAA,AAAA,AAAAjB,AAAA,AAAA,AAAA,AAAAO,AAAA,AAAA,AAAA,AAAA,AAAAP,AAAA,AAAA,AAAA,AAAAO,AAAA,AAAA,AAAAc,AACiC,AAAA,AAAsBJ,AACtC,AAAA,AAAsBD,AAClBD;AAHrB,AAAA,AAAAlB,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAY,AAAA,AAAAX,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAU,AAAA,AAAA,AAAA,AAAA,AAAAZ,AAAAY,AAAA,AAAA,AAAA,AAAAT,AAAAS;AAAA,AAAAC,AAIiBJ;AAJjB,AAAA,AAAArB,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAa,AAAA,AAAAZ,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAW,AAAA,AAAA,AAAA,AAAA,AAAAb,AAAAa,AAAA,AAAA,AAAA,AAAAV,AAAAU;;AAAA,AAAA,AAA0BpB;AAe1B,AAAA,AAAAT,AAAA,AAAUiC,AAAwCE;AAAlD,AAAA,AAAA,AACQC,AAAE,AAACC,AAAUC;AACbC,AAAK,AAACF,AAAU,AAAA,AAACG;AAFzB,AAAA,AAKQ,AAAI,AAACC,AAAI,AAACC,AAAIN,AAAI,AAAA,AAAMA,AAAG,AAAA,AAACO,AAAEJ;AALtC,AAAAhC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAY,AAQyCyB,AAGNC,AAIxB,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAAC,AAAA;AAAA,AAAA,AAAAD,AAAAC,AAAAD,AAAAC,AAACC,AAAAA,AAAAA;AAfZ;;AAAA,AAAAzC,AAAA,AAAA,AAAA,AAAA,AAAAwB,AAoBQ,AAAAkB,AAAA,AAAA,AAAA,AAAed,AAAe,AAAA,AAACQ,AAAS,AAACN,AAAUc;AAAnD,AAAA,AAAAF,AAAAA,AAACC,AAAAA,AAAAA;;AApBT,AAAA,AAAA9C,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAe,AAAA,AAAAd,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAa,AAAA,AAAA,AAAA,AAAA,AAAAf,AAAAe,AAAA,AAAA,AAAA,AAAAZ,AAAAY;AAAA,AAAAxB,AAAA,AAAA,AAAA,AAAA,AAAAyB,AAuBS,AAACoB,AAAAA,AAAAA;AAvBV,AAAA,AAAAhD,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAgB,AAAA,AAAAf,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAc,AAAA,AAAA,AAAA,AAAA,AAAAhB,AAAAgB,AAAA,AAAA,AAAAb,AAAA,AAAA,AAAAA,AAAAa,AAAA,AAAAb,AAwBS,AAAA,AAACkC,AAAAA,AAAAA,AAAAA,AAAAA,AAAAA,AAAiBlB,AAAAA,AAAAA,AAAAA;;;AAxB3B,AAAA,AAAoCD;AA0BpC,AAAA,AAAAlC,AAAA,AAAUsD;AAAV,AAAA,AAAA,AAAAnC,AACE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAM,AAACkB,AAAUC,AAKoBM;AALrC,AAgBkB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAASY;AAhB3B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;AAAA,AAqB2C,AAAA,AAASC;AArBpD,AAAA,AAAAF;AAAA,AAsB2C,AAAM,AAAA,AAACZ,AAAU,AAAA,AAAAY;AAAjB,AACE,AAAA,AAASE;;AADX;;AAtB3C,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAmC8C,AAAAC,AAAA,AAAA,AAAA;AAAAC,AAAA;AAAA,AAAA,AAAAD,AAAAC,AAAAD,AAAAC,AAACX,AAAAA,AAAAA;AAnC/C,AAAA;AADF,AAAA,AAA2Bd;AAyC3B,AAAA,AAAAlC,AAAA,AAAUoE,AAAqBjC;AAA/B,AAAA,AAAA,AAAAyB,AACuB,AAAA,AAACW,AAAQpC;AADhC0B,AAAA,AAAAnB,AAAAkB;AAAAE,AAAA,AAAAC,AAAAF;AAAAA,AAAA,AAAAG,AAAAH;AAAAC,AACSO;AADTR,AACaS;AACLE,AAAa,AAAAC,AAAI,AAACpC,AAAUqC;AAAf,AAAA,AAAAD;AAAAA;;AAAgC,AAACpC,AAAUsC;;;AAFhE,AAAA,AAAApE,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAY,AAAA,AAAAZ,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA0D,AAIwB,AAAA,AAAW,AAAA,AAAA,AAAA,AAAMO,AAElC,AAACI,AAAAA,AAAAA,AAAOzC,AAAAA,AAO2BS,AAiBjB0B;AA9BzB,AAAA,AAAAlE,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAiD,AAAA,AAAAhD,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA+C,AAAA,AAAA,AAAA,AAAA,AAAAjD,AAAAiD,AAAA,AAAA,AAAA,AAAA9C,AAAA8C;AAAA,AAAA1D,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAY,AAAA,AAAAZ,AAAA,AAAA,AAAA,AAAA,AAAA2D,AAgCsD,AAACW,AAAAA,AAAAA,AAAgB1C,AAAAA,AAG3DmC;AAnCZ,AAAA,AAAAlE,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAkD,AAAA,AAAAjD,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAgD,AAAA,AAAA,AAAA,AAAA,AAAAlD,AAAAkD,AAAA,AAAA,AAAA,AAAA/C,AAAA+C;AAAA,AAAA3D,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAY,AAAA,AAAAZ,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAY,AAAA,AAAAgD,AA0CW,AAACW,AAAAA,AAAAA,AAAW3C,AAAAA,AAEyB4C,AAGrC,AAAC9C,AAAAA,AAAAA,AAAwBE,AAAAA,AAK7B,AAACmB,AAAAA,AAAAA;AApDR,AAAA,AAAAlD,AAAAG,AAAA,AAAA,AAAA,AAAAS,AAAAmD,AAAA,AAAAlD,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAiD,AAAA,AAAA,AAAA,AAAA,AAAAnD,AAAAmD,AAAA,AAAA,AAAAhD,AAAA,AAAA,AAAAA,AAAAgD,AAAA,AAAAhD,AAqDO,AAAA,AAAC6D,AAAAA,AAAAA,AAAAA,AAAAA,AAAAA;AArDR,AAAA7D,AAAA,AAAAA,AAAA,AAAAA,AAAA,AAAAA,AAsDK,AAAC8D,AAAAA,AAAAA,AAAU9C,AAAAA,AACX,AAAC+C,AAAAA,AAAAA,AACD,AAACC,AAAAA,AAAAA,AAAYhD,AAAAA,AACb,AAACiD,AAAAA,AAAAA;AAzDN,AAAA,AAAiBlD","names":["rum.core/build-defc","p__164685","map__164688","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","js/React.createElement","predict-prostate.pages.tool/clear-all-button","rum.core/static","on-click","props","p__164696","map__164698","sablono.util/join-classes","attrs164703","cljs.core/map?","sablono.interpreter/attributes","sablono.normalize.merge_with_class","sablono.interpreter/interpret","attrs164702","predict-prostate.pages.tool/titled-panel","title","class","body-class","children","p__164705","map__164706","attrs164713","attrs164711","predict-prostate.pages.tool/titled-panel*","attrs164721","attrs164724","predict-prostate.pages.tool/treatments-with-results","rum.core/reactive","ttt","r","rum.core/react","predict-prostate.state.run-time/results-cursor","mets","predict-prostate.state.run-time/input-cursor","cljs.core/not","cljs.core/seq","cljs.core._EQ_","predict-prostate.results.util/alison-blue-1","predict-prostate.results.util/alison-blue-2","G__164718","G__164719","graphics.simple-icons/icon","G__164722","predict-prostate.layout.result-panel/results","predict-prostate.state.run-time/media-cursor","predict-prostate.results.sidefx/results-in-sidefx","predict-prostate.results.sidefx/sidefx-more-info","predict-prostate.pages.tool/results-footer","p1__164725#","predict-prostate.state.run-time/route-change","predict-prostate.state.run-time/print-change","G__164727","G__164730","vec__164735","seq__164736","first__164737","cljs.core/first","cljs.core/next","attrs164747","attrs164748","attrs164739","predict-prostate.pages.tool/tool","_","preamble","predict_prostate.content_reader.section","modal-active","or__4126__auto__","predict-prostate.state.run-time/settings-cursor","predict-prostate.state.run-time/help-key-cursor","predict-prostate.layout.header/header","predict-prostate.components.button/settings-button","predict-prostate.layout.input-panels/inputs-row","predict-prostate.results.util/alison-blue-4","predict-prostate.layout.header/footer","predict-prostate.components.bs3-modal/top-modal","predict-prostate.components.bs3-modal/settings-modal","predict-prostate.components.bs3-modal/print-modal","predict-prostate.components.bs3-modal/editor-modal"],"sourcesContent":["(ns predict-prostate.pages.tool\n  (:require [rum.core :as rum]\n            [cljs-css-modules.macro :refer-macros [defstyle]]\n            [predict-prostate.components.bs3-modal :refer [top-modal settings-modal print-modal editor-modal]]\n            [bide.core :as r]\n            [graphics.simple-icons :as simple]\n            [predict-prostate.router :refer [router]]\n            [predict-prostate.content-reader :refer [section all-subsections]]\n            [predict-prostate.components.button :refer [settings-button print-button]]\n            [predict-prostate.layout.input-panels :refer [inputs-row ;inputs-column\n                                                          ]]\n            [predict-prostate.layout.treatments-panel :refer [treatments-options]]\n            [predict-prostate.results.sidefx :refer [results-in-sidefx sidefx-more-info]]\n            [predict-prostate.layout.result-panel :refer [results]]\n            [predict-prostate.layout.header :refer [header footer]]\n            [predict-prostate.results.util :refer [alison-blue-1 alison-blue-2 alison-blue-3 alison-blue-4 alison-blue-5]]\n            [predict-prostate.state.mutations :refer [clear-inputs]]\n            [predict-prostate.state.run-time :refer [input-cursor\n                                                     media-cursor\n                                                     results-cursor\n                                                     help-key-change help-key-cursor\n                                                     settings-cursor\n                                                     hide-warning-change hide-warning-cursor\n                                                     route-change\n                                                     print-change]]\n\n            [pubsub.feeds :refer [publish]]\n            ))\n\n(rum/defc clear-all-button < rum/static [{:keys [on-click] :as props}]\n  [:button.btn.navbar-btn.btn-danger.btn-lg {:on-click on-click} [:i.fa.fa-female] \" New Patient\"])\n\n;;;\n;; Main layout\n;;;\n\n#_(defstyle treatments-style\n    [\"div\" {:font-size \"12px\"}]\n    [\".treatments-header\"\n     {:background-color \"#005fB1 !important\"\n      :color            \"white !important\"\n      :font-size        \"10px !important\"}\n     [\"form\" {:border \"1px solid red\"}]])\n\n(rum/defc titled-panel < rum/static [{:keys [title class body-class]} children]\n  [:.panel.panel-default {:class (str \"panel-default \" body-class)}\n   [:div {:class (str \"panel-heading \" class)}\n    [:h3.panel-title title]]\n   [:.panel-body children]])\n\n(rum/defc titled-panel* < rum/static [{:keys [title class body-class]} children]\n  [:.panel.panel-default {:class (str \"panel-default \" body-class)}\n   [:div {:class (str \"panel-heading \" class)}\n    [:h3.panel-title title]]\n   [:.panel-body children]])\n\n#_(rum/defc treatment-caveats []\n    [:#side-effect-warning.alert.alert-danger.clearfix {:role  \"alert\"\n                                                        :style {:font-size \"18px\"\n                                                                ;:margin-top \"20px\"\n                                                                }}\n     (all-subsections \"tool-postamble\")])\n\n\n\n(rum/defc treatments-with-results < rum/reactive [ttt]\n  (let [r (rum/react results-cursor)\n        mets (rum/react (input-cursor :metastasis))]\n\n    ; todo: mets\n    (if (or (not (seq r)) (nil? r) (= mets :yes))\n      [:.row\n       [:.col-sm-10.col-sm-offset-1.col-xs-12\n        [:div {:style {:background-color alison-blue-1\n                       :padding          \"10px 10px 3px 10px\"\n                       :margin-bottom    20}}\n         [:div {:style {:color     alison-blue-2\n                        :font-size \"20px\"}}\n\n          [:p {:style {:padding-bottom 0}}\n           (simple/icon {:family :fa :style {:font-size 35 :padding-right 8}} \"info-circle\")\n\n           \" Treatment options and results will appear here when you have filled in all the information needed above.\"]]]]]\n      [:.row\n       [:.col-md-12.screen-only\n        (results {:ttt ttt :printable (= :print (rum/react media-cursor))})]\n       [:.row\n        [:.col-md-10.col-md-offset-1\n         (results-in-sidefx)\n         (sidefx-more-info ttt)]]])))\n\n(rum/defc results-footer < rum/reactive []\n  (when (rum/react results-cursor)\n    [:.col-xs-12\n     #_[:.row\n      [:.col-md-10.col-md-offset-1 (print-button)]]\n\n     [:.row {:style {:background-color alison-blue-1\n                     :margin-top       20}}\n\n      [:.col-md-12.text-center {:style {:margin-top 20 :margin-bottom 20}}\n       #_[:img {:src \"assets/faq-icon.png\"}]\n       [:img {:src         \"assets/faq-icon.png\"\n              :alt         \"faq icon\"\n              :aria-hidden true}]\n       ;(simple/icon {:family :fa :style {:font-size 80 :color alison-blue-2}} \"commenting-o\")\n       [:h3 \"Looking for advice?\"]\n       [:button.btn.btn-primary.btn-lg\n        {:on-click #(publish route-change [:about {:page \"faqs\"} nil])}\n        \"See the FAQs\"]\n       ]]\n\n     [:button.btn.screen-only {:type        \"button\"\n                               :on-click    #(publish print-change \"print\")\n                               :on-key-down #(when (= \"Enter\" (.. % -nativeEvent -code))\n                                               (publish print-change \"print\"))\n                               :style       {:width                     70\n                                             :opacity                   0.5\n                                             :position                  \"fixed\"\n                                             :top                       300\n                                             :right                     -1\n                                             :color                     \"#ffffff\"\n                                             :background-color          \"#444466\"\n                                             :font-size                 16\n                                             :padding                   \"15px 5px 15px 5px\"\n                                             :border-top-left-radius    10\n                                             :border-bottom-left-radius 10\n                                             }} (simple/icon {:family :fa} \"print\") \" Print\"]\n\n     ]))\n\n\n(rum/defc tool < rum/reactive [ttt]\n  (let [[_ & preamble] (section ttt \"tool-preamble\")\n        modal-active (or (rum/react settings-cursor) (rum/react help-key-cursor))]\n    [:.container-fluid\n     [:div {:class-name (str \"row\" (when modal-active \" modal-active\"))}\n      [:.col-xs-12 {:style {:opacity 1}}\n       (header ttt)\n       [:#main-content.row {:tab-index -1\n                            :style     {:margin-left  -30\n                                        :margin-right -30}}\n        [:.col-xs-12\n         [:div {:style {:position         \"relative\"\n                        :width            \"100%\"\n                        :background-color alison-blue-1\n                        }}\n          [:div {:style {:position   \"absolute\"\n                         :width      \"100%\"\n                         :top        0\n                         :bottom     \"20%\"\n                         :opacity    0.25\n                         :background \"linear-gradient(rgba(255,255,255,0), #fff)\"\n                         }}]\n          [:.row.screen-only\n           [:.col-sm-4.col-sm-offset-2\n            [:img.img-responsive {:src         \"assets/tool-banner.png\"\n                                  :alt         \"Predict tool banner imagery\"\n                                  :aria-hidden true\n                                  :style       {:margin-left \"5%\" :zoom 0.7}}]]\n           [:.col-sm-6\n            [:.row\n             [:.col-xs-8 preamble]\n             [:.col-xs-4\n              [:div {:style {:margin \"40px 0 0 0px\"}} (settings-button ttt)]]]]]\n          [:.row.print-only\n           [:.col-sm-10.col-sm-offset-1\n            preamble]]\n          ]]]\n\n       [:.row.screen-only\n        [:.col-md-10.col-md-offset-1\n         [:.row {:key 2}\n          [:.col-xs-12 {:style {:margin-bottom 20}}\n           (inputs-row ttt)]]]]\n       [:.row.screen-only\n        [:.col-sm-12 {:style {:background-color alison-blue-4}}\n         [:.row {:key 3}\n          [:.col-md-10.col-md-offset-1 {:key 2}\n           (treatments-with-results ttt)\n\n           ]]]]]\n\n      [:.screen-only\n       (results-footer)\n       (footer)]]\n     (top-modal ttt)\n     (settings-modal)\n     (print-modal ttt)\n     (editor-modal)\n     ]\n\n    ))\n\n"]}