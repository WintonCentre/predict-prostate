{"version":3,"sources":["predict_prostate/pages/tool.cljs"],"mappings":"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","names":["rum.core/lazy-build","rum.core/build-defc","p__57835","map__57836","cljs.core/--destructure-map","cljs.core.get","daiquiri.core/create-element","predict-prostate.pages.tool/clear-all-button","rum.core/static","on-click","props","p__57858","map__57859","daiquiri.util/join-classes","attrs57861","cljs.core/map?","daiquiri.interpreter/element-attributes","daiquiri.normalize.merge_with_class","daiquiri.interpreter/interpret","attrs57860","predict-prostate.pages.tool/titled-panel","title","class","body-class","children","p__57875","map__57876","attrs57878","attrs57877","predict-prostate.pages.tool/titled-panel*","predict-prostate.pages.tool/treatments-with-results","rum.core/reactive","ttt","r","rum.core/react","predict-prostate.state.run-time/results-cursor","mets","predict-prostate.state.run-time/input-cursor","cljs.core/not","cljs.core/seq","cljs.core._EQ_","predict-prostate.results.util/alison-blue-1","predict-prostate.results.util/alison-blue-2","graphics.simple-icons/icon","G__57924","predict-prostate.layout.result-panel/results","predict-prostate.state.run-time/media-cursor","predict-prostate.results.sidefx/results-in-sidefx","predict-prostate.results.sidefx/sidefx-more-info","attrs57943","p1__57929#","predict-prostate.pages.tool/results-footer","G__57946","predict-prostate.state.run-time/route-change","G__57953","predict-prostate.state.run-time/print-change","G__57961","vec__57969","seq__57970","first__57971","cljs.core/first","cljs.core/next","attrs57998","attrs58012","predict-prostate.pages.tool/tool","_","preamble","predict_prostate.content_reader.section","modal-active","or__4212__auto__","predict-prostate.state.run-time/settings-cursor","predict-prostate.state.run-time/help-key-cursor","predict-prostate.layout.header/header","predict-prostate.components.button/settings-button","predict-prostate.layout.input-panels/inputs-row","predict-prostate.results.util/alison-blue-4","predict-prostate.layout.header/footer","predict-prostate.components.bs3-modal/top-modal","predict-prostate.components.bs3-modal/settings-modal","predict-prostate.components.bs3-modal/print-modal","predict-prostate.components.bs3-modal/editor-modal"],"sourcesContent":["(ns predict-prostate.pages.tool\n  (:require [rum.core :as rum]\n            [cljs-css-modules.macro :refer-macros [defstyle]]\n            [predict-prostate.components.bs3-modal :refer [top-modal settings-modal print-modal editor-modal]]\n            [bide.core :as r]\n            [graphics.simple-icons :as simple]\n            [predict-prostate.router :refer [router]]\n            [predict-prostate.content-reader :refer [section all-subsections]]\n            [predict-prostate.components.button :refer [settings-button print-button]]\n            [predict-prostate.layout.input-panels :refer [inputs-row ;inputs-column\n                                                          ]]\n            [predict-prostate.layout.treatments-panel :refer [treatments-options]]\n            [predict-prostate.results.sidefx :refer [results-in-sidefx sidefx-more-info]]\n            [predict-prostate.layout.result-panel :refer [results]]\n            [predict-prostate.layout.header :refer [header footer]]\n            [predict-prostate.results.util :refer [alison-blue-1 alison-blue-2 alison-blue-3 alison-blue-4 alison-blue-5]]\n            [predict-prostate.state.mutations :refer [clear-inputs]]\n            [predict-prostate.state.run-time :refer [input-cursor\n                                                     media-cursor\n                                                     results-cursor\n                                                     help-key-change help-key-cursor\n                                                     settings-cursor\n                                                     hide-warning-change hide-warning-cursor\n                                                     route-change\n                                                     print-change]]\n\n            [pubsub.feeds :refer [publish]]\n            ))\n\n(rum/defc clear-all-button < rum/static [{:keys [on-click] :as props}]\n  [:button.btn.navbar-btn.btn-danger.btn-lg {:on-click on-click} [:i.fa.fa-female] \" New Patient\"])\n\n;;;\n;; Main layout\n;;;\n\n#_(defstyle treatments-style\n    [\"div\" {:font-size \"12px\"}]\n    [\".treatments-header\"\n     {:background-color \"#005fB1 !important\"\n      :color            \"white !important\"\n      :font-size        \"10px !important\"}\n     [\"form\" {:border \"1px solid red\"}]])\n\n(rum/defc titled-panel < rum/static [{:keys [title class body-class]} children]\n  [:.panel.panel-default {:class (str \"panel-default \" body-class)}\n   [:div {:class (str \"panel-heading \" class)}\n    [:h3.panel-title title]]\n   [:.panel-body children]])\n\n(rum/defc titled-panel* < rum/static [{:keys [title class body-class]} children]\n  [:.panel.panel-default {:class (str \"panel-default \" body-class)}\n   [:div {:class (str \"panel-heading \" class)}\n    [:h3.panel-title title]]\n   [:.panel-body children]])\n\n#_(rum/defc treatment-caveats []\n    [:#side-effect-warning.alert.alert-danger.clearfix {:role  \"alert\"\n                                                        :style {:font-size \"18px\"\n                                                                ;:margin-top \"20px\"\n                                                                }}\n     (all-subsections \"tool-postamble\")])\n\n\n\n(rum/defc treatments-with-results < rum/reactive [ttt]\n  (let [r (rum/react results-cursor)\n        mets (rum/react (input-cursor :metastasis))]\n\n    ; todo: mets\n    (if (or (not (seq r)) (nil? r) (= mets :yes))\n      [:.row\n       [:.col-sm-10.col-sm-offset-1.col-xs-12\n        [:div {:style {:background-color alison-blue-1\n                       :padding          \"10px 10px 3px 10px\"\n                       :margin-bottom    20}}\n         [:div {:style {:color     alison-blue-2\n                        :font-size \"20px\"}}\n\n          [:p {:style {:padding-bottom 0}}\n           (simple/icon {:family :fa :style {:font-size 35 :padding-right 8}} \"info-circle\")\n\n           \" \" (ttt [:twr/toarwa \"Treatment options and results will appear here when you have filled in all the information needed above.\"])]]]]]\n      [:.row\n       [:.col-md-12.screen-only\n        (results {:ttt ttt :printable (= :print (rum/react media-cursor))})]\n       [:.row\n        [:.col-md-10.col-md-offset-1\n         (results-in-sidefx ttt)\n         (sidefx-more-info ttt)]]])))\n\n(rum/defc results-footer < rum/reactive [ttt]\n  (when (rum/react results-cursor)\n    [:.col-xs-12\n     #_[:.row\n      [:.col-md-10.col-md-offset-1 (print-button)]]\n\n     [:.row {:style {:background-color alison-blue-1\n                     :margin-top       20}}\n\n      [:.col-md-12.text-center {:style {:margin-top 20 :margin-bottom 20}}\n       #_[:img {:src \"assets/faq-icon.png\"}]\n       [:img {:src         \"assets/faq-icon.png\"\n              :alt         \"faq icon\"\n              :aria-hidden true}]\n       ;(simple/icon {:family :fa :style {:font-size 80 :color alison-blue-2}} \"commenting-o\")\n       [:h3 (ttt [:faqs/q1 \"Looking for advice?\"])]\n       [:button.btn.btn-primary.btn-lg\n        {:on-click #(publish route-change [:about {:page \"faqs\"} nil])}\n        (ttt [:rf/stf \"See the FAQs\"])]\n       ]]\n\n     [:button.btn.screen-only {:type        \"button\"\n                               :on-click    #(publish print-change \"print\")\n                               :on-key-down #(when (= \"Enter\" (.. % -nativeEvent -code))\n                                               (publish print-change \"print\"))\n                               :style       {:width                     \"auto\" \n                                             :display                   \"inline-block\"\n                                             :opacity                   0.5\n                                             :position                  \"fixed\"\n                                             :top                       300\n                                             :right                     -1\n                                             :color                     \"#ffffff\"\n                                             :background-color          \"#444466\"\n                                             :font-size                 16\n                                             :padding                   \"15px 5px 15px 5px\"\n                                             :border-top-left-radius    10\n                                             :border-bottom-left-radius 10}} (simple/icon {:family :fa} \"print\") \" \" (ttt [:print \"Print\"])]\n\n     ]))\n\n\n(rum/defc tool < rum/reactive [ttt]\n  (let [[_ & preamble] (section ttt \"tool-preamble\")\n        modal-active (or (rum/react settings-cursor) (rum/react help-key-cursor))]\n    [:.container-fluid\n     [:div {:class-name (str \"row\" (when modal-active \" modal-active\"))}\n      [:.col-xs-12 {:style {:opacity 1}}\n       (header ttt)\n       [:#main-content.row {:tab-index -1\n                            :style     {:margin-left  -30\n                                        :margin-right -30}}\n        [:.col-xs-12\n         [:div {:style {:position         \"relative\"\n                        :width            \"100%\"\n                        :background-color alison-blue-1\n                        }}\n          [:div {:style {:position   \"absolute\"\n                         :width      \"100%\"\n                         :top        0\n                         :bottom     \"20%\"\n                         :opacity    0.25\n                         :background \"linear-gradient(rgba(255,255,255,0), #fff)\"\n                         }}]\n          [:.row.screen-only\n           [:.col-sm-4.col-sm-offset-2\n            [:img.img-responsive {:src         \"assets/tool-banner.png\"\n                                  :alt         \"Predict tool banner imagery\"\n                                  :aria-hidden true\n                                  :style       {:margin-left \"5%\" :zoom 0.7}}]]\n           [:.col-sm-6\n            [:.row\n             [:.col-xs-8 preamble]\n             [:.col-xs-4\n              [:div {:style {:margin \"40px 0 0 0px\"}} (settings-button ttt)]]]]]\n          [:.row.print-only\n           [:.col-sm-10.col-sm-offset-1\n            preamble]]\n          ]]]\n\n       [:.row.screen-only\n        [:.col-md-10.col-md-offset-1\n         [:.row {:key 2}\n          [:.col-xs-12 {:style {:margin-bottom 20}}\n           (inputs-row ttt)]]]]\n       [:.row.screen-only\n        [:.col-sm-12 {:style {:background-color alison-blue-4}}\n         [:.row {:key 3}\n          [:.col-md-10.col-md-offset-1 {:key 2}\n           (treatments-with-results ttt)\n\n           ]]]]]\n\n      [:.screen-only\n       (results-footer ttt)\n       (footer)]]\n     (top-modal ttt)\n     (settings-modal ttt)\n     (print-modal ttt)\n     (editor-modal)\n     ]\n\n    ))\n\n"]}