goog.provide('svg.scales');

/**
 * @interface
 */
svg.scales.IScale = function(){};

var svg$scales$IScale$i__GT_o$dyn_47213 = (function (_){
var x__4509__auto__ = (((_ == null))?null:_);
var m__4510__auto__ = (svg.scales.i__GT_o[goog.typeOf(x__4509__auto__)]);
if((!((m__4510__auto__ == null)))){
return (m__4510__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4510__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4510__auto__.call(null,_));
} else {
var m__4508__auto__ = (svg.scales.i__GT_o["_"]);
if((!((m__4508__auto__ == null)))){
return (m__4508__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4508__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4508__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.i->o",_);
}
}
});
svg.scales.i__GT_o = (function svg$scales$i__GT_o(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$i__GT_o$arity$1 == null)))))){
return _.svg$scales$IScale$i__GT_o$arity$1(_);
} else {
return svg$scales$IScale$i__GT_o$dyn_47213(_);
}
});

var svg$scales$IScale$o__GT_i$dyn_47219 = (function (_){
var x__4509__auto__ = (((_ == null))?null:_);
var m__4510__auto__ = (svg.scales.o__GT_i[goog.typeOf(x__4509__auto__)]);
if((!((m__4510__auto__ == null)))){
return (m__4510__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4510__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4510__auto__.call(null,_));
} else {
var m__4508__auto__ = (svg.scales.o__GT_i["_"]);
if((!((m__4508__auto__ == null)))){
return (m__4508__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4508__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4508__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.o->i",_);
}
}
});
svg.scales.o__GT_i = (function svg$scales$o__GT_i(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$o__GT_i$arity$1 == null)))))){
return _.svg$scales$IScale$o__GT_i$arity$1(_);
} else {
return svg$scales$IScale$o__GT_i$dyn_47219(_);
}
});

var svg$scales$IScale$in$dyn_47224 = (function (_){
var x__4509__auto__ = (((_ == null))?null:_);
var m__4510__auto__ = (svg.scales.in$[goog.typeOf(x__4509__auto__)]);
if((!((m__4510__auto__ == null)))){
return (m__4510__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4510__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4510__auto__.call(null,_));
} else {
var m__4508__auto__ = (svg.scales.in$["_"]);
if((!((m__4508__auto__ == null)))){
return (m__4508__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4508__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4508__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.in",_);
}
}
});
svg.scales.in$ = (function svg$scales$in(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$in$arity$1 == null)))))){
return _.svg$scales$IScale$in$arity$1(_);
} else {
return svg$scales$IScale$in$dyn_47224(_);
}
});

var svg$scales$IScale$out$dyn_47225 = (function (_){
var x__4509__auto__ = (((_ == null))?null:_);
var m__4510__auto__ = (svg.scales.out[goog.typeOf(x__4509__auto__)]);
if((!((m__4510__auto__ == null)))){
return (m__4510__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4510__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4510__auto__.call(null,_));
} else {
var m__4508__auto__ = (svg.scales.out["_"]);
if((!((m__4508__auto__ == null)))){
return (m__4508__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4508__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4508__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.out",_);
}
}
});
svg.scales.out = (function svg$scales$out(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$out$arity$1 == null)))))){
return _.svg$scales$IScale$out$arity$1(_);
} else {
return svg$scales$IScale$out$dyn_47225(_);
}
});

var svg$scales$IScale$ticks$dyn_47226 = (function (_){
var x__4509__auto__ = (((_ == null))?null:_);
var m__4510__auto__ = (svg.scales.ticks[goog.typeOf(x__4509__auto__)]);
if((!((m__4510__auto__ == null)))){
return (m__4510__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4510__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4510__auto__.call(null,_));
} else {
var m__4508__auto__ = (svg.scales.ticks["_"]);
if((!((m__4508__auto__ == null)))){
return (m__4508__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4508__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4508__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.ticks",_);
}
}
});
svg.scales.ticks = (function svg$scales$ticks(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$ticks$arity$1 == null)))))){
return _.svg$scales$IScale$ticks$arity$1(_);
} else {
return svg$scales$IScale$ticks$dyn_47226(_);
}
});

var svg$scales$IScale$tick_format_specifier$dyn_47227 = (function (_){
var x__4509__auto__ = (((_ == null))?null:_);
var m__4510__auto__ = (svg.scales.tick_format_specifier[goog.typeOf(x__4509__auto__)]);
if((!((m__4510__auto__ == null)))){
return (m__4510__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4510__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4510__auto__.call(null,_));
} else {
var m__4508__auto__ = (svg.scales.tick_format_specifier["_"]);
if((!((m__4508__auto__ == null)))){
return (m__4508__auto__.cljs$core$IFn$_invoke$arity$1 ? m__4508__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__4508__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("IScale.tick-format-specifier",_);
}
}
});
svg.scales.tick_format_specifier = (function svg$scales$tick_format_specifier(_){
if((((!((_ == null)))) && ((!((_.svg$scales$IScale$tick_format_specifier$arity$1 == null)))))){
return _.svg$scales$IScale$tick_format_specifier$arity$1(_);
} else {
return svg$scales$IScale$tick_format_specifier$dyn_47227(_);
}
});

svg.scales.e10 = Math.sqrt((50));
svg.scales.e5 = Math.sqrt((10));
svg.scales.e2 = Math.sqrt((2));
svg.scales.tick_step = (function svg$scales$tick_step(start,stop,preferred_count){
var step0 = (Math.abs((stop - start)) / (function (){var x__4295__auto__ = (0);
var y__4296__auto__ = preferred_count;
return ((x__4295__auto__ > y__4296__auto__) ? x__4295__auto__ : y__4296__auto__);
})());
var step1 = Math.pow((10),Math.floor((Math.log(step0) / Math.LN10)));
var error = (step0 / step1);
var step = (((error >= svg.scales.e10))?((10) * step1):(((error >= svg.scales.e5))?((5) * step1):(((error >= svg.scales.e2))?((2) * step1):step1
)));
if((stop < start)){
return (- step);
} else {
return step;
}
});
svg.scales.preferred_ticks = (function svg$scales$preferred_ticks(start,stop,preferred_count){
var step = svg.scales.tick_step(start,stop,preferred_count);
return cljs.core.range.cljs$core$IFn$_invoke$arity$3((Math.ceil((start / step)) * step),((Math.floor((stop / step)) * step) + (step / (2))),step);
});
svg.scales.numeric_format_specifier = (function svg$scales$numeric_format_specifier(scale){

var abs_in = cljs.core.map.cljs$core$IFn$_invoke$arity$2(Math.abs,new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(scale));
var abs_step = Math.abs(cljs.core.apply.cljs$core$IFn$_invoke$arity$2(svg.scales.tick_step,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(scale),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994).cljs$core$IFn$_invoke$arity$1(scale))));
if((abs_step < 1.0E-5)){
return "~(~3,1e~)";
} else {
if((cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,abs_in) > (99999))){
return "~(~,1e~)";
} else {
if((abs_step >= (1))){
return "~d";
} else {
if((abs_step >= 0.1)){
return "~1$";
} else {
if((abs_step >= 0.01)){
return "~$";
} else {
if((abs_step >= 0.001)){
return "~3$";
} else {
if((abs_step >= 1.0E-4)){
return "~0,4f";
} else {
return "~0,5f";

}
}
}
}
}
}
}
});
svg.scales.unit_format_specifier = (function svg$scales$unit_format_specifier(unit,scale){

return [svg.scales.numeric_format_specifier(scale),cljs.core.str.cljs$core$IFn$_invoke$arity$1(unit)].join('');
});
svg.scales.percent_format_specifier = (function svg$scales$percent_format_specifier(scale){

return svg.scales.unit_format_specifier("%",scale);
});
svg.scales.scale_ticks = (function svg$scales$scale_ticks(a_scale,tick_count){
return cljs.core.apply.cljs$core$IFn$_invoke$arity$2(svg.scales.preferred_ticks,cljs.core.conj.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(a_scale),tick_count));
});

/**
* @constructor
 * @implements {cljs.core.IRecord}
 * @implements {cljs.core.IKVReduce}
 * @implements {cljs.core.IEquiv}
 * @implements {cljs.core.IHash}
 * @implements {cljs.core.ICollection}
 * @implements {cljs.core.ICounted}
 * @implements {cljs.core.ISeqable}
 * @implements {cljs.core.IMeta}
 * @implements {cljs.core.ICloneable}
 * @implements {cljs.core.IPrintWithWriter}
 * @implements {cljs.core.IIterable}
 * @implements {cljs.core.IWithMeta}
 * @implements {cljs.core.IAssociative}
 * @implements {svg.scales.IScale}
 * @implements {cljs.core.IMap}
 * @implements {cljs.core.ILookup}
*/
svg.scales.Identity = (function (in$,tick_count,__meta,__extmap,__hash){
this.in$ = in$;
this.tick_count = tick_count;
this.__meta = __meta;
this.__extmap = __extmap;
this.__hash = __hash;
this.cljs$lang$protocol_mask$partition0$ = 2230716170;
this.cljs$lang$protocol_mask$partition1$ = 139264;
});
(svg.scales.Identity.prototype.cljs$core$ILookup$_lookup$arity$2 = (function (this__4461__auto__,k__4462__auto__){
var self__ = this;
var this__4461__auto____$1 = this;
return this__4461__auto____$1.cljs$core$ILookup$_lookup$arity$3(null,k__4462__auto__,null);
}));

(svg.scales.Identity.prototype.cljs$core$ILookup$_lookup$arity$3 = (function (this__4463__auto__,k47028,else__4464__auto__){
var self__ = this;
var this__4463__auto____$1 = this;
var G__47052 = k47028;
var G__47052__$1 = (((G__47052 instanceof cljs.core.Keyword))?G__47052.fqn:null);
switch (G__47052__$1) {
case "in":
return self__.in$;

break;
case "tick-count":
return self__.tick_count;

break;
default:
return cljs.core.get.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k47028,else__4464__auto__);

}
}));

(svg.scales.Identity.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = (function (this__4481__auto__,f__4482__auto__,init__4483__auto__){
var self__ = this;
var this__4481__auto____$1 = this;
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ret__4484__auto__,p__47054){
var vec__47056 = p__47054;
var k__4485__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47056,(0),null);
var v__4486__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47056,(1),null);
return (f__4482__auto__.cljs$core$IFn$_invoke$arity$3 ? f__4482__auto__.cljs$core$IFn$_invoke$arity$3(ret__4484__auto__,k__4485__auto__,v__4486__auto__) : f__4482__auto__.call(null,ret__4484__auto__,k__4485__auto__,v__4486__auto__));
}),init__4483__auto__,this__4481__auto____$1);
}));

(svg.scales.Identity.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = (function (this__4476__auto__,writer__4477__auto__,opts__4478__auto__){
var self__ = this;
var this__4476__auto____$1 = this;
var pr_pair__4479__auto__ = (function (keyval__4480__auto__){
return cljs.core.pr_sequential_writer(writer__4477__auto__,cljs.core.pr_writer,""," ","",opts__4478__auto__,keyval__4480__auto__);
});
return cljs.core.pr_sequential_writer(writer__4477__auto__,pr_pair__4479__auto__,"#svg.scales.Identity{",", ","}",opts__4478__auto__,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count],null))], null),self__.__extmap));
}));

(svg.scales.Identity.prototype.cljs$core$IIterable$_iterator$arity$1 = (function (G__47027){
var self__ = this;
var G__47027__$1 = this;
return (new cljs.core.RecordIter((0),G__47027__$1,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], null),(cljs.core.truth_(self__.__extmap)?cljs.core._iterator(self__.__extmap):cljs.core.nil_iter())));
}));

(svg.scales.Identity.prototype.cljs$core$IMeta$_meta$arity$1 = (function (this__4459__auto__){
var self__ = this;
var this__4459__auto____$1 = this;
return self__.__meta;
}));

(svg.scales.Identity.prototype.cljs$core$ICloneable$_clone$arity$1 = (function (this__4456__auto__){
var self__ = this;
var this__4456__auto____$1 = this;
return (new svg.scales.Identity(self__.in$,self__.tick_count,self__.__meta,self__.__extmap,self__.__hash));
}));

(svg.scales.Identity.prototype.cljs$core$ICounted$_count$arity$1 = (function (this__4465__auto__){
var self__ = this;
var this__4465__auto____$1 = this;
return (2 + cljs.core.count(self__.__extmap));
}));

(svg.scales.Identity.prototype.cljs$core$IHash$_hash$arity$1 = (function (this__4457__auto__){
var self__ = this;
var this__4457__auto____$1 = this;
var h__4319__auto__ = self__.__hash;
if((!((h__4319__auto__ == null)))){
return h__4319__auto__;
} else {
var h__4319__auto____$1 = (function (coll__4458__auto__){
return (-1402173386 ^ cljs.core.hash_unordered_coll(coll__4458__auto__));
})(this__4457__auto____$1);
(self__.__hash = h__4319__auto____$1);

return h__4319__auto____$1;
}
}));

(svg.scales.Identity.prototype.cljs$core$IEquiv$_equiv$arity$2 = (function (this47029,other47030){
var self__ = this;
var this47029__$1 = this;
return (((!((other47030 == null)))) && ((((this47029__$1.constructor === other47030.constructor)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this47029__$1.in,other47030.in)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this47029__$1.tick_count,other47030.tick_count)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this47029__$1.__extmap,other47030.__extmap)))))))));
}));

(svg.scales.Identity.prototype.svg$scales$IScale$ = cljs.core.PROTOCOL_SENTINEL);

(svg.scales.Identity.prototype.svg$scales$IScale$i__GT_o$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return cljs.core.identity;
}));

(svg.scales.Identity.prototype.svg$scales$IScale$o__GT_i$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return cljs.core.identity;
}));

(svg.scales.Identity.prototype.svg$scales$IScale$in$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Identity.prototype.svg$scales$IScale$out$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Identity.prototype.svg$scales$IScale$ticks$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.scale_ticks(this$__$1,self__.tick_count);
}));

(svg.scales.Identity.prototype.svg$scales$IScale$tick_format_specifier$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.numeric_format_specifier(this$__$1);
}));

(svg.scales.Identity.prototype.cljs$core$IMap$_dissoc$arity$2 = (function (this__4471__auto__,k__4472__auto__){
var self__ = this;
var this__4471__auto____$1 = this;
if(cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),null,new cljs.core.Keyword(null,"in","in",-1531184865),null], null), null),k__4472__auto__)){
return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core._with_meta(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,this__4471__auto____$1),self__.__meta),k__4472__auto__);
} else {
return (new svg.scales.Identity(self__.in$,self__.tick_count,self__.__meta,cljs.core.not_empty(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.__extmap,k__4472__auto__)),null));
}
}));

(svg.scales.Identity.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = (function (this__4468__auto__,k47028){
var self__ = this;
var this__4468__auto____$1 = this;
var G__47064 = k47028;
var G__47064__$1 = (((G__47064 instanceof cljs.core.Keyword))?G__47064.fqn:null);
switch (G__47064__$1) {
case "in":
case "tick-count":
return true;

break;
default:
return cljs.core.contains_QMARK_(self__.__extmap,k47028);

}
}));

(svg.scales.Identity.prototype.cljs$core$IAssociative$_assoc$arity$3 = (function (this__4469__auto__,k__4470__auto__,G__47027){
var self__ = this;
var this__4469__auto____$1 = this;
var pred__47066 = cljs.core.keyword_identical_QMARK_;
var expr__47067 = k__4470__auto__;
if(cljs.core.truth_((pred__47066.cljs$core$IFn$_invoke$arity$2 ? pred__47066.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865),expr__47067) : pred__47066.call(null,new cljs.core.Keyword(null,"in","in",-1531184865),expr__47067)))){
return (new svg.scales.Identity(G__47027,self__.tick_count,self__.__meta,self__.__extmap,null));
} else {
if(cljs.core.truth_((pred__47066.cljs$core$IFn$_invoke$arity$2 ? pred__47066.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__47067) : pred__47066.call(null,new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__47067)))){
return (new svg.scales.Identity(self__.in$,G__47027,self__.__meta,self__.__extmap,null));
} else {
return (new svg.scales.Identity(self__.in$,self__.tick_count,self__.__meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k__4470__auto__,G__47027),null));
}
}
}));

(svg.scales.Identity.prototype.cljs$core$ISeqable$_seq$arity$1 = (function (this__4474__auto__){
var self__ = this;
var this__4474__auto____$1 = this;
return cljs.core.seq(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.MapEntry(new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count,null))], null),self__.__extmap));
}));

(svg.scales.Identity.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (this__4460__auto__,G__47027){
var self__ = this;
var this__4460__auto____$1 = this;
return (new svg.scales.Identity(self__.in$,self__.tick_count,G__47027,self__.__extmap,self__.__hash));
}));

(svg.scales.Identity.prototype.cljs$core$ICollection$_conj$arity$2 = (function (this__4466__auto__,entry__4467__auto__){
var self__ = this;
var this__4466__auto____$1 = this;
if(cljs.core.vector_QMARK_(entry__4467__auto__)){
return this__4466__auto____$1.cljs$core$IAssociative$_assoc$arity$3(null,cljs.core._nth(entry__4467__auto__,(0)),cljs.core._nth(entry__4467__auto__,(1)));
} else {
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this__4466__auto____$1,entry__4467__auto__);
}
}));

(svg.scales.Identity.getBasis = (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"in","in",109346662,null),new cljs.core.Symbol(null,"tick-count","tick-count",-1074440775,null)], null);
}));

(svg.scales.Identity.cljs$lang$type = true);

(svg.scales.Identity.cljs$lang$ctorPrSeq = (function (this__4505__auto__){
return (new cljs.core.List(null,"svg.scales/Identity",null,(1),null));
}));

(svg.scales.Identity.cljs$lang$ctorPrWriter = (function (this__4505__auto__,writer__4506__auto__){
return cljs.core._write(writer__4506__auto__,"svg.scales/Identity");
}));

/**
 * Positional factory function for svg.scales/Identity.
 */
svg.scales.__GT_Identity = (function svg$scales$__GT_Identity(in$,tick_count){
return (new svg.scales.Identity(in$,tick_count,null,null,null));
});

/**
 * Factory function for svg.scales/Identity, taking a map of keywords to field values.
 */
svg.scales.map__GT_Identity = (function svg$scales$map__GT_Identity(G__47039){
var extmap__4501__auto__ = (function (){var G__47071 = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__47039,new cljs.core.Keyword(null,"in","in",-1531184865),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], 0));
if(cljs.core.record_QMARK_(G__47039)){
return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,G__47071);
} else {
return G__47071;
}
})();
return (new svg.scales.Identity(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(G__47039),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994).cljs$core$IFn$_invoke$arity$1(G__47039),null,cljs.core.not_empty(extmap__4501__auto__),null));
});

svg.scales.linear = (function svg$scales$linear(p__47073,p__47074){
var vec__47075 = p__47073;
var x1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47075,(0),null);
var x2 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47075,(1),null);
var vec__47078 = p__47074;
var y1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47078,(0),null);
var y2 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47078,(1),null);
return (function (x){
return (y1 + (((x - x1) / (x2 - x1)) * (y2 - y1)));
});
});
svg.scales.linear_nice = (function svg$scales$linear_nice(var_args){
var args__4824__auto__ = [];
var len__4818__auto___47291 = arguments.length;
var i__4819__auto___47295 = (0);
while(true){
if((i__4819__auto___47295 < len__4818__auto___47291)){
args__4824__auto__.push((arguments[i__4819__auto___47295]));

var G__47296 = (i__4819__auto___47295 + (1));
i__4819__auto___47295 = G__47296;
continue;
} else {
}
break;
}

var argseq__4825__auto__ = ((((1) < args__4824__auto__.length))?(new cljs.core.IndexedSeq(args__4824__auto__.slice((1)),(0),null)):null);
return svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),argseq__4825__auto__);
});

(svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic = (function (p__47086,p__47087){
var vec__47089 = p__47086;
var start = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47089,(0),null);
var stop = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47089,(1),null);
var input = vec__47089;
var vec__47092 = p__47087;
var p_count = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47092,(0),null);

var n = (((p_count == null))?(10):p_count);
var step = svg.scales.tick_step(start,stop,n);
if(cljs.core.not((function (){var or__4212__auto__ = isNaN(step);
if(cljs.core.truth_(or__4212__auto__)){
return or__4212__auto__;
} else {
return (step == null);
}
})())){
var step__$1 = svg.scales.tick_step((Math.floor((start / step)) * step),(Math.ceil((stop / step)) * step),n);
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(Math.floor((start / step__$1)) * step__$1),(Math.ceil((stop / step__$1)) * step__$1)], null);
} else {
return input;
}
}));

(svg.scales.linear_nice.cljs$lang$maxFixedArity = (1));

/** @this {Function} */
(svg.scales.linear_nice.cljs$lang$applyTo = (function (seq47081){
var G__47082 = cljs.core.first(seq47081);
var seq47081__$1 = cljs.core.next(seq47081);
var self__4805__auto__ = this;
return self__4805__auto__.cljs$core$IFn$_invoke$arity$variadic(G__47082,seq47081__$1);
}));

svg.scales.nice_identity = (function svg$scales$nice_identity(in$,tick_count){
return svg.scales.__GT_Identity(svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic(in$,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([tick_count], 0)),tick_count);
});

/**
* @constructor
 * @implements {cljs.core.IRecord}
 * @implements {cljs.core.IKVReduce}
 * @implements {cljs.core.IEquiv}
 * @implements {cljs.core.IHash}
 * @implements {cljs.core.ICollection}
 * @implements {cljs.core.ICounted}
 * @implements {cljs.core.ISeqable}
 * @implements {cljs.core.IMeta}
 * @implements {cljs.core.ICloneable}
 * @implements {cljs.core.IPrintWithWriter}
 * @implements {cljs.core.IIterable}
 * @implements {cljs.core.IWithMeta}
 * @implements {cljs.core.IAssociative}
 * @implements {svg.scales.IScale}
 * @implements {cljs.core.IMap}
 * @implements {cljs.core.ILookup}
*/
svg.scales.Linear = (function (in$,out,tick_count,__meta,__extmap,__hash){
this.in$ = in$;
this.out = out;
this.tick_count = tick_count;
this.__meta = __meta;
this.__extmap = __extmap;
this.__hash = __hash;
this.cljs$lang$protocol_mask$partition0$ = 2230716170;
this.cljs$lang$protocol_mask$partition1$ = 139264;
});
(svg.scales.Linear.prototype.cljs$core$ILookup$_lookup$arity$2 = (function (this__4461__auto__,k__4462__auto__){
var self__ = this;
var this__4461__auto____$1 = this;
return this__4461__auto____$1.cljs$core$ILookup$_lookup$arity$3(null,k__4462__auto__,null);
}));

(svg.scales.Linear.prototype.cljs$core$ILookup$_lookup$arity$3 = (function (this__4463__auto__,k47102,else__4464__auto__){
var self__ = this;
var this__4463__auto____$1 = this;
var G__47107 = k47102;
var G__47107__$1 = (((G__47107 instanceof cljs.core.Keyword))?G__47107.fqn:null);
switch (G__47107__$1) {
case "in":
return self__.in$;

break;
case "out":
return self__.out;

break;
case "tick-count":
return self__.tick_count;

break;
default:
return cljs.core.get.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k47102,else__4464__auto__);

}
}));

(svg.scales.Linear.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = (function (this__4481__auto__,f__4482__auto__,init__4483__auto__){
var self__ = this;
var this__4481__auto____$1 = this;
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ret__4484__auto__,p__47108){
var vec__47109 = p__47108;
var k__4485__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47109,(0),null);
var v__4486__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__47109,(1),null);
return (f__4482__auto__.cljs$core$IFn$_invoke$arity$3 ? f__4482__auto__.cljs$core$IFn$_invoke$arity$3(ret__4484__auto__,k__4485__auto__,v__4486__auto__) : f__4482__auto__.call(null,ret__4484__auto__,k__4485__auto__,v__4486__auto__));
}),init__4483__auto__,this__4481__auto____$1);
}));

(svg.scales.Linear.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = (function (this__4476__auto__,writer__4477__auto__,opts__4478__auto__){
var self__ = this;
var this__4476__auto____$1 = this;
var pr_pair__4479__auto__ = (function (keyval__4480__auto__){
return cljs.core.pr_sequential_writer(writer__4477__auto__,cljs.core.pr_writer,""," ","",opts__4478__auto__,keyval__4480__auto__);
});
return cljs.core.pr_sequential_writer(writer__4477__auto__,pr_pair__4479__auto__,"#svg.scales.Linear{",", ","}",opts__4478__auto__,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"out","out",-910545517),self__.out],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count],null))], null),self__.__extmap));
}));

(svg.scales.Linear.prototype.cljs$core$IIterable$_iterator$arity$1 = (function (G__47101){
var self__ = this;
var G__47101__$1 = this;
return (new cljs.core.RecordIter((0),G__47101__$1,3,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"in","in",-1531184865),new cljs.core.Keyword(null,"out","out",-910545517),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], null),(cljs.core.truth_(self__.__extmap)?cljs.core._iterator(self__.__extmap):cljs.core.nil_iter())));
}));

(svg.scales.Linear.prototype.cljs$core$IMeta$_meta$arity$1 = (function (this__4459__auto__){
var self__ = this;
var this__4459__auto____$1 = this;
return self__.__meta;
}));

(svg.scales.Linear.prototype.cljs$core$ICloneable$_clone$arity$1 = (function (this__4456__auto__){
var self__ = this;
var this__4456__auto____$1 = this;
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,self__.__meta,self__.__extmap,self__.__hash));
}));

(svg.scales.Linear.prototype.cljs$core$ICounted$_count$arity$1 = (function (this__4465__auto__){
var self__ = this;
var this__4465__auto____$1 = this;
return (3 + cljs.core.count(self__.__extmap));
}));

(svg.scales.Linear.prototype.cljs$core$IHash$_hash$arity$1 = (function (this__4457__auto__){
var self__ = this;
var this__4457__auto____$1 = this;
var h__4319__auto__ = self__.__hash;
if((!((h__4319__auto__ == null)))){
return h__4319__auto__;
} else {
var h__4319__auto____$1 = (function (coll__4458__auto__){
return (1472658296 ^ cljs.core.hash_unordered_coll(coll__4458__auto__));
})(this__4457__auto____$1);
(self__.__hash = h__4319__auto____$1);

return h__4319__auto____$1;
}
}));

(svg.scales.Linear.prototype.cljs$core$IEquiv$_equiv$arity$2 = (function (this47103,other47104){
var self__ = this;
var this47103__$1 = this;
return (((!((other47104 == null)))) && ((((this47103__$1.constructor === other47104.constructor)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this47103__$1.in,other47104.in)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this47103__$1.out,other47104.out)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this47103__$1.tick_count,other47104.tick_count)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this47103__$1.__extmap,other47104.__extmap)))))))))));
}));

(svg.scales.Linear.prototype.svg$scales$IScale$ = cljs.core.PROTOCOL_SENTINEL);

(svg.scales.Linear.prototype.svg$scales$IScale$i__GT_o$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.linear(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1),new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(this$__$1));
}));

(svg.scales.Linear.prototype.svg$scales$IScale$o__GT_i$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.linear(new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(this$__$1),new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1));
}));

(svg.scales.Linear.prototype.svg$scales$IScale$in$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Linear.prototype.svg$scales$IScale$out$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(this$__$1);
}));

(svg.scales.Linear.prototype.svg$scales$IScale$ticks$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.scale_ticks(this$__$1,self__.tick_count);
}));

(svg.scales.Linear.prototype.svg$scales$IScale$tick_format_specifier$arity$1 = (function (this$){
var self__ = this;
var this$__$1 = this;
return svg.scales.numeric_format_specifier(this$__$1);
}));

(svg.scales.Linear.prototype.cljs$core$IMap$_dissoc$arity$2 = (function (this__4471__auto__,k__4472__auto__){
var self__ = this;
var this__4471__auto____$1 = this;
if(cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),null,new cljs.core.Keyword(null,"out","out",-910545517),null,new cljs.core.Keyword(null,"in","in",-1531184865),null], null), null),k__4472__auto__)){
return cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core._with_meta(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,this__4471__auto____$1),self__.__meta),k__4472__auto__);
} else {
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,self__.__meta,cljs.core.not_empty(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.__extmap,k__4472__auto__)),null));
}
}));

(svg.scales.Linear.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = (function (this__4468__auto__,k47102){
var self__ = this;
var this__4468__auto____$1 = this;
var G__47163 = k47102;
var G__47163__$1 = (((G__47163 instanceof cljs.core.Keyword))?G__47163.fqn:null);
switch (G__47163__$1) {
case "in":
case "out":
case "tick-count":
return true;

break;
default:
return cljs.core.contains_QMARK_(self__.__extmap,k47102);

}
}));

(svg.scales.Linear.prototype.cljs$core$IAssociative$_assoc$arity$3 = (function (this__4469__auto__,k__4470__auto__,G__47101){
var self__ = this;
var this__4469__auto____$1 = this;
var pred__47164 = cljs.core.keyword_identical_QMARK_;
var expr__47165 = k__4470__auto__;
if(cljs.core.truth_((pred__47164.cljs$core$IFn$_invoke$arity$2 ? pred__47164.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"in","in",-1531184865),expr__47165) : pred__47164.call(null,new cljs.core.Keyword(null,"in","in",-1531184865),expr__47165)))){
return (new svg.scales.Linear(G__47101,self__.out,self__.tick_count,self__.__meta,self__.__extmap,null));
} else {
if(cljs.core.truth_((pred__47164.cljs$core$IFn$_invoke$arity$2 ? pred__47164.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"out","out",-910545517),expr__47165) : pred__47164.call(null,new cljs.core.Keyword(null,"out","out",-910545517),expr__47165)))){
return (new svg.scales.Linear(self__.in$,G__47101,self__.tick_count,self__.__meta,self__.__extmap,null));
} else {
if(cljs.core.truth_((pred__47164.cljs$core$IFn$_invoke$arity$2 ? pred__47164.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__47165) : pred__47164.call(null,new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),expr__47165)))){
return (new svg.scales.Linear(self__.in$,self__.out,G__47101,self__.__meta,self__.__extmap,null));
} else {
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,self__.__meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k__4470__auto__,G__47101),null));
}
}
}
}));

(svg.scales.Linear.prototype.cljs$core$ISeqable$_seq$arity$1 = (function (this__4474__auto__){
var self__ = this;
var this__4474__auto____$1 = this;
return cljs.core.seq(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.MapEntry(new cljs.core.Keyword(null,"in","in",-1531184865),self__.in$,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,"out","out",-910545517),self__.out,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,"tick-count","tick-count",1579994994),self__.tick_count,null))], null),self__.__extmap));
}));

(svg.scales.Linear.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (this__4460__auto__,G__47101){
var self__ = this;
var this__4460__auto____$1 = this;
return (new svg.scales.Linear(self__.in$,self__.out,self__.tick_count,G__47101,self__.__extmap,self__.__hash));
}));

(svg.scales.Linear.prototype.cljs$core$ICollection$_conj$arity$2 = (function (this__4466__auto__,entry__4467__auto__){
var self__ = this;
var this__4466__auto____$1 = this;
if(cljs.core.vector_QMARK_(entry__4467__auto__)){
return this__4466__auto____$1.cljs$core$IAssociative$_assoc$arity$3(null,cljs.core._nth(entry__4467__auto__,(0)),cljs.core._nth(entry__4467__auto__,(1)));
} else {
return cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this__4466__auto____$1,entry__4467__auto__);
}
}));

(svg.scales.Linear.getBasis = (function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"in","in",109346662,null),new cljs.core.Symbol(null,"out","out",729986010,null),new cljs.core.Symbol(null,"tick-count","tick-count",-1074440775,null)], null);
}));

(svg.scales.Linear.cljs$lang$type = true);

(svg.scales.Linear.cljs$lang$ctorPrSeq = (function (this__4505__auto__){
return (new cljs.core.List(null,"svg.scales/Linear",null,(1),null));
}));

(svg.scales.Linear.cljs$lang$ctorPrWriter = (function (this__4505__auto__,writer__4506__auto__){
return cljs.core._write(writer__4506__auto__,"svg.scales/Linear");
}));

/**
 * Positional factory function for svg.scales/Linear.
 */
svg.scales.__GT_Linear = (function svg$scales$__GT_Linear(in$,out,tick_count){
return (new svg.scales.Linear(in$,out,tick_count,null,null,null));
});

/**
 * Factory function for svg.scales/Linear, taking a map of keywords to field values.
 */
svg.scales.map__GT_Linear = (function svg$scales$map__GT_Linear(G__47105){
var extmap__4501__auto__ = (function (){var G__47171 = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__47105,new cljs.core.Keyword(null,"in","in",-1531184865),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,"out","out",-910545517),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994)], 0));
if(cljs.core.record_QMARK_(G__47105)){
return cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,G__47171);
} else {
return G__47171;
}
})();
return (new svg.scales.Linear(new cljs.core.Keyword(null,"in","in",-1531184865).cljs$core$IFn$_invoke$arity$1(G__47105),new cljs.core.Keyword(null,"out","out",-910545517).cljs$core$IFn$_invoke$arity$1(G__47105),new cljs.core.Keyword(null,"tick-count","tick-count",1579994994).cljs$core$IFn$_invoke$arity$1(G__47105),null,cljs.core.not_empty(extmap__4501__auto__),null));
});

svg.scales.nice_linear = (function svg$scales$nice_linear(in$,out,tick_count){
return svg.scales.__GT_Linear(svg.scales.linear_nice.cljs$core$IFn$_invoke$arity$variadic(in$,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([tick_count], 0)),out,tick_count);
});

//# sourceMappingURL=svg.scales.js.map
