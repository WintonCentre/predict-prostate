{"version":3,"sources":["rum/core.cljs"],"mappings":"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","names":["rum.core/state","comp","goog.object/get","rum.core/extend!","obj","props","seq__43435","cljs.core/seq","chunk__43437","count__43438","i__43439","vec__43452","cljs.core.nth","temp__5753__auto__","cljs.core/chunked-seq?","c__4638__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__43455","cljs.core/first","cljs.core/next","k","v","goog.object/set","cljs.core/name","cljs.core/clj->js","rum.core/build-class","render","mixins","display-name","init","rum.util/collect","will-mount","rum.util/collect*","wrap-render","wrapped-render","p1__43459#","p2__43458#","cljs.core.reduce","did-mount","did-remount","should-update","will-update","did-update","did-catch","will-unmount","child-context","class-props","cljs.core/merge","static-props","ctor","this","cljs.core.assoc","rum.util.call_all","cljs.core/volatile!","js/React.Component","_","goog/inherits","prototype","cljs.core/empty?","cljs.core/-vreset!","cljs.core/-deref","rum.util/call-all","next-props","cljs.core/deref","old-state","state","cljs.core.merge","next-state","p1__43465#","p2__43464#","new-state","or__4212__auto__","p1__43466#","cljs.core/some","vec__43473","dom","G__43476","cljs.core/vreset!","error","info","cljs.core.transduce","p1__43467#","cljs.core.map","rum.core/build-ctor","class","key-fn","args","cljs.core.apply","js/React.createElement","cljs.core/with-meta","rum.core/build-defc","render-body","rum.core/build-defcs","rum.core/build-defcc","rum.core/schedule","p1__43489#","and__4210__auto__","js/window","js/window.requestAnimationFrame","js/window.webkitRequestAnimationFrame","js/window.mozRequestAnimationFrame","js/window.msRequestAnimationFrame","js/setTimeout","rum.core/batch","js/ReactNative","js/ReactNative.unstable_batchedUpdates","js/ReactDOM","js/ReactDOM.unstable_batchedUpdates","f","a","rum.core/empty-queue","rum.core/render-queue","rum.core/render-all","queue","seq__43495","chunk__43497","count__43498","i__43499","cljs.core/not","rum.core/render","rum.core/request-render","component","cljs.core.conj","rum.core/mount","element","node","js/ReactDOM.render","rum.core/unmount","js/ReactDOM.unmountComponentAtNode","rum.core/hydrate","js/ReactDOM.hydrate","rum.core/portal","js/ReactDOM.createPortal","rum.core/with-key","key","js/React.cloneElement","rum.core/with-ref","ref","rum.core/dom-node","js/ReactDOM.findDOMNode","rum.core/ref","rum.core/ref-node","rum.core/static","cljs.core.not_EQ_","var_args","G__43522","rum.core/local","js/Error","initial","rum.core.local","local-state","cljs.core.atom","cljs.core/add-watch","rum.core/reactive","cljs.core/random-uuid","render-fn","*reactions*-orig-val__43523","*reactions*-temp-val__43524","rum.core/*reactions*","vec__43526","old-reactions","new-reactions","seq__43529","chunk__43530","count__43531","i__43532","cljs.core/contains?","cljs.core/remove-watch","seq__43535","chunk__43536","count__43537","i__43538","seq__43543","chunk__43544","count__43545","i__43546","cljs.core.dissoc","rum.core/react","rum.core/derived-atom","rum.derived-atom/derived-atom","args__4824__auto__","len__4818__auto__","i__4819__auto__","argseq__4825__auto__","cljs.core/IndexedSeq","rum.core/cursor-in","p__43564","map__43565","cljs.core/--destructure-map","seq43558","G__43559","G__43560","self__4805__auto__","path","options","rum.cursor/Cursor","cljs.core.into","rum.core/cursor","seq43571","G__43572","G__43573"],"sourcesContent":["(ns rum.core\n  (:refer-clojure :exclude [ref])\n  (:require-macros rum.core)\n  (:require\n    [cljsjs.react]\n    [cljsjs.react.dom]\n    [goog.object :as gobj]\n    [sablono.core]\n    [rum.cursor :as cursor]\n    [rum.util :as util :refer [collect collect* call-all]]\n    [rum.derived-atom :as derived-atom]))\n\n\n(defn state\n  \"Given React component, returns Rum state associated with it.\"\n  [comp]\n  (gobj/get (.-state comp) \":rum/state\"))\n\n\n(defn- extend! [obj props]\n  (doseq [[k v] props\n          :when (some? v)]\n    (gobj/set obj (name k) (clj->js v))))\n\n\n(defn- build-class [render mixins display-name]\n  (let [init           (collect   :init mixins)             ;; state props -> state\n        will-mount     (collect* [:will-mount               ;; state -> state\n                                  :before-render] mixins)   ;; state -> state\n        render         render                               ;; state -> [dom state]\n        wrap-render    (collect   :wrap-render mixins)      ;; render-fn -> render-fn\n        wrapped-render (reduce #(%2 %1) render wrap-render)\n        did-mount      (collect* [:did-mount                ;; state -> state\n                                  :after-render] mixins)    ;; state -> state\n        did-remount    (collect   :did-remount mixins)      ;; old-state state -> state\n        should-update  (collect   :should-update mixins)    ;; old-state state -> boolean\n        will-update    (collect* [:will-update              ;; state -> state\n                                  :before-render] mixins)   ;; state -> state\n        did-update     (collect* [:did-update               ;; state -> state\n                                  :after-render] mixins)    ;; state -> state\n        did-catch      (collect   :did-catch mixins)        ;; state error info -> state\n        will-unmount   (collect   :will-unmount mixins)     ;; state -> state\n        child-context  (collect   :child-context mixins)    ;; state -> child-context\n        class-props    (reduce merge (collect :class-properties mixins))  ;; custom prototype properties and methods\n        static-props   (reduce merge (collect :static-properties mixins)) ;; custom static properties and methods\n\n        ctor           (fn [props]\n                         (this-as this\n                           (gobj/set this \"state\"\n                             #js {\":rum/state\"\n                                  (-> (gobj/get props \":rum/initial-state\")\n                                      (assoc :rum/react-component this)\n                                      (call-all init props)\n                                      volatile!)})\n                           (.call js/React.Component this props)))\n        _              (goog/inherits ctor js/React.Component)\n        prototype      (gobj/get ctor \"prototype\")]\n\n    (when-not (empty? will-mount)\n      (gobj/set prototype \"componentWillMount\"\n        (fn []\n          (this-as this\n            (vswap! (state this) call-all will-mount)))))\n\n    (when-not (empty? did-mount)\n      (gobj/set prototype \"componentDidMount\"\n        (fn []\n          (this-as this\n            (vswap! (state this) call-all did-mount)))))\n\n    (gobj/set prototype \"componentWillReceiveProps\"\n      (fn [next-props]\n        (this-as this\n          (let [old-state  @(state this)\n                state      (merge old-state\n                                  (gobj/get next-props \":rum/initial-state\"))\n                next-state (reduce #(%2 old-state %1) state did-remount)]\n            ;; allocate new volatile so that we can access both old and new states in shouldComponentUpdate\n            (.setState this #js {\":rum/state\" (volatile! next-state)})))))\n\n    (when-not (empty? should-update)\n      (gobj/set prototype \"shouldComponentUpdate\"\n        (fn [next-props next-state]\n            (this-as this\n              (let [old-state @(state this)\n                    new-state @(gobj/get next-state \":rum/state\")]\n                (or (some #(% old-state new-state) should-update) false))))))\n    \n    (when-not (empty? will-update)\n      (gobj/set prototype \"componentWillUpdate\"\n        (fn [_ next-state]\n          (this-as this\n            (let [new-state (gobj/get next-state \":rum/state\")]\n              (vswap! new-state call-all will-update))))))\n    \n    (gobj/set prototype \"render\"\n      (fn []\n        (this-as this\n          (let [state (state this)\n                [dom next-state] (wrapped-render @state)]\n            (vreset! state next-state)\n            dom))))\n\n    (when-not (empty? did-update)\n      (gobj/set prototype \"componentDidUpdate\"\n        (fn [_ _]\n          (this-as this\n            (vswap! (state this) call-all did-update)))))\n\n    (when-not (empty? did-catch)\n      (gobj/set prototype \"componentDidCatch\"\n        (fn [error info]\n          (this-as this\n            (vswap! (state this) call-all did-catch error {:rum/component-stack (gobj/get info \"componentStack\")})\n            (.forceUpdate this)))))\n\n    (gobj/set prototype \"componentWillUnmount\"\n      (fn []\n        (this-as this\n          (when-not (empty? will-unmount)\n            (vswap! (state this) call-all will-unmount))\n          (gobj/set this \":rum/unmounted?\" true))))\n\n    (when-not (empty? child-context)\n      (gobj/set prototype \"getChildContext\"\n        (fn []\n          (this-as this\n            (let [state @(state this)]\n              (clj->js (transduce (map #(% state)) merge {} child-context)))))))\n    \n    (extend! prototype class-props)\n    (gobj/set ctor \"displayName\" display-name)\n    (extend! ctor static-props)\n    ctor))\n\n\n(defn- build-ctor [render mixins display-name]\n  (let [class  (build-class render mixins display-name)\n        key-fn (first (collect :key-fn mixins))\n        ctor   (if (some? key-fn)\n                 (fn [& args]\n                   (let [props #js { \":rum/initial-state\" { :rum/args args }\n                                     \"key\" (apply key-fn args) }]\n                     (js/React.createElement class props)))\n                 (fn [& args]\n                   (let [props #js { \":rum/initial-state\" { :rum/args args }}] \n                     (js/React.createElement class props))))]\n    (with-meta ctor { :rum/class class })))\n\n\n(defn ^:no-doc build-defc [render-body mixins display-name]\n  (if (empty? mixins)\n    (let [class (fn [props]\n                  (apply render-body (aget props \":rum/args\")))\n          _     (aset class \"displayName\" display-name)\n          ctor  (fn [& args]\n                  (js/React.createElement class #js { \":rum/args\" args }))]\n      (with-meta ctor { :rum/class class }))\n    (let [render (fn [state] [(apply render-body (:rum/args state)) state])]\n      (build-ctor render mixins display-name))))\n\n\n(defn ^:no-doc build-defcs [render-body mixins display-name]\n  (let [render (fn [state] [(apply render-body state (:rum/args state)) state])]\n    (build-ctor render mixins display-name)))\n\n\n(defn ^:no-doc build-defcc [render-body mixins display-name]\n  (let [render (fn [state] [(apply render-body (:rum/react-component state) (:rum/args state)) state])] \n    (build-ctor render mixins display-name)))\n\n\n;; render queue\n\n(def ^:private schedule\n  (or (and (exists? js/window)\n           (or js/window.requestAnimationFrame\n               js/window.webkitRequestAnimationFrame\n               js/window.mozRequestAnimationFrame\n               js/window.msRequestAnimationFrame))\n    #(js/setTimeout % 16)))\n\n\n(def ^:private batch\n  (or (when (exists? js/ReactNative) js/ReactNative.unstable_batchedUpdates)\n      (when (exists? js/ReactDOM) js/ReactDOM.unstable_batchedUpdates)\n      (fn [f a] (f a))))\n\n\n(def ^:private empty-queue [])\n(def ^:private render-queue (volatile! empty-queue))\n\n\n(defn- render-all [queue]\n  (doseq [comp queue\n          :when (not (gobj/get comp \":rum/unmounted?\"))]\n    (.forceUpdate comp)))\n\n\n(defn- render []\n  (let [queue @render-queue]\n    (vreset! render-queue empty-queue)\n    (batch render-all queue)))\n\n\n(defn request-render\n  \"Schedules react component to be rendered on next animation frame.\"\n  [component]\n  (when (empty? @render-queue)\n    (schedule render))\n  (vswap! render-queue conj component))\n\n\n(defn mount\n  \"Add element to the DOM tree. Idempotent. Subsequent mounts will just update element.\"\n  [element node]\n  (js/ReactDOM.render element node)\n  nil)\n\n\n(defn unmount\n  \"Removes component from the DOM tree.\"\n  [node]\n  (js/ReactDOM.unmountComponentAtNode node))\n\n\n(defn hydrate\n  \"Same as [[mount]] but must be called on DOM tree already rendered by a server via [[render-html]].\"\n  [element node]\n  (js/ReactDOM.hydrate element node))\n\n\n(defn portal\n  \"Render `element` in a DOM `node` that is ouside of current DOM hierarchy.\"\n  [element node]\n  (js/ReactDOM.createPortal element node))\n\n\n;; initialization\n\n(defn with-key\n  \"Adds React key to element.\n   \n   ```\n   (rum/defc label [text] [:div text])\n\n   (-> (label)\n       (rum/with-key \\\"abc\\\")\n       (rum/mount js/document.body))\n   ```\"\n  [element key]\n  (js/React.cloneElement element #js { \"key\" key } nil))\n\n\n(defn with-ref\n  \"Adds React ref (string or callback) to element.\n   \n   ```\n   (rum/defc label [text] [:div text])\n\n   (-> (label)\n       (rum/with-ref \\\"abc\\\")\n       (rum/mount js/document.body))\n   ```\"\n  [element ref]\n  (js/React.cloneElement element #js { \"ref\" ref } nil))\n\n\n(defn dom-node\n  \"Given state, returns top-level DOM node of component. Call it during lifecycle callbacks. Can\u2019t be called during render.\"\n  [state]\n  (js/ReactDOM.findDOMNode (:rum/react-component state)))\n\n\n(defn ref\n  \"Given state and ref handle, returns React component.\"\n  [state key]\n  (-> state :rum/react-component (aget \"refs\") (aget (name key))))\n\n\n(defn ref-node\n  \"Given state and ref handle, returns DOM node associated with ref.\"\n  [state key]\n  (js/ReactDOM.findDOMNode (ref state (name key))))\n\n\n;; static mixin\n\n(def static\n  \"Mixin. Will avoid re-render if none of component\u2019s arguments have changed. Does equality check (`=`) on all arguments.\n  \n   ```\n   (rum/defc label < rum/static\n     [text]\n     [:div text])\n     \n   (rum/mount (label \\\"abc\\\") js/document.body)\n\n   ;; def != abc, will re-render\n   (rum/mount (label \\\"def\\\") js/document.body)\n\n   ;; def == def, won\u2019t re-render\n   (rum/mount (label \\\"def\\\") js/document.body)\n   ```\"\n  { :should-update\n    (fn [old-state new-state]\n      (not= (:rum/args old-state) (:rum/args new-state))) })\n\n\n;; local mixin\n\n(defn local\n  \"Mixin constructor. Adds an atom to component\u2019s state that can be used to keep stuff during component\u2019s lifecycle. Component will be re-rendered if atom\u2019s value changes. Atom is stored under user-provided key or under `:rum/local` by default.\n  \n   ```\n   (rum/defcs counter < (rum/local 0 :cnt)\n     [state label]\n     (let [*cnt (:cnt state)]\n       [:div {:on-click (fn [_] (swap! *cnt inc))}\n         label @*cnt]))\n   \n   (rum/mount (counter \\\"Click count: \\\"))\n   ```\"\n  ([initial] (local initial :rum/local))\n  ([initial key]\n    { :will-mount\n      (fn [state]\n        (let [local-state (atom initial)\n              component   (:rum/react-component state)]\n          (add-watch local-state key\n            (fn [_ _ _ _]\n              (request-render component)))\n          (assoc state key local-state))) }))\n\n\n;; reactive mixin\n\n(def ^:private ^:dynamic *reactions*)\n\n\n(def reactive\n  \"Mixin. Works in conjunction with [[react]].\n  \n   ```\n   (rum/defc comp < rum/reactive\n     [*counter]\n     [:div (rum/react counter)])\n\n   (def *counter (atom 0))\n   (rum/mount (comp *counter) js/document.body)\n   (swap! *counter inc) ;; will force comp to re-render\n   ```\"\n  { :init\n    (fn [state props]\n      (assoc state :rum.reactive/key (random-uuid)))\n    :wrap-render\n    (fn [render-fn]\n      (fn [state]\n        (binding [*reactions* (volatile! #{})]\n          (let [comp             (:rum/react-component state)\n                old-reactions    (:rum.reactive/refs state #{})\n                [dom next-state] (render-fn state)\n                new-reactions    @*reactions*\n                key              (:rum.reactive/key state)]\n            (doseq [ref old-reactions]\n              (when-not (contains? new-reactions ref)\n                (remove-watch ref key)))\n            (doseq [ref new-reactions]\n              (when-not (contains? old-reactions ref)\n                (add-watch ref key\n                  (fn [_ _ _ _]\n                    (request-render comp)))))\n            [dom (assoc next-state :rum.reactive/refs new-reactions)]))))\n    :will-unmount\n    (fn [state]\n      (let [key (:rum.reactive/key state)]\n        (doseq [ref (:rum.reactive/refs state)]\n          (remove-watch ref key)))\n      (dissoc state :rum.reactive/refs :rum.reactive/key)) })\n\n\n(defn react\n  \"Works in conjunction with [[reactive]] mixin. Use this function instead of `deref` inside render, and your component will subscribe to changes happening to the derefed atom.\"\n  [ref]\n  (assert *reactions* \"rum.core/react is only supported in conjunction with rum.core/reactive\")\n  (vswap! *reactions* conj ref)\n  @ref)\n\n\n;; derived-atom\n\n(def ^{:style/indent 2\n       :arglists '([refs key f] [refs key f opts])\n       :doc \"Use this to create \u201cchains\u201d and acyclic graphs of dependent atoms.\n   \n             [[derived-atom]] will:\n          \n             - Take N \u201csource\u201d refs.\n             - Set up a watch on each of them.\n             - Create \u201csink\u201d atom.\n             - When any of source refs changes:\n                - re-run function `f`, passing N dereferenced values of source refs.\n                - `reset!` result of `f` to the sink atom.\n             - Return sink atom.\n\n             Example:\n\n             ```\n             (def *a (atom 0))\n             (def *b (atom 1))\n             (def *x (derived-atom [*a *b] ::key\n                       (fn [a b]\n                         (str a \\\":\\\" b))))\n             \n             (type *x) ;; => clojure.lang.Atom\n             (deref *x) ;; => \\\"0:1\\\"\n             \n             (swap! *a inc)\n             (deref *x) ;; => \\\"1:1\\\"\n             \n             (reset! *b 7)\n             (deref *x) ;; => \\\"1:7\\\"\n             ```\n\n             Arguments:\n          \n             - `refs` - sequence of source refs,\n             - `key`  - unique key to register watcher, same as in `clojure.core/add-watch`,\n             - `f`    - function that must accept N arguments (same as number of source refs) and return a value to be written to the sink ref. Note: `f` will be called with already dereferenced values,\n             - `opts` - optional. Map of:\n               - `:ref` - use this as sink ref. By default creates new atom,\n               - `:check-equals?` - Defaults to `true`. If equality check should be run on each source update: `(= @sink (f new-vals))`. When result of recalculating `f` equals to the old value, `reset!` won\u2019t be called. Set to `false` if checking for equality can be expensive.\"}\n  derived-atom derived-atom/derived-atom)\n\n\n;; cursors\n\n(defn cursor-in\n  \"Given atom with deep nested value and path inside it, creates an atom-like structure\n   that can be used separately from main atom, but will sync changes both ways:\n  \n   ```\n   (def db (atom { :users { \\\"Ivan\\\" { :age 30 }}}))\n   \n   (def ivan (rum/cursor db [:users \\\"Ivan\\\"]))\n   (deref ivan) ;; => { :age 30 }\n   \n   (swap! ivan update :age inc) ;; => { :age 31 }\n   (deref db) ;; => { :users { \\\"Ivan\\\" { :age 31 }}}\n   \n   (swap! db update-in [:users \\\"Ivan\\\" :age] inc)\n   ;; => { :users { \\\"Ivan\\\" { :age 32 }}}\n   \n   (deref ivan) ;; => { :age 32 }\n   ```\n  \n   Returned value supports `deref`, `swap!`, `reset!`, watches and metadata.\n  \n   The only supported option is `:meta`\"\n  [ref path & {:as options}]\n  (if (instance? cursor/Cursor ref)\n    (cursor/Cursor. (.-ref ref) (into (.-path ref) path) (:meta options))\n    (cursor/Cursor. ref path (:meta options))))\n\n\n(defn cursor\n  \"Same as [[cursor-in]] but accepts single key instead of path vector.\"\n  [ref key & options]\n  (apply cursor-in ref [key] options))\n"]}