{"version":3,"sources":["predict_prostate/layout/input_panels.cljs"],"mappings":"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","names":["predict-prostate.layout.input-panels/key-event","e","nev","cljs.core._EQ_","predict-prostate.layout.input-panels/submit-event","rum.core/build-defc","js/React.createElement","predict-prostate.layout.input-panels/treatments-received-help","rum.core/static","predict-prostate.layout.input-panels/treatments-received-form","model-keys","attrs35750","cljs.core.apply","cljs.core/map?","sablono.interpreter/attributes","sablono.interpreter/interpret","predict-prostate.layout.input-panels/treatments-received-panel","G__35751","G__35752","predict-prostate.components.panels/titled-panel","predict-prostate.layout.input-panels/less-well-tested","text","predict-prostate.layout.input-panels/mets-warning","predict-prostate.layout.input-panels/mets-danger","predict-prostate.layout.input-panels/patient-related-form","rum.core/reactive","ttt","G__35790","predict-prostate.components.helpful-form-groups/form-entry","G__35791","G__35792","rum.core/react","predict-prostate.state.run-time/input-cursor","G__35793","G__35794","G__35795","G__35796","G__35797","G__35799","predict-prostate.layout.input-panels/patient-related-panel","predict-prostate.layout.input-panels/biopsy-core-examples","predict-prostate.state.run-time/help-key-change","G__35803","G__35804","predict-prostate.state.run-time/route-change","G__35805","predict-prostate.layout.input-panels/biopsy-small-text","top-offset","G__35807","attrs35808","predict-prostate.layout.input-panels/tumour-related-form","G__35809","G__35811","fexpr__35810","G__35815","fexpr__35814","G__35812","G__35816","G__35813","G__35817","G__35818","G__35819","G__35820","G__35821","G__35822","G__35823","G__35825","fexpr__35824","G__35826","G__35827","G__35829","fexpr__35828","G__35830","G__35831","G__35832","G__35834","fexpr__35833","G__35835","G__35836","G__35838","fexpr__35837","G__35839","G__35840","attrs35841","predict-prostate.layout.input-panels/tumour-related-panel","G__35842","G__35843","predict-prostate.layout.input-panels/hormone-form","G__35844","G__35845","G__35846","attrs35847","predict-prostate.layout.input-panels/hormone-panel","G__35848","G__35849","attrs35850","sablono.normalize.merge_with_class","predict-prostate.layout.input-panels/inputs-row","predict-prostate.components.bs-mixins/tt-mixin","predict-prostate.state.load-config/live-keys-by-model","predict-prostate.state.run-time/model","G__35851","predict-prostate.layout.navbar/clear-all-button","predict-prostate.state.mutations/clear-inputs"],"sourcesContent":["(ns predict-prostate.layout.input-panels\n  (:require [rum.core :as rum]\n            [predict-prostate.state.run-time :refer [model\n                                                     input-cursor\n                                                     input-change\n                                                     help-key-change\n                                                     route-change\n                                                     ]]\n            [predict-prostate.components.button :refer [settings-button]]\n\n    ;[predict-prostate.layout.input-panels :refer [clear-all-button]]\n            [predict-prostate.layout.navbar :refer [clear-all-button]]\n            [predict-prostate.state.load-config :refer [live-keys-by-model]]\n            [predict-prostate.state.mutations :refer [clear-inputs]]\n            [predict-prostate.components.helpful-form-groups :refer [form-entry]]\n            [predict-prostate.components.panels :refer [titled-panel]]\n            [predict-prostate.components.helpful-form-groups :refer [helpful-input form-entry]]\n            [predict-prostate.components.bs-mixins :refer [tt-mixin]]\n            [pubsub.feeds :refer [publish]]\n            ))\n\n\n(defn key-event\n  \"prevent undesirable reload behaviour on form events - particularly in IE10 - due to unwanted onSubmits\"\n  [e]\n  (let [nev (.-nativeEvent e)]\n    (when (= \"Enter\" (.-key nev))\n      (.preventDefault nev))))\n\n(defn submit-event\n  \"prevent undesirable reload behaviour on form events - particularly in IE10 - due to unwanted onSubmits\"\n  [e]\n  (let [nev (.-nativeEvent e)]\n    (.preventDefault nev)\n    (.stopPropagation nev)\n    ))\n\n\n;;;\n;; TREATMENTS RECEIVED\n;;;\n(rum/defc treatments-received-help < rum/static []\n  [:div \"Treatments received help\"])\n\n\n(rum/defc treatments-received-form < rum/static [model-keys]\n  [:form.form-horizontal {:on-key-press key-event\n                          :on-submit    submit-event}\n   ])\n\n(rum/defc treatments-received-panel < rum/static [model-keys]\n  [:div\n   (titled-panel\n     {:key   \"treatments-already-received\"\n      :title \"Treatments already received\"\n      :help  treatments-received-help}\n     (treatments-received-form model-keys))]\n  )\n\n(rum/defc less-well-tested [text]\n  [:div {:style {:color       \"#686868\"\n                 :margin-left \"145px\"\n                 :margin-top  0}}\n   [:i.fa.fa-exclamation-triangle {:aria-hidden \"true\" :style {:color \"orange\" :padding-right 5}}]\n   text])\n\n(rum/defc mets-warning [text]\n  [:div {:style {:color       \"#686868\"\n                 :margin-left \"145px\"\n                 :margin-top  0}}\n   [:i.fa.fa-exclamation-triangle {:aria-hidden \"true\" :style {:color \"orange\" :padding-right 5}}]\n   text]\n  )\n\n(rum/defc mets-danger [text]\n  [:div {:style {:color       \"#f00\"                        ;\"#686868\"\n                 :margin-left \"145px\"\n                 :margin-top  0}}\n   [:i.fa.fa-exclamation-triangle {:aria-hidden \"true\" :style {:color \"red\" :padding-right 5}}]\n    text]\n  )\n;;;\n;; PATIENT RELATED\n;;;\n\n(rum/defc patient-related-form < rum/reactive [ttt model-keys]\n  [:div\n\n   [:form.form-horizontal {:on-key-press key-event\n                           :on-submit    submit-event}\n    (when (model-keys :age) [:div (form-entry {:ttt ttt :label \"Age\" :key :age})\n                             #_[:div {:style {:color       \"#686868\"\n                                              :margin-left \"145px\"\n                                              :margin-top  -5}}\n                                \"Age must be between 35 and 95\"]])\n\n    (when (model-keys :psa) (form-entry {:ttt ttt :label \"PSA\" :key :psa}))\n    (when (model-keys :t-stage) (form-entry {:ttt ttt :label \"T stage\" :key :t-stage}))\n    (when (= 4 (rum/react (input-cursor :t-stage))) (less-well-tested (ttt [:patient/lwtstages \"The tool is less well tested in higher stages\"])))\n    (when (model-keys :h-admissions) (form-entry {:ttt ttt :label \"h-admissions\" :key :h-admissions}))\n    (when (= (rum/react (input-cursor :h-admissions)) 1)\n      (when (model-keys :charlson-comorbidity) (form-entry {:ttt ttt :label \"comorb\" :key :charlson-comorbidity})))\n    (when (model-keys :brca) (form-entry {:ttt ttt :label \"BRCA\" :key :brca}))\n    (form-entry {:ttt ttt :label \"Ethnicity\" :key :ethnicity})]])\n\n\n(rum/defc patient-related-panel < rum/static [ttt model-keys]\n  (patient-related-form ttt model-keys)\n  )\n\n;;;\n;; TUMOUR RELATED\n;;;\n(rum/defc biopsy-core-examples [ttt]\n  [:span  [:a {:style    {:color  \"#000\" :text-decoration \"underline\"\n                          :cursor \"pointer\"}\n               :on-click #(publish help-key-change \"biopsy-examples\")} (ttt [:bio/examples \"See examples\"])]\n   \" \" (ttt [:bio/and \"and\"]) \" \"\n   [:a {:style    {:color  \"#000\" :text-decoration \"underline\"\n                   :cursor \"pointer\"}\n        :on-click #(publish route-change [:about {:page :faqs}])} (ttt [:bio/faqs \"FAQs.\"])]])\n\n(rum/defc biopsy-small-text\n  ([ttt top-offset]\n   [:div {:style {:color       \"#686868\"\n                  :margin-left \"145px\"\n                  :margin-top  (str top-offset \"px\")}}\n    (ttt [:bio/cores \"Biopsy cores taken from a target site are considered as 1 core regardless of the number of biopsy cores taken. \"])\n    (biopsy-core-examples ttt)]))\n\n\n(rum/defc tumour-related-form < rum/static rum/reactive [ttt model-keys]\n  [:form.form-horizontal {:on-key-press key-event\n                          :on-submit    submit-event}\n\n   [:div (form-entry {:ttt ttt :label \"Histological grade group\" :key :grade-group})\n    (when (#{4 5} (rum/react (input-cursor :grade-group)))\n      (less-well-tested (ttt [:tumour/lwt \"The tool is less well tested for higher scores\"])))]\n   (form-entry {:ttt ttt :label \"Gleason score\" :key :gleason})\n\n   (when (model-keys :biopsy50)\n     (form-entry {:ttt ttt :label \"Biopsy\" :key :biopsy50}))\n\n   (when (model-keys :biopsy-done) (form-entry {:ttt ttt :label \"Biopsy\" :key :biopsy-done}))\n\n   (when (= (rum/react (input-cursor :biopsy-done)) 1)\n     [:div\n      (when (model-keys :biopsy-cores-taken)\n        (form-entry {:ttt ttt :label \"Number of biopsy cores taken\" :key :biopsy-cores-taken}))\n      (biopsy-small-text ttt 0)\n\n      (when (model-keys :biopsy-cores-involved)\n        (form-entry {:ttt ttt :label \"Number of biopsy cores with prostate cancer\" :key :biopsy-cores-involved}))\n      (biopsy-small-text ttt -12)\n      ])\n\n   (when (model-keys :intra-ductal) (form-entry {:ttt ttt :label \"intraductal\" :key :intra-ductal}))\n   (when (#{:yes} (rum/react (input-cursor :intra-ductal)))\n     (mets-danger (ttt [:tumour/notsuit \"This tool is not suitable for men where these features are present.\"])))\n   (when (#{:unknown} (rum/react (input-cursor :intra-ductal)))\n     (mets-warning (ttt [:tumour/notacc \"This tool does not account for intra-ductal carcinoma or invasive cribriform component. If you're unsure use the data with caution and please consult your medical professional.\"])))\n\n\n   (when (model-keys :metastasis) (form-entry {:ttt ttt :label \"metastasis\" :key :metastasis}))\n   (when (#{:yes} (rum/react (input-cursor :metastasis)))\n     (mets-danger (ttt [:tumour/notdisplayed \"Results will not be displayed as this tool is only for use in men without metastatic disease.\"])))\n   (when (#{:unknown} (rum/react (input-cursor :metastasis)))\n     (mets-warning (ttt [:tumour/onlywithout \"This tool is only for use in men without metastatic disease. If you're unsure use the data with caution and please consult your medical professional\"])))\n   ])\n\n(rum/defc tumour-related-panel < rum/static [ttt model-keys]\n  [:div\n   (titled-panel\n     {:key   \"about-the-tumour-physical\"\n      :title \"Tumour: physical characteristics\"\n      :help  nil}\n     (tumour-related-form ttt model-keys)\n     )]\n  )\n\n\n(rum/defc hormone-form < rum/static [model-keys]\n  [:form.form-horizontal {:on-key-press key-event\n                          :on-submit    submit-event}\n   (when (model-keys :er-status) (form-entry {:label \"ER status\" :key :er-status}))\n   (when (model-keys :her2-status) (form-entry {:label \"HER2 status\" :key :her2-status}))\n   (when (model-keys :ki67-status) (form-entry {:label \"Ki-67 status\" :key :ki67-status}))\n   ])\n\n(rum/defc hormone-panel < rum/static [model-keys]\n  [:div\n   (titled-panel\n     {:key   \"about-the-tumour-biological\"\n      :title \"Tumour: biological characteristics\"\n      :help  nil}\n     (hormone-form model-keys))]\n  )\n\n(rum/defc inputs-row < rum/reactive tt-mixin [ttt]\n  (let [model-keys (live-keys-by-model model)]\n    [:div\n     [:.row\n      [:.col-md-11.col-md-offset-1.screen-only\n       (clear-all-button {:ttt ttt :on-click clear-inputs})]]\n     [:.row\n      [:.col-sm-6.col-sm-offset-1.screen-only {:style {:padding-right 0}}\n       (patient-related-panel ttt model-keys)]\n      [:.col-sm-5.screen-only {:style {:padding-right 0}}\n       (tumour-related-panel ttt model-keys)]\n\n      ]]\n    ))\n\n\n"]}