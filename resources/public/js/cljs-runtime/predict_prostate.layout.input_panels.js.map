{"version":3,"sources":["predict_prostate/layout/input_panels.cljs"],"mappings":";AAsBA;;;iDAAA,jDAAMA,0GAEHC;AAFH,AAGE,IAAMC,MAAI,AAAeD;AAAzB,AACE,GAAM,6CAAA,7CAACE,qDAAU,AAAOD;AAAxB,AACE,OAAiBA;;AADnB;;;AAGJ;;;oDAAA,pDAAME,gHAEHH;AAFH,AAGE,IAAMC,MAAI,AAAeD;AAAzB,AACE,AAAiBC;;AACjB,OAAkBA;;AAOtB,gEAAA,AAAAG,oBAAAC,oBAAA,xGAAUE;AAAV,AAAA,AAAA,OAAAD,6BAAA,MAAA,KAAA,CAAA;GAAA,4GAAA,zBAAqCE;AAIrC,gEAAA,AAAAJ,oBAAAC,oBAAA,xGAAUI,mHAAuCC;AAAjD,AAAA,AAAA,OAAAJ,6BAAA,OAAA,sIAAA,mBAAA,3IACwCP,0DACAI;GAFxC,4GAAA,zBAAqCK;AAKrC,iEAAA,AAAAJ,oBAAAC,oBAAA,zGAAUM,oHAAwCD;AAAlD,AAAA,AAAA,OAAAJ,6BAAA,MAAA,KAAA,CAEG,gDAAA,2CAAA,oDAAA,8BAAA,sDAAA,8BAAA,jQAACM,sTAGSL,sEACR,AAACE,8DAAyBC;GAN/B,4GAAA,zBAAsCF;AAStC,wDAAA,AAAAJ,oBAAAC,oBAAA,hGAAUS,2GAAkBC;AAA5B,AAAA,AAAA,OAAAT,6BAAA,MAAA,SAAA,SAAA,uBAAA,oBAAA,MAAA,CAAA,AAAAA,6BAAA,IAAA,eAAA,eAAA,SAAA,wBAAA,iBAAA,8BAAA,MAAA,AAAAO,+BAKGE;GALH,KAAA;AAOA,oDAAA,AAAAX,oBAAAC,oBAAA,5FAAUW,uGAAcD;AAAxB,AAAA,AAAA,OAAAT,6BAAA,MAAA,SAAA,SAAA,uBAAA,oBAAA,MAAA,CAAA,AAAAA,6BAAA,IAAA,eAAA,eAAA,SAAA,wBAAA,iBAAA,8BAAA,MAAA,AAAAO,+BAKGE;GALH,KAAA;AAQA,mDAAA,AAAAX,oBAAAC,oBAAA,3FAAUY,sGAAaF;AAAvB,AAAA,AAAA,OAAAT,6BAAA,MAAA,SAAA,SAAA,oBAAA,oBAAA,MAAA,CAAA,AAAAA,6BAAA,IAAA,eAAA,eAAA,SAAA,qBAAA,iBAAA,8BAAA,MAAA,AAAAO,+BAKIE;GALJ,KAAA;AAWA,4DAAA,AAAAX,oBAAAC,oBAAA,pGAAUa,+GAAqCE,IAAIV;AAAnD,AAAA,AAAA,OAAAJ,6BAAA,MAAA,KAAA,CAAA,AAAAA,6BAAA,OAAA,sIAAA,mBAAA,CAAA,wOAAA,AAAA,AAAAA,6BAAA,MAAA,KAAA,6UAAA,MAAA,wOAAA,0UAAA,MAAA,0PAAA,uVAAA,MAAA,+KAAA,7iEAGyCP,0DACAI,oGAC/B,qFAAA,2EAAA,/JAACO,2CAAAA,+FAAAA,oHAAuB,2DAAA,2CAAA,uDAAA,uDAAA,MAAA,oDAAA,9QAACW,yJAAiBD,2MAM1C,qFAAA,2EAAA,/JAACV,2CAAAA,+FAAAA,2EAAiB,2DAAA,2CAAA,uDAAA,uDAAA,MAAA,oDAAA,9QAACW,yJAAiBD,yMACpC,qFAAA,oFAAA,xKAACV,2CAAAA,wGAAAA,oFAAqB,2DAAA,2CAAA,uDAAA,uDAAA,UAAA,oDAAA,lRAACW,yJAAiBD,sMACxC,6CAAA,7CAAClB,iDAAI,AAACoB,eAAU,6CAAA,7CAACC,6GAAyB,AAACT,sDAAiB,iBAAAU,WAAA,mFAAA,4EAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACJ,oCAAAA,8CAAAA;MAbvE,MAAA,8QAAA,sWAAA,MAAA,yLAAA,AAAA,4SAAA,+WAAA,MAAA,MAAA,8OAAA,8UAAA,pgEAcU,qFAAA,8FAAA,lLAACV,2CAAAA,kHAAAA,8FAA0B,2DAAA,2CAAA,uDAAA,uDAAA,eAAA,oDAAA,vRAACW,yJAAiBD,qNAC7C,iLAAA,jLAAClB,6CAAE,AAACoB,eAAU,6CAAA,7CAACC,6IACb,qFAAA,6GAAA,jMAACb,2CAAAA,iIAAAA,6GAAkC,2DAAA,2CAAA,uDAAA,uDAAA,SAAA,oDAAA,jRAACW,yJAAiBD,oPACvD,qFAAA,8EAAA,lKAACV,2CAAAA,kGAAAA,8EAAkB,2DAAA,2CAAA,uDAAA,uDAAA,OAAA,oDAAA,/QAACW,yJAAiBD,2LAC3C,2DAAA,2CAAA,uDAAA,uDAAA,YAAA,oDAAA,pRAACC,yJAAiBD;GAlBtB,6GAAA,1BAAiCD;AAqBjC,6DAAA,AAAAf,oBAAAC,oBAAA,rGAAUoB,gHAAoCL,IAAIV;AAAlD,AAAA,AACE,OAACQ,0DAAqBE,IAAIV;GAD5B,4GAAA,zBAAkCF;AAOlC,4DAAA,AAAAJ,oBAAAC,oBAAA,pGAAUqB,+GAAsBN;AAAhC,AAAA,AAAA,OAAAd,6BAAA,OAAA,KAAA,CAAA,AAAAA,6BAAA,IAAA,SAAA,SAAA,wBAAA,qBAAA,qBAAA;AAAA,AAG0B,mGAAA,5FAASqB;IAHnC,CAAA,AAAAd,+BAGuE,iBAAAe,WAAA,mFAAA,kEAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACR,oCAAAA,8CAAAA;QAHxE,IAAA,AAAAP,+BAIO,iBAAAgB,WAAA,mFAAA,wDAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACT,oCAAAA,8CAAAA;MAJR,IAAA,AAAAd,6BAAA,IAAA,SAAA,SAAA,wBAAA,qBAAA,qBAAA;AAAA,AAOmB,gGAAA,mFAAA,uDAAA,2CAAA,oDAAA,lUAASwB;IAP5B,CAAA,AAAAjB,+BAOkE,iBAAAkB,WAAA,mFAAA,yDAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACX,oCAAAA,8CAAAA;;GAPnE,KAAA;AASA,yDAAA,AAAAhB,oBAAAC,oBAAA,jGAAU2B,4GACNZ,IAAIa;AADR,AAAA,AAAA,OAAA3B,6BAAA,MAAA,SAAA,SAAA,uBAAA,8FAAA,CAAA,AAAAO,3EAI+B,yDAAA,ZAAKoB,6DAChC,iBAAAC,WAAA,mFAAA,6DAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACd,oCAAAA,8CAAAA;MACD,AAACM,0DAAqBN;GAN1B,KAAA;AASA,2DAAA,AAAAhB,oBAAAC,oBAAA,nGAAUiC,8GAA+ClB,IAAIV;AAA7D,AAAA,AAAA,OAAAJ,6BAAA,OAAA,sIAAA,mBAAA,CAAA,AAAAA,6BAAA,MAAA,KAAA,iXAAA,riBACwCP,0DACAI,2HAE/B,2DAAA,2CAAA,uDAAA,uDAAA,2BAAA,oDAAA,nSAACkB,yJAAiBD,yOACjB,iBAAAmB,WAAQ,AAACjB,eAAU,6CAAA,7CAACC;IAApBiB,eAAA,iFAAA,SAAA;AAAA,AAAA,QAAAA,6CAAAA,2CAAAD,YAAAC,uBAAAD;MALV,AAMM,AAACzB,sDAAiB,iBAAA2B,WAAA,mFAAA,+DAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACrB,oCAAAA,8CAAAA;MANzB,qWAAA,8PAAA,wVAAA,MAAA,0QAAA,8VAAA,MAAA,uLAAA,AAAA,iBAAAe,/uDAOG,2DAAA,2CAAA,uDAAA,uDAAA,gBAAA,oDAAA,xRAACd,yJAAiBD,sNAEZ,qFAAA,sFAAA,1KAACV,2CAAAA,0GAAAA,sFACL,2DAAA,2CAAA,uDAAA,uDAAA,SAAA,oDAAA,jRAACW,yJAAiBD,uNAEd,qFAAA,4FAAA,hLAACV,2CAAAA,gHAAAA,4FAAyB,2DAAA,2CAAA,uDAAA,uDAAA,SAAA,oDAAA,jRAACW,yJAAiBD,6MAE5C,+KAAA,/KAAClB,6CAAE,AAACoB,eAAU,6CAAA,7CAACC,uJAElB,sSAAA,kYAAA,tpBAAM,qFAAA,0GAAA,9LAACb,2CAAAA,8HAAAA,0GACL,2DAAA,2CAAA,uDAAA,uDAAA,+BAAA,oDAAA,vSAACW,yJAAiBD;AAjB1B,AAAA,OAAAd,6BAAA,MAAA,EAAA,AAAA8B,qBAAAD,aAAA,AAAAE,wCAAAF,YAAA,MAAA,EAAA,AAAAC,qBAAAD,aAAA,iEAAA,gTAAA,sZAAA,yEAAA,CAAA,AAAAtB,+BAAAsB,4EAAA,gTAAA,sZAAA,joDAkBM,2DAAA,g0BAAA,2DAAA,t7BAACH,23BAAAA,p0BAAkBZ,23BAAAA,h2BAEb,qFAAA,+GAAA,urBAAA,qFAAA,+GAAA,9jCAACV,2CAAAA,mIAAAA,6sBAAAA,2CAAAA,mIAAAA,5wBACL,2DAAA,2CAAA,uDAAA,uDAAA,8CAAA,oDAAA,qkBAAA,2DAAA,2CAAA,uDAAA,uDAAA,8CAAA,oDAAA,jrCAACW,23BAAAA,luBAAiBD,23BAAAA,xnBACpB,2DAAA,g0BAAA,2DAAA,t7BAACY,23BAAAA,p0BAAkBZ,23BAAAA;KAtBzB,MAAA,4QAAA,oWAAA,MAAA,pmBAyBS,qFAAA,6FAAA,jLAACV,2CAAAA,iHAAAA,6FAA0B,2DAAA,2CAAA,uDAAA,uDAAA,cAAA,oDAAA,tRAACW,yJAAiBD,mOAC7C,iBAAAsB,WAAS,AAACpB,eAAU,6CAAA,7CAACC;IAArBoB,eAAA,iFAAA;AAAA,AAAA,QAAAA,6CAAAA,2CAAAD,YAAAC,uBAAAD;MA1BT,AA2BK,AAACzB,iDAAY,iBAAA2B,WAAA,mFAAA,uEAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACxB,oCAAAA,8CAAAA;MA3BnB,MAAA,kBA4BS,iBAAAyB,WAAa,AAACvB,eAAU,6CAAA,7CAACC;IAAzBuB,eAAA,iFAAA;AAAA,AAAA,QAAAA,6CAAAA,2CAAAD,YAAAC,uBAAAD;MA5BT,AA6BK,AAAC7B,kDAAa,iBAAA+B,WAAA,mFAAA,mEAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAAC3B,oCAAAA,8CAAAA;MA7BpB,MAAA,kQAAA,8VAAA,MAAA,plBAgCS,qFAAA,wFAAA,5KAACV,2CAAAA,4GAAAA,wFAAwB,2DAAA,2CAAA,uDAAA,uDAAA,aAAA,oDAAA,rRAACW,yJAAiBD,6NAC3C,iBAAA4B,WAAS,AAAC1B,eAAU,6CAAA,7CAACC;IAArB0B,eAAA,iFAAA;AAAA,AAAA,QAAAA,6CAAAA,2CAAAD,YAAAC,uBAAAD;MAjCT,AAkCK,AAAC/B,iDAAY,iBAAAiC,WAAA,mFAAA,gFAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAAC9B,oCAAAA,8CAAAA;MAlCnB,MAAA,kBAmCS,iBAAA+B,WAAa,AAAC7B,eAAU,6CAAA,7CAACC;IAAzB6B,eAAA,iFAAA;AAAA,AAAA,QAAAA,6CAAAA,2CAAAD,YAAAC,uBAAAD;MAnCT,AAoCK,AAACnC,kDAAa,iBAAAqC,WAAA,mFAAA,6EAAA;AAAA,AAAA,8EAAAA,0BAAAA,hGAACjC,oCAAAA,8CAAAA;MApCpB;GAAA,8HAAA,3CAAgCZ,iBAAWW;AAuC3C,4DAAA,AAAAf,oBAAAC,oBAAA,pGAAUiD,+GAAmClC,IAAIV;AAAjD,AAAA,AAAA,OAAAJ,6BAAA,MAAA,KAAA,CAEG,gDAAA,2CAAA,oDAAA,4BAAA,sDAAA,mCAAA,qDAAA,zTAACM,sUAIC,AAAC0B,yDAAoBlB,IAAIV;GAN9B,4GAAA,zBAAiCF;AAWjC,oDAAA,AAAAJ,oBAAAC,oBAAA,5FAAUkD,uGAA2B7C;AAArC,AAAA,AAAA,OAAAJ,6BAAA,OAAA,sIAAA,mBAAA,CAAA,kQAAA,sSAAA,MAAA,wQAAA,2SAAA,MAAA,0QAAA,6SAAA,1yDACwCP,0DACAI,oGAC/B,qFAAA,wFAAA,5KAACO,2CAAAA,4GAAAA,wFAAuB,2DAAA,2CAAA,uDAAA,YAAA,oDAAA,7NAACW,8TACzB,qFAAA,2FAAA,/KAACX,2CAAAA,+GAAAA,2FAAyB,2DAAA,2CAAA,uDAAA,cAAA,oDAAA,/NAACW,mUAC3B,qFAAA,4FAAA,hLAACX,2CAAAA,gHAAAA,4FAAyB,2DAAA,2CAAA,uDAAA,eAAA,oDAAA,hOAACW;GALpC,4GAAA,zBAAyBb;AAQzB,qDAAA,AAAAJ,oBAAAC,oBAAA,7FAAUmD,wGAA4B9C;AAAtC,AAAA,AAAA,OAAAJ,6BAAA,MAAA,KAAA,CAEG,gDAAA,2CAAA,oDAAA,8BAAA,sDAAA,qCAAA,qDAAA,7TAACM,0UAIC,AAAC2C,kDAAa7C;GANnB,4GAAA,zBAA0BF;AAS1B,kDAAA,AAAAJ,oBAAAC,oBAAA,1FAAUoD,qGAAoCrC;AAA9C,AAAA,AAAA,IACQV,aAAW,AAACiD,sDAAmBC;AADvC,AAAA,OAAAtD,6BAAA,MAAA,KAAA,CAAA,AAAAA,6BAAA,MAAA,aAAA,OAAA,CAAA,AAAAA,6BAAA,MAAA,aAAA,yCAAA,2QAAA,AAAAA,6BAAA,MAAA,aAAA,OAAA,CAAA,AAAAA,6BAAA,MAAA,SAAA,gBAAA,iBAAA,wCAAA,8EAAA,AAAAA,6BAAA,MAAA,SAAA,gBAAA,iBAAA,wBAAA,1mBAKO,gDAAA,2CAAA,uDAAA,lJAACuD,8IAAuBzC,iEAAc0C,yOAGtC,AAACrC,2DAAsBL,IAAIV,oHAE3B,AAAC4C,0DAAqBlC,IAAIV;GAVjC,4JAAA,zEAAuBS,kBAAauC","names":["predict-prostate.layout.input-panels/key-event","e","nev","cljs.core._EQ_","predict-prostate.layout.input-panels/submit-event","rum.core/lazy-build","rum.core/build-defc","daiquiri.core/create-element","predict-prostate.layout.input-panels/treatments-received-help","rum.core/static","predict-prostate.layout.input-panels/treatments-received-form","model-keys","predict-prostate.layout.input-panels/treatments-received-panel","predict-prostate.components.panels/titled-panel","daiquiri.interpreter/interpret","predict-prostate.layout.input-panels/less-well-tested","text","predict-prostate.layout.input-panels/mets-warning","predict-prostate.layout.input-panels/mets-danger","predict-prostate.layout.input-panels/patient-related-form","rum.core/reactive","ttt","predict-prostate.components.helpful-form-groups/form-entry","rum.core/react","predict-prostate.state.run-time/input-cursor","G__36955","predict-prostate.layout.input-panels/patient-related-panel","predict-prostate.layout.input-panels/biopsy-core-examples","predict-prostate.state.run-time/help-key-change","G__36959","G__36961","predict-prostate.state.run-time/route-change","G__36964","predict-prostate.layout.input-panels/biopsy-small-text","top-offset","G__36966","attrs36967","cljs.core/map?","daiquiri.interpreter/element-attributes","predict-prostate.layout.input-panels/tumour-related-form","G__36969","fexpr__36968","G__36971","G__36973","fexpr__36972","G__36975","G__36977","fexpr__36976","G__36979","G__36981","fexpr__36980","G__36983","G__36985","fexpr__36984","G__36987","predict-prostate.layout.input-panels/tumour-related-panel","predict-prostate.layout.input-panels/hormone-form","predict-prostate.layout.input-panels/hormone-panel","predict-prostate.layout.input-panels/inputs-row","predict-prostate.components.bs-mixins/tt-mixin","predict-prostate.state.load-config/live-keys-by-model","predict-prostate.state.run-time/model","predict-prostate.layout.navbar/clear-all-button","predict-prostate.state.mutations/clear-inputs"],"sourcesContent":["(ns predict-prostate.layout.input-panels\n  (:require [rum.core :as rum]\n            [predict-prostate.state.run-time :refer [model\n                                                     input-cursor\n                                                     input-change\n                                                     help-key-change\n                                                     route-change\n                                                     ]]\n            [predict-prostate.components.button :refer [settings-button]]\n\n    ;[predict-prostate.layout.input-panels :refer [clear-all-button]]\n            [predict-prostate.layout.navbar :refer [clear-all-button]]\n            [predict-prostate.state.load-config :refer [live-keys-by-model]]\n            [predict-prostate.state.mutations :refer [clear-inputs]]\n            [predict-prostate.components.helpful-form-groups :refer [form-entry]]\n            [predict-prostate.components.panels :refer [titled-panel]]\n            [predict-prostate.components.helpful-form-groups :refer [helpful-input form-entry]]\n            [predict-prostate.components.bs-mixins :refer [tt-mixin]]\n            [pubsub.feeds :refer [publish]]\n            ))\n\n\n(defn key-event\n  \"prevent undesirable reload behaviour on form events - particularly in IE10 - due to unwanted onSubmits\"\n  [e]\n  (let [nev (.-nativeEvent e)]\n    (when (= \"Enter\" (.-key nev))\n      (.preventDefault nev))))\n\n(defn submit-event\n  \"prevent undesirable reload behaviour on form events - particularly in IE10 - due to unwanted onSubmits\"\n  [e]\n  (let [nev (.-nativeEvent e)]\n    (.preventDefault nev)\n    (.stopPropagation nev)\n    ))\n\n\n;;;\n;; TREATMENTS RECEIVED\n;;;\n(rum/defc treatments-received-help < rum/static []\n  [:div \"Treatments received help\"])\n\n\n(rum/defc treatments-received-form < rum/static [model-keys]\n  [:form.form-horizontal {:on-key-press key-event\n                          :on-submit    submit-event}\n   ])\n\n(rum/defc treatments-received-panel < rum/static [model-keys]\n  [:div\n   (titled-panel\n     {:key   \"treatments-already-received\"\n      :title \"Treatments already received\"\n      :help  treatments-received-help}\n     (treatments-received-form model-keys))]\n  )\n\n(rum/defc less-well-tested [text]\n  [:div {:style {:color       \"#686868\"\n                 :margin-left \"145px\"\n                 :margin-top  0}}\n   [:i.fa.fa-exclamation-triangle {:aria-hidden \"true\" :style {:color \"orange\" :padding-right 5}}]\n   text])\n\n(rum/defc mets-warning [text]\n  [:div {:style {:color       \"#686868\"\n                 :margin-left \"145px\"\n                 :margin-top  0}}\n   [:i.fa.fa-exclamation-triangle {:aria-hidden \"true\" :style {:color \"orange\" :padding-right 5}}]\n   text]\n  )\n\n(rum/defc mets-danger [text]\n  [:div {:style {:color       \"#f00\"                        ;\"#686868\"\n                 :margin-left \"145px\"\n                 :margin-top  0}}\n   [:i.fa.fa-exclamation-triangle {:aria-hidden \"true\" :style {:color \"red\" :padding-right 5}}]\n    text]\n  )\n;;;\n;; PATIENT RELATED\n;;;\n\n(rum/defc patient-related-form < rum/reactive [ttt model-keys]\n  [:div\n\n   [:form.form-horizontal {:on-key-press key-event\n                           :on-submit    submit-event}\n    (when (model-keys :age) [:div (form-entry {:ttt ttt :label \"Age\" :key :age})\n                             #_[:div {:style {:color       \"#686868\"\n                                              :margin-left \"145px\"\n                                              :margin-top  -5}}\n                                \"Age must be between 35 and 95\"]])\n\n    (when (model-keys :psa) (form-entry {:ttt ttt :label \"PSA\" :key :psa}))\n    (when (model-keys :t-stage) (form-entry {:ttt ttt :label \"T stage\" :key :t-stage}))\n    (when (= 4 (rum/react (input-cursor :t-stage))) (less-well-tested (ttt [:patient/lwtstages \"The tool is less well tested in higher stages\"])))\n    (when (model-keys :h-admissions) (form-entry {:ttt ttt :label \"h-admissions\" :key :h-admissions}))\n    (when (= (rum/react (input-cursor :h-admissions)) 1)\n      (when (model-keys :charlson-comorbidity) (form-entry {:ttt ttt :label \"comorb\" :key :charlson-comorbidity})))\n    (when (model-keys :brca) (form-entry {:ttt ttt :label \"BRCA\" :key :brca}))\n    (form-entry {:ttt ttt :label \"Ethnicity\" :key :ethnicity})]])\n\n\n(rum/defc patient-related-panel < rum/static [ttt model-keys]\n  (patient-related-form ttt model-keys)\n  )\n\n;;;\n;; TUMOUR RELATED\n;;;\n(rum/defc biopsy-core-examples [ttt]\n  [:span  [:a {:style    {:color  \"#000\" :text-decoration \"underline\"\n                          :cursor \"pointer\"}\n               :on-click #(publish help-key-change \"biopsy-examples\")} (ttt [:bio/examples \"See examples\"])]\n   \" \" (ttt [:bio/and \"and\"]) \" \"\n   [:a {:style    {:color  \"#000\" :text-decoration \"underline\"\n                   :cursor \"pointer\"}\n        :on-click #(publish route-change [:about {:page :faqs}])} (ttt [:bio/faqs \"FAQs.\"])]])\n\n(rum/defc biopsy-small-text\n  ([ttt top-offset]\n   [:div {:style {:color       \"#686868\"\n                  :margin-left \"145px\"\n                  :margin-top  (str top-offset \"px\")}}\n    (ttt [:bio/cores \"Biopsy cores taken from a target site are considered as 1 core regardless of the number of biopsy cores taken. \"])\n    (biopsy-core-examples ttt)]))\n\n\n(rum/defc tumour-related-form < rum/static rum/reactive [ttt model-keys]\n  [:form.form-horizontal {:on-key-press key-event\n                          :on-submit    submit-event}\n\n   [:div (form-entry {:ttt ttt :label \"Histological grade group\" :key :grade-group})\n    (when (#{4 5} (rum/react (input-cursor :grade-group)))\n      (less-well-tested (ttt [:tumour/lwt \"The tool is less well tested for higher scores\"])))]\n   (form-entry {:ttt ttt :label \"Gleason score\" :key :gleason})\n\n   (when (model-keys :biopsy50)\n     (form-entry {:ttt ttt :label \"Biopsy\" :key :biopsy50}))\n\n   (when (model-keys :biopsy-done) (form-entry {:ttt ttt :label \"Biopsy\" :key :biopsy-done}))\n\n   (when (= (rum/react (input-cursor :biopsy-done)) 1)\n     [:div\n      (when (model-keys :biopsy-cores-taken)\n        (form-entry {:ttt ttt :label \"Number of biopsy cores taken\" :key :biopsy-cores-taken}))\n      (biopsy-small-text ttt 0)\n\n      (when (model-keys :biopsy-cores-involved)\n        (form-entry {:ttt ttt :label \"Number of biopsy cores with prostate cancer\" :key :biopsy-cores-involved}))\n      (biopsy-small-text ttt -12)\n      ])\n\n   (when (model-keys :intra-ductal) (form-entry {:ttt ttt :label \"intraductal\" :key :intra-ductal}))\n   (when (#{:yes} (rum/react (input-cursor :intra-ductal)))\n     (mets-danger (ttt [:tumour/notsuit \"This tool is not suitable for men where these features are present.\"])))\n   (when (#{:unknown} (rum/react (input-cursor :intra-ductal)))\n     (mets-warning (ttt [:tumour/notacc \"This tool does not account for intra-ductal carcinoma or invasive cribriform component. If you're unsure use the data with caution and please consult your medical professional.\"])))\n\n\n   (when (model-keys :metastasis) (form-entry {:ttt ttt :label \"metastasis\" :key :metastasis}))\n   (when (#{:yes} (rum/react (input-cursor :metastasis)))\n     (mets-danger (ttt [:tumour/notdisplayed \"Results will not be displayed as this tool is only for use in men without metastatic disease.\"])))\n   (when (#{:unknown} (rum/react (input-cursor :metastasis)))\n     (mets-warning (ttt [:tumour/onlywithout \"This tool is only for use in men without metastatic disease. If you're unsure use the data with caution and please consult your medical professional\"])))\n   ])\n\n(rum/defc tumour-related-panel < rum/static [ttt model-keys]\n  [:div\n   (titled-panel\n     {:key   \"about-the-tumour-physical\"\n      :title \"Tumour: physical characteristics\"\n      :help  nil}\n     (tumour-related-form ttt model-keys)\n     )]\n  )\n\n\n(rum/defc hormone-form < rum/static [model-keys]\n  [:form.form-horizontal {:on-key-press key-event\n                          :on-submit    submit-event}\n   (when (model-keys :er-status) (form-entry {:label \"ER status\" :key :er-status}))\n   (when (model-keys :her2-status) (form-entry {:label \"HER2 status\" :key :her2-status}))\n   (when (model-keys :ki67-status) (form-entry {:label \"Ki-67 status\" :key :ki67-status}))\n   ])\n\n(rum/defc hormone-panel < rum/static [model-keys]\n  [:div\n   (titled-panel\n     {:key   \"about-the-tumour-biological\"\n      :title \"Tumour: biological characteristics\"\n      :help  nil}\n     (hormone-form model-keys))]\n  )\n\n(rum/defc inputs-row < rum/reactive tt-mixin [ttt]\n  (let [model-keys (live-keys-by-model model)]\n    [:div\n     [:.row\n      [:.col-md-11.col-md-offset-1.screen-only\n       (clear-all-button {:ttt ttt :on-click clear-inputs})]]\n     [:.row\n      [:.col-sm-6.col-sm-offset-1.screen-only {:style {:padding-right 0}}\n       (patient-related-panel ttt model-keys)]\n      [:.col-sm-5.screen-only {:style {:padding-right 0}}\n       (tumour-related-panel ttt model-keys)]\n\n      ]]\n    ))\n\n\n"]}