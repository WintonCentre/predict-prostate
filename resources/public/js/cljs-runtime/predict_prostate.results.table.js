goog.provide('predict_prostate.results.table');
predict_prostate.results.table.set_default = (function predict_prostate$results$table$set_default(key){

return new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"did-mount","did-mount",918232960),(function (state){
return state;
})], null);
});
predict_prostate.results.table.year_selected = (function predict_prostate$results$table$year_selected(){

return predict_prostate.state.run_time.input_cursor(new cljs.core.Keyword(null,"result-year","result-year",1413238532));
});
predict_prostate.results.table.extract_data = (function predict_prostate$results$table$extract_data(results,year,dps){
var conservative_survival = ((1) - (cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"conservative","conservative",-1075714010),new cljs.core.Keyword(null,"pred-PC-cum","pred-PC-cum",1965177836)], null)),year) + cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"conservative","conservative",-1075714010),new cljs.core.Keyword(null,"pred-NPC-cum","pred-NPC-cum",-1636287417)], null)),year)));
var radical_low_survival = ((1) - (cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical-low","radical-low",-2080230438),new cljs.core.Keyword(null,"pred-PC-cum","pred-PC-cum",1965177836)], null)),year) + cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical-low","radical-low",-2080230438),new cljs.core.Keyword(null,"pred-NPC-cum","pred-NPC-cum",-1636287417)], null)),year)));
var radical_high_survival = ((1) - (cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical-high","radical-high",1024405463),new cljs.core.Keyword(null,"pred-PC-cum","pred-PC-cum",1965177836)], null)),year) + cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical-high","radical-high",1024405463),new cljs.core.Keyword(null,"pred-NPC-cum","pred-NPC-cum",-1636287417)], null)),year)));
var radical_survival = ((1) - (cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical","radical",1159030213),new cljs.core.Keyword(null,"pred-PC-cum","pred-PC-cum",1965177836)], null)),year) + cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical","radical",1159030213),new cljs.core.Keyword(null,"pred-NPC-cum","pred-NPC-cum",-1636287417)], null)),year)));
var data = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"dotted-orange","dotted-orange",-573056274),predict_prostate.results.util.percent.cljs$core$IFn$_invoke$arity$2(cljs.core.nth.cljs$core$IFn$_invoke$arity$2(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(results,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"conservative","conservative",-1075714010),new cljs.core.Keyword(null,"NPC-survival","NPC-survival",-1399930619)], null)),year),dps),new cljs.core.Keyword(null,"conservative","conservative",-1075714010),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"overall","overall",-704031008),predict_prostate.results.util.percent.cljs$core$IFn$_invoke$arity$2(conservative_survival,dps),new cljs.core.Keyword(null,"benefit","benefit",-190946480),"-"], null),new cljs.core.Keyword(null,"radical","radical",1159030213),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"overall","overall",-704031008),predict_prostate.results.util.percent.cljs$core$IFn$_invoke$arity$2(radical_survival,dps),new cljs.core.Keyword(null,"benefit-low","benefit-low",1727677898),predict_prostate.results.util.percent.cljs$core$IFn$_invoke$arity$2((radical_low_survival - conservative_survival),dps),new cljs.core.Keyword(null,"benefit-high","benefit-high",-712554386),predict_prostate.results.util.percent.cljs$core$IFn$_invoke$arity$2((radical_high_survival - conservative_survival),dps),new cljs.core.Keyword(null,"benefit","benefit",-190946480),predict_prostate.results.util.percent.cljs$core$IFn$_invoke$arity$2((radical_survival - conservative_survival),dps)], null)], null);
return data;
});
predict_prostate.results.table.tables = rum.core.build_defc((function (data,uncertainty_QMARK_,ttt){
var radical_QMARK_ = cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((1),rum.core.react(predict_prostate.state.run_time.input_cursor(new cljs.core.Keyword(null,"primary-rx","primary-rx",-1656848904))));
return React.createElement("div",({"style": ({"marginTop": "15px", "fontSize": "1.2em"}), "className": "table-responsive"}),React.createElement("table",({"style": ({"padding": (0), "margin": (0), "fontSize": "16px"}), "className": "table table-hover"}),React.createElement("thead",null,React.createElement("tr",null,(function (){var attrs111980 = (function (){var G__111983 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","col1","table/col1",-209114227),"Treatment"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111983) : ttt.call(null,G__111983));
})();
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"th",((cljs.core.map_QMARK_(attrs111980))?sablono.interpreter.attributes(attrs111980):null),((cljs.core.map_QMARK_(attrs111980))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111980)], null)));
})(),(function (){var attrs111981 = (function (){var G__111984 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","col2","table/col2",1391976278),"Additional Benefit"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111984) : ttt.call(null,G__111984));
})();
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"th",((cljs.core.map_QMARK_(attrs111981))?sablono.interpreter.attributes(attrs111981):null),((cljs.core.map_QMARK_(attrs111981))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111981)], null)));
})(),(function (){var attrs111982 = (function (){var G__111985 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","col3","table/col3",-98853821),"Overall Survival %"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111985) : ttt.call(null,G__111985));
})();
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"th",((cljs.core.map_QMARK_(attrs111982))?sablono.interpreter.attributes(attrs111982):null),((cljs.core.map_QMARK_(attrs111982))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111982)], null)));
})())),React.createElement("tbody",null,React.createElement("tr",null,(function (){var attrs111986 = (function (){var G__111990 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","c1r1","table/c1r1",1269115885),"Initial conservative management"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111990) : ttt.call(null,G__111990));
})();
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"td",((cljs.core.map_QMARK_(attrs111986))?sablono.interpreter.attributes(attrs111986):null),((cljs.core.map_QMARK_(attrs111986))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111986)], null)));
})(),React.createElement("td",null,"-"),(function (){var attrs111989 = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"conservative","conservative",-1075714010),new cljs.core.Keyword(null,"overall","overall",-704031008)], null));
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"td",((cljs.core.map_QMARK_(attrs111989))?sablono.interpreter.attributes(attrs111989):null),((cljs.core.map_QMARK_(attrs111989))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111989)], null)));
})()),sablono.interpreter.interpret(((radical_QMARK_)?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"tr","tr",-1424774646),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),(function (){var G__111991 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","c1r2","table/c1r2",-2127868132),"Radical treatment"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111991) : ttt.call(null,G__111991));
})()], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical","radical",1159030213),new cljs.core.Keyword(null,"benefit","benefit",-190946480)], null)),(cljs.core.truth_(uncertainty_QMARK_)?[" (",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical","radical",1159030213),new cljs.core.Keyword(null,"benefit-high","benefit-high",-712554386)], null))),"\u2013",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical","radical",1159030213),new cljs.core.Keyword(null,"benefit-low","benefit-low",1727677898)], null))),")"].join(''):null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"td","td",1479933353),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"radical","radical",1159030213),new cljs.core.Keyword(null,"overall","overall",-704031008)], null))], null)], null):null)),React.createElement("tr",null,React.createElement("td",({"colSpan": (3)}),sablono.interpreter.interpret((function (){var G__111992 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","idppe-1","table/idppe-1",1014711128),"If deaths from prostate cancer were excluded"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111992) : ttt.call(null,G__111992));
})())," ",sablono.interpreter.interpret(cljs.core.get.cljs$core$IFn$_invoke$arity$2(data,new cljs.core.Keyword(null,"dotted-orange","dotted-orange",-573056274)))," ",sablono.interpreter.interpret((function (){var G__111993 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","idppe-2","table/idppe-2",902256549),"would survive"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111993) : ttt.call(null,G__111993));
})())," ",sablono.interpreter.interpret(rum.core.react(predict_prostate.state.run_time.input_cursor(new cljs.core.Keyword(null,"result-year","result-year",1413238532))))," ",sablono.interpreter.interpret((function (){var G__111994 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","idppe-3","table/idppe-3",615238202),"years."], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111994) : ttt.call(null,G__111994));
})()))))));
}),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [rum.core.reactive], null),"tables");
predict_prostate.results.table.results_in_table = rum.core.build_defc((function (ttt){
var radical_QMARK_ = cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((1),rum.core.react(predict_prostate.state.run_time.input_cursor(new cljs.core.Keyword(null,"primary-rx","primary-rx",-1656848904))));
var year = rum.core.react(predict_prostate.state.run_time.input_cursor(new cljs.core.Keyword(null,"result-year","result-year",1413238532)));
var uncertainty_QMARK_ = cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"yes","yes",182838819),rum.core.react(predict_prostate.state.run_time.input_cursor(new cljs.core.Keyword(null,"show-uncertainty","show-uncertainty",-166217605))));
var data = predict_prostate.results.table.extract_data(rum.core.react(predict_prostate.state.run_time.results_cursor),year,((uncertainty_QMARK_)?(1):(0)));
var text1 = (function (){var G__111995 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","text1","table/text1",-1095758942),"This table shows the percentage of men who survive at least"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111995) : ttt.call(null,G__111995));
})();
var text2 = (function (){var G__111996 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("table","text2","table/text2",-2147109920),"years after diagnosis, based on the information you have provided"], null);
return (ttt.cljs$core$IFn$_invoke$arity$1 ? ttt.cljs$core$IFn$_invoke$arity$1(G__111996) : ttt.call(null,G__111996));
})();
return React.createElement("div",({"style": ({"marginTop": (15)}), "className": "row"}),React.createElement("div",({"style": ({"fontSize": (16)}), "className": "col-sm-12 screen-only"}),sablono.interpreter.interpret(text1)," ",(function (){var attrs112000 = (predict_prostate.components.button.year_picker.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.components.button.year_picker.cljs$core$IFn$_invoke$arity$1(ttt) : predict_prostate.components.button.year_picker.call(null,ttt));
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"span",((cljs.core.map_QMARK_(attrs112000))?sablono.interpreter.attributes(sablono.normalize.merge_with_class.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, ["screen-only"], null)], null),attrs112000], 0))):({"className": "screen-only"})),((cljs.core.map_QMARK_(attrs112000))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs112000)], null)));
})()," ",sablono.interpreter.interpret(text2),"."),(function (){var attrs111997 = text1;
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"div",((cljs.core.map_QMARK_(attrs111997))?sablono.interpreter.attributes(sablono.normalize.merge_with_class.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["col-sm-12","print-only"], null)], null),attrs111997], 0))):({"className": "col-sm-12 print-only"})),((cljs.core.map_QMARK_(attrs111997))?new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [" ",(function (){var attrs111998 = year;
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"span",((cljs.core.map_QMARK_(attrs111998))?sablono.interpreter.attributes(sablono.normalize.merge_with_class.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, ["print-only"], null)], null),attrs111998], 0))):({"className": "print-only"})),((cljs.core.map_QMARK_(attrs111998))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111998)], null)));
})()," ",sablono.interpreter.interpret(text2),"."], null):new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111997)," ",(function (){var attrs111999 = year;
return cljs.core.apply.cljs$core$IFn$_invoke$arity$4(React.createElement,"span",((cljs.core.map_QMARK_(attrs111999))?sablono.interpreter.attributes(sablono.normalize.merge_with_class.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, ["print-only"], null)], null),attrs111999], 0))):({"className": "print-only"})),((cljs.core.map_QMARK_(attrs111999))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [sablono.interpreter.interpret(attrs111999)], null)));
})()," ",sablono.interpreter.interpret(text2),"."], null)));
})(),React.createElement("div",({"style": ({"marginBottom": "15px"}), "className": "col-sm-12"}),sablono.interpreter.interpret((predict_prostate.results.table.tables.cljs$core$IFn$_invoke$arity$3 ? predict_prostate.results.table.tables.cljs$core$IFn$_invoke$arity$3(data,uncertainty_QMARK_,ttt) : predict_prostate.results.table.tables.call(null,data,uncertainty_QMARK_,ttt))),sablono.interpreter.interpret(((radical_QMARK_)?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".screen-only",".screen-only",-984588690),(function (){var G__112001 = new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"ttt","ttt",1858561240),ttt,new cljs.core.Keyword(null,"key","key",-1516042587),new cljs.core.Keyword(null,"show-uncertainty","show-uncertainty",-166217605),new cljs.core.Keyword(null,"label","label",1718410804),"show-ranges"], null);
return (predict_prostate.components.helpful_form_groups.form_entry.cljs$core$IFn$_invoke$arity$1 ? predict_prostate.components.helpful_form_groups.form_entry.cljs$core$IFn$_invoke$arity$1(G__112001) : predict_prostate.components.helpful_form_groups.form_entry.call(null,G__112001));
})()], null):null))));
}),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [rum.core.reactive], null),"results-in-table");

//# sourceMappingURL=predict_prostate.results.table.js.map
