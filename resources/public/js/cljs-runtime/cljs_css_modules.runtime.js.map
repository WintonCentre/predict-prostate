{"version":3,"sources":["cljs_css_modules/runtime.cljs"],"mappings":";AAGA,AAAKA,2CAAgB,6CAAA,7CAACC;AAEtB,8CAAA,9CAAMC,oGAAeC,QAAQC;AAA7B,AACE,QAAM,AAAaD,oBAASC;;AAE9B,sDAAA,tDAAMC,oHAAuBD,MAAME;AAAnC,AACE,IAAMC,OAAK,AAAQC;IACbL,UAAQ,uBAAA,vBAAgBK;AAD9B,AAEE,GAAQ,GAAA,SAAA,RAAOD;AAAf;AAAA,AAAA,MAAA,KAAAE,MAAA,CAAA,kBAAA,8DAAA,KAAA;;;AAEA,AAAcF,iBAAKJ;;AACnB,AAACD,4CAAcC,QAAQC;;AACvB,OAACM,mDAAMV,yCAAgBW,gBAAML,GAAGH;;AAEpC,8CAAA,9CAAMS,oGAAeR,MAAMS,GAAGC;AAA9B,AACE,IAAMR,KAAG,AAACS,+CAAO,iDAAA,JAAKF,oDAAOC;IACvBE,iBAAe,iBAAAC,WAAA,AAAAC,gBAAKlB;AAAL,AAAA,4EAAAiB,yBAAAA,7FAACX,mCAAAA,6CAAAA;;AADtB,AAEE,oBAAIU;AACF,OAACd,4CAAcc,eAAeZ;;AAC9B,OAACC,oDAAsBD,MAAME","names":["cljs-css-modules.runtime/injected-styles","cljs.core.atom","cljs-css-modules.runtime/update-style!","element","style","cljs-css-modules.runtime/create-style-element!","id","head","js/document","js/Error","cljs.core.swap_BANG_","cljs.core/assoc","cljs-css-modules.runtime/inject-style!","ns","name","cljs.core.symbol","injected-style","G__46731","cljs.core/deref"],"sourcesContent":["(ns cljs-css-modules.runtime\n  (:require [garden.core :refer [css]]))\n\n(def injected-styles (atom {}))\n\n(defn update-style! [element style]\n  (set! (.-innerHTML element) style))\n\n(defn create-style-element! [style id]\n  (let [head (.-head js/document)\n        element (.createElement js/document \"style\")]\n    (assert (some? head)\n            \"An head element is required in the dom to inject the style.\")\n    (.appendChild head element)\n    (update-style! element style)\n    (swap! injected-styles assoc id element)))\n\n(defn inject-style! [style ns name]\n  (let [id (symbol (str ns \"-\" name))\n        injected-style (id @injected-styles)]\n    (if injected-style\n      (update-style! injected-style style)\n      (create-style-element! style id))))\n"]}