{"version":3,"sources":["predict_prostate/layout/treatments_panel.cljs"],"mappings":"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","names":["cljs-css-modules.runtime/inject-style!","cljs.core.apply","garden.core/css","predict-prostate.layout.treatments-panel/treatments-style","predict-prostate.layout.treatments-panel/treatment-input-style","rum.core/build-defc","p__38355","map__38356","cljs.core/PROTOCOL_SENTINEL","cljs.core/hash-map","cljs.core.get","js/React.createElement","sablono.util/join-classes","sablono.interpreter/interpret","predict-prostate.layout.treatments-panel/dummy-input","rum.core/reactive","rum.core/static","label","help-id","key","error","props","children","G__38358","predict-prostate.components.button/small-help-button","clojure.string/replace","clojure.string/lower-case","cljs.core/name","p__38359","map__38360","sablono.interpreter/attributes","predict-prostate.layout.treatments-panel/treatment-input","predict-prostate.mixins/treatment-monitor","ttt","tk","G__38362","cljs.core.merge","cljs.core._EQ_","rum.core/react","predict-prostate.state.run-time/input-cursor","G__38363","cljs.core.keyword","predict-prostate.layout.treatments-panel/add-suffix","n","predict-prostate.layout.treatments-panel/assumed-treatment","G__38364","G__38365","predict-prostate.state.run-time/input-label","predict-prostate.state.run-time/input-widget","predict-prostate.layout.treatments-panel/labelled-treatment","G__38366","G__38367","predict-prostate.state.load-config/render-widget","rum.core/build-defcs","p__38368","map__38369","attrs38373","cljs.core/map?","predict-prostate.layout.treatments-panel/treatments-form","predict-prostate.mixins/sizing-mixin","state","width","font-scale","h-over-w","option","width-1","predict-prostate.layout.treatments-panel/treatments-options","predict-prostate.state.run-time/results-cursor","G__38386"],"sourcesContent":["(ns predict-prostate.layout.treatments-panel\n  (:require                                                 ;[org.martinklepsch.derivatives :as derivs :refer [drv]]\n            [rum.core :as rum]\n            [clojure.string :as s :refer [replace lower-case]]\n            [cljs-css-modules.macro :refer-macros [defstyle]]\n            [graphics.simple-icons :refer [icon]]\n            [predict-prostate.mixins :refer [sizing-mixin treatment-monitor]]\n            [predict-prostate.state.run-time :refer [model results-cursor input-widget input-cursor input-label]]\n            [predict-prostate.components.panels :refer [titled-panel]]\n            [predict-prostate.components.button :refer [small-help-button treatment-help-button]]\n            [predict-prostate.state.load-config :refer [live-keys-by-model render-widget]]\n            [predict-prostate.content-reader :refer [all-subsections]]\n            [pubsub.feeds :refer [publish]]\n            ))\n\n(defstyle treatments-style\n  [\"div\" {:font-size \"12px\"}]\n  [\".treatments-header\"\n   {:background-color \"rgba(255, 140, 0, 1) !important\"\n    :color            \"white !important\"\n    :font-size        \"10px !important\"}\n   [\"form\" {:border \"1px solid red\"}]])\n\n(defstyle treatment-input-style\n  [\".closer\" {:margin-bottom \"10px\"}])\n\n(rum/defc dummy-input < rum/reactive rum/static\n  [{:keys [label help-id key error] :as props} children]\n\n  #_[:div {:key   key :data-key key\n           :class (str \"form-group \" (:closer treatment-input-style) (if error \" has-error\" \"\"))}\n     [:.col-xs-6\n      [:label.control-label {:style {:width \"100%\" :text-align \"right\"} :for (name key)} label \" \"\n       (when help-id (small-help-button {:help-id (s/replace (lower-case help-id) \" \" \"-\")}))\n       ]]\n     [:.col-xs-6\n      children]]\n\n  [:div {:key   key :data-key key\n         :class (str \"form-group \")\n         :style {:vertical-align \"top\"\n                 :width          \"100%\"\n                 :display        \"inline-block\"}}\n\n   [:div {:style {:display        \"inline-block\"\n                  :margin-left    \"10px\"\n                  :width          \"30px\"\n                  :vertical-align \"middle\"}}\n    (when help-id (small-help-button {:help-id (s/replace (lower-case help-id) \" \" \"-\")}))]\n\n   [:div {:style {:display        \"inline-block\"\n                  :vertical-align \"middle\"\n                  :width          \"100px\"}}\n    [:label.control-label {:style {:width      \"100%\"\n                                   :text-align \"left\"\n                                   :padding    \"1px 5px\"} :for (name key)} label\n     ]]\n\n   [:div {:style {:display        \"inline-block\"\n                  :margin-left    \"10px\"\n                  :text-align     \"left\"\n                  :width          \"auto\"                    ;\"calc(100% - 150px)\"\n                  :vertical-align \"middle\"\n                  }}\n    [:div {:style {:padding-left   0\n                   :display        \"inline-block\"\n                   :vertical-align \"middle\"\n                   }} children]]]\n\n  )\n\n(rum/defc treatment-input < rum/reactive rum/static treatment-monitor\n  [{:keys [ttt label help-id key]} children]\n  (let [tk key]\n    [:div {:key   key :data-key key\n           :class (str \"form-group \")\n           :style {:vertical-align \"top\"\n                   :width          \"100%\"\n                   :display        \"inline-block\"}}\n\n     [:div {:style {:display        \"inline-block\"\n                    :margin-left    \"10px\"\n                    :width          \"30px\"\n                    :vertical-align \"middle\"}}\n      (when help-id (small-help-button {:help-id (s/replace (lower-case help-id) \" \" \"-\")}))]\n\n     [:div {:style {:display        \"inline-block\"\n                    :vertical-align \"middle\"\n                    :width          \"100px\"}}\n      [:label.control-label {:style (merge {:width     \"100px\"\n                                            :textAlign \"left\"\n                                            :padding   \"1px 5px\"}\n                                           (when (= :disabled (rum/react (input-cursor key)))\n                                             {:color \"#CCC\"}))\n                             :for   (name key)}\n       (ttt [(keyword (str \"treatment/\" (name key))) label]) #_label]]\n     [:div {:style {:display        \"inline-block\"\n                    :margin-left    \"10px\"\n                    :text-align     \"left\"\n                    :width          \"auto\"                  ;\"calc(100% - 150px)\"\n                    :vertical-align \"middle\"\n                    }}\n      [:div {:style {:padding-left   0\n                     :display        \"inline-block\"\n                     :vertical-align \"middle\"\n                     }} children]\n      ]\n\n     ])\n  )\n\n\n(defn add-suffix [key n] key)\n\n(comment\n  (add-suffix :chemo 0)\n  ; => :chemo\n  )\n\n\n(rum/defc assumed-treatment < rum/reactive\n                              \"Creates a labelled treatment input widget for the given treatment option and key\"\n  [label key]\n  (dummy-input {:label   (input-label key)                  ; (if-let [lab (input-label key-n)] lab label)\n                :help-id label\n                :key     key}\n               (input-widget key)))\n\n(rum/defc labelled-treatment < rum/reactive\n                               \"Creates a labelled treatment input widget for the given treatment option and key\"\n  [ttt label key]\n  (treatment-input {:ttt ttt\n                    :label   (input-label key)              ; (if-let [lab (input-label key-n)] lab label)\n                    :help-id label\n                    :key     key}\n                   (render-widget ttt key) #_(input-widget key)))\n\n\n(rum/defcs treatments-form < rum/reactive sizing-mixin\n  [state {:keys [ttt width font-scale h-over-w option]\n          :or   {width      \"100%\"\n                 h-over-w   1\n                 font-scale 1}}]\n  (let [width-1 (rum/react (:width state))]\n\n    [:form.form-horizontal {:style {:width     width\n                                    :font-size (* (/ width-1 25) font-scale)}}\n     [:div\n      (labelled-treatment ttt \"Regime\" :primary-rx)\n      ]]))\n\n\n\n(rum/defc treatments-options < rum/reactive\n  [ttt]\n  (when (rum/react results-cursor)\n    (treatments-form {:ttt ttt :h-over-w 1.5}))\n  )\n\n\n(comment\n\n  (live-keys-by-model model)\n  (:chemo (live-keys-by-model model))\n  )"]}