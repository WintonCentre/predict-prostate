{"version":3,"sources":["predict_prostate/models/runner.cljs"],"mappings":";AAOA,AAAA;;;;mDAAA,2DAAAA,9GAAME;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+EAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+EAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,CAAA,iFAAA,jFAAMD,4FAGFE,UAAUC;AAHd,AAKG,OAASC,2FACA,uEAAA,rEAAM,AAACC,yDAAmBH,YACxB,iBAAMI,SAAOJ;IACPK,UAAQ,AAACC,wFAAiB,qDAAA,kEAAA,vHAACC,8CAAMH,8EAAsBH;cAD7D,2CAAA,6RAAA,2RAAA,kRAAA,/3BAEMO,2HAAuB,AAACF,wFAAiB,qDAAA,kEAAA,vHAACC,8CAAMH,8EAAsBH,uEAC/C,AAACK,wFAAiB,qDAAA,kEAAA,vHAACC,8CAAMH,8EAAwBH,8DACjD,AAACK,wFAAiB,qDAAA,kEAAA,vHAACC,8CAAMH,8EAAsBH,wEAC/C,AAACK,wFAAiB,qDAAA,kEAAA,vHAACC,8CAAMH,8EAAwBH;AAL9E,AAQEO;KATJ;;;AANZ,CAAA,iFAAA,jFAAMV,4FAgBFE;AAhBJ,AAiBI,gGAAA,zFAACS,+EAAkBT;;;AAjBvB,CAAA,2EAAA,3EAAMF;;AAAN","names":["var_args","G__32155","predict-prostate.models.runner/recalculate-model","js/Error","input-map","n","predict-prostate.state.run-time/results-change","predict-prostate.state.run-time/recalculate-model?","inputs","radical","predict_prostate.models.adapters.predict.predict_prostate","cljs.core.assoc","results","predict_prostate.models.runner.recalculate_model"],"sourcesContent":["(ns predict-prostate.models.runner\n  (:require [predict-prostate.state.run-time :refer [results-change results-cursor input-map\n                                                     on-screen-inputs-cursor recalculate-model?]]\n            [predict-prostate.models.adapters.predict :refer [predict-prostate]]\n            [pubsub.feeds :refer [publish]]\n            ))\n\n(defn recalculate-model\n  \"recalculate-model predictions based on a selected model for n years.\n  Arity 1 is for 10 years\"\n  ([input-map n]\n    ;(println \"input-map \" (input-map))\n   (publish results-change\n            (when (recalculate-model? input-map)\n              (let [inputs input-map\n                    radical (predict-prostate (assoc inputs :primary-rx 1) n)\n                    results {:conservative (predict-prostate (assoc inputs :primary-rx 0) n)\n                             :radical-low  (predict-prostate (assoc inputs :primary-rx 0.9) n)\n                             :radical      (predict-prostate (assoc inputs :primary-rx 1) n)\n                             :radical-high (predict-prostate (assoc inputs :primary-rx 1.1) n)\n                             }\n                    ]\n                results))))\n  ([input-map]\n    (recalculate-model input-map 10)))\n\n"]}