{"version":3,"sources":["predict_prostate/router.cljs"],"mappings":";AAOA,AAACA;AAED,AAAKC,sCAAY,uBAAA,vBAACC,gBAAmBC;AAErC,4CAAA,5CAAMC;AAAN,AAA2B,IAAAC,mBAAIC;AAAJ,AAAA,oBAAAD;AAAAA;;AAAeJ;;;AAE1C,kCAAA,lCAAMM,4EAASC;AAAf,AAAoB,QAAA,gDAASA;;AAE7B,AAAKC,+BAAK,8BAAA,GAAA,fAAIH;AAGd,+BAAA,/BAAMI,sEAAMF;AAAZ,AAAiB,QAAK,+DAAA,GAAA,hDAAI,AAACJ,oDAA0BK,yEAAKD;;AAG1D,iCAAA,jCAAMG,0EAAQH;AAAd,AAAmB,QAAK,+DAAA,GAAA,hDAAI,AAACJ,gGAA0BI;;AAGvD;;;AAAKI,iCAEH,iBAAA,mFAAA,uHAAA,4DAAA,2HAAA,4DAAA,2IAAA,+DAAA,kIAAA,+DAAA,4HAAA,+DAAA,2HAAA,8DAAA,kIAAA,8DAAA,4HAAA,8DAAA,8HAAA,rsDAACC,uLAEG,+BAAA,/BAACF,mLACD,+BAAA,/BAACA,uLACD,+BAAA,/BAACA,0MACD,+BAAA,/BAACA,iMACD,+BAAA,/BAACA,2LACD,+BAAA,/BAACA,yLACD,+BAAA,/BAACA,gMACD,+BAAA,/BAACA,0LACD,+BAAA,/BAACA;AAGP,uCAAA,vCAAMG,sFAAcN;AAApB,AACE,0DAAA,nDAACO,gBAAmB,uBAAA,vBAACb,gBAAmBC,0BAA6BK;;AAEvE;;;sCAAA,tCAAMQ,oFAEHC,KAAKC,OAAOC;AAFf,AAGM,EAAA,FAACC,AAAe,kBAAA;;AACpB,mEAAA,5DAACC,sBAAOC,yHAAOL,KAAKC,OAAOC;;AAE7B,AAAKI,sCACH,AAACC,gDAAQC,qBAAQC;AAEnB,qDAAA,2CAAA,+OAAA,uGAAA,tbAACC,sBAASf,sIAAqB,+DAAA,+DAAA,5GAAI,AAACR,oOACLY,8FACA,AAACY,cAAI,AAACxB;AAErC","names":["cljs.core/enable-console-print!","predict-prostate.router/old-browser","js/goog.object.get","js/window","predict-prostate.router/use-hash-fragment","or__4212__auto__","js/goog.DEBUG","predict-prostate.router/docroot","url","predict-prostate.router/base","predict-prostate.router/iref","predict-prostate.router/rooted","predict-prostate.router/router","bide.core/router","predict-prostate.router/set-location","js/goog.object.set","predict-prostate.router/on-navigate","name","params","query","js/$","cljs.core/reset!","predict-prostate.state.run-time/route","predict-prostate.router/navigate-to","cljs.core.partial","pubsub.feeds/publish","predict-prostate.state.run-time/route-change","bide.core/start!","cljs.core/not"],"sourcesContent":["(ns predict-prostate.router\n  (:require [bide.core :as r]\n            [predict-prostate.state.run-time :refer [route route-change]]\n            [pubsub.feeds :refer [publish]]\n            )\n  )\n\n(enable-console-print!)\n\n(def old-browser (js/goog.object.get js/window \"oldBrowser\"))\n\n(defn use-hash-fragment [] (or goog.DEBUG old-browser))\n\n(defn docroot [url] (str \"/\" url))\n\n(def base (if goog.DEBUG \"\" \"\"))\n\n; internal hrefs\n(defn iref [url] (str (if (use-hash-fragment) \"\" \"\") base url))\n; was (defn iref [url] (str (if (use-hash-fragment) \"#\" \"\") base url)), but this fails on maths pdf\n\n(defn rooted [url] (str (if (use-hash-fragment) \"\" \"\") url))\n;(def rooted identity)\n\n(def router\n  \"Longest path must be first.\"\n  (r/router\n    [\n     [(rooted \"/\") :home]\n     [(rooted \"/home\") :home]\n     [(rooted \"/about/:page/:section\") :about]\n     [(rooted \"/about/:page\") :about]\n     [(rooted \"/about\") :about]\n     [(rooted \"/tool\") :tool]\n     [(rooted \"/legal/:page\") :legal]\n     [(rooted \"/legal\") :legal]\n     [(rooted \"/contact\") :contact]\n     ]))\n\n(defn set-location [url]\n  (js/goog.object.set (js/goog.object.get js/window \"location\") \"href\" url))\n\n(defn on-navigate\n  \"A function which will be called on each route change.\"\n  [name params query]\n  (-> (js/$ \".modal\") (.modal \"hide\"))                      ;Hide any visible modals after navigation\n  (reset! route [name params query]))\n\n(def navigate-to\n  (partial publish route-change))\n\n(r/start! router {:default     (if (use-hash-fragment) :not-found :home)\n                  :on-navigate on-navigate\n                  :html5?      (not (use-hash-fragment))})\n\n(comment\n\n  (r/resolve router :about {:page \"history\"} nil)\n  ;=> \"/about/history\n\n  )"]}