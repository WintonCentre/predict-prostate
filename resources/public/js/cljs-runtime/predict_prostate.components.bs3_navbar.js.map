{"version":3,"sources":["predict_prostate/components/bs3_navbar.cljs"],"mappings":"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","names":["rum.core/build-defc","p__46071","map__46072","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","js/React.createElement","sablono.interpreter/interpret","predict-prostate.components.bs3-navbar/collapsing-navbar","rum.core/static","id","props","navbar-menu","p__46077","map__46078","predict-prostate.components.bs3-navbar/navbar","class-name","logo","cljs.core.map","i","cljs.core.range","G__46080","G__46081","this__4380__auto__","k__4381__auto__","this__4382__auto__","k46084","else__4383__auto__","G__46092","cljs.core/Keyword","text","on-click","target","__extmap","this__4399__auto__","f__4400__auto__","init__4401__auto__","cljs.core.reduce","ret__4402__auto__","p__46097","vec__46098","k__4403__auto__","cljs.core.nth","v__4404__auto__","this__4394__auto__","writer__4395__auto__","opts__4396__auto__","pr-pair__4397__auto__","keyval__4398__auto__","cljs.core/pr-sequential-writer","cljs.core.concat","cljs.core/PersistentVector","G__46083","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__4378__auto__","__meta","this__4375__auto__","__hash","this__4384__auto__","cljs.core/count","this__4376__auto__","h__4238__auto__","coll__4377__auto__","cljs.core/hash-unordered-coll","this46085","other46086","cljs.core._EQ_","this__4389__auto__","k__4390__auto__","cljs.core/contains?","cljs.core.dissoc","cljs.core/-with-meta","cljs.core.into","cljs.core/not-empty","this__4387__auto__","k__4388__auto__","pred__46109","cljs.core/keyword-identical?","expr__46110","cljs.core.assoc","this__4392__auto__","cljs.core/seq","cljs.core/MapEntry","this__4379__auto__","this__4385__auto__","entry__4386__auto__","cljs.core/vector?","cljs.core/-nth","cljs.core/-conj","predict-prostate.components.bs3-navbar/Nav-item","this__4423__auto__","cljs.core/List","writer__4424__auto__","cljs.core/-write","G__46087","extmap__4419__auto__","G__46115","cljs.core/record?","predict-prostate.components.bs3-navbar/->Nav-item","predict-prostate.components.bs3-navbar/map->Nav-item","predict-prostate.components.bs3-navbar/navigate-to","interop.utils/scrollTo","cljs.core.not_EQ_","predict-prostate.state.run-time/route-change","p__46126","map__46127","predict-prostate.components.bs3-navbar/make-nav-item","key","rt","submenus","item","cljs.core/first","p1__46123#","p2__46124#","cljs.core.map_indexed","predict-prostate.components.bs3-navbar/nav-items","predict-prostate.components.bs3-navbar/smartmenus","state","js/jQuery.SmartMenus.Bootstrap.init","p__46142","vec__46143","predict-prostate.components.bs3-navbar/simple-navbar","rum.core/reactive","menu-items","rum.core/react","predict-prostate.state.run-time/route","G__46146","G__46147","p1__46140#","p2__46141#","predict-prostate.components.bs3-navbar/scroll-handler","node","transition-at","tolerance","_","y-off","js/window","c","predict-prostate.components.bs3-navbar/sticky-mixin","comp","dom-node","js/ReactDOM.findDOMNode","sh","js/addEventListener","cljs.core.atom","js/removeEventListener","attrs46154","cljs.core/map?","sablono.interpreter/attributes","predict-prostate.components.bs3-navbar/hamburger-navbar","G__46155"],"sourcesContent":["(ns predict-prostate.components.bs3-navbar\n  (:require [rum.core :as rum]\n            [predict-prostate.router :refer [router set-location]]\n            [bide.core :as r]\n            [predict-prostate.state.run-time :refer [route route-change]]\n            [interop.utils :refer [scrollTo]]\n            [pubsub.feeds :refer [publish]]))\n\n\n(rum/defc collapsing-navbar < rum/static [{:keys [id] :as props} navbar-menu]\n  [:.collapse.navbar-collapse {:id id}\n   navbar-menu])\n\n\n(rum/defc navbar [{:keys [id class-name logo] :as props} navbar-menu]\n  [:nav {:class-name (str \"navbar \" class-name)}\n   [:.container\n    [:.navbar-header\n     [:button.navbar-toggle {:type        \"button\"\n                             :data-toggle \"collapse\"\n                             :data-target (str \"#\" id)\n                             :aria-label  \"menu\"\n                             }\n      (map (fn [i] [:span.icon-bar {:key i}]) (range 3))]\n     (when logo [:img.navbar-brand {:src logo :alt \"logo\"}])]\n    (collapsing-navbar {:id id} navbar-menu)]\n   ])\n\n\n(defrecord Nav-item [text on-click target])\n\n\n(defn navigate-to [target]\n  (when (= target [:about {:page :faqs}])                   ; nasty fix to always force a scroll to top of FAQs\n    (scrollTo 0))\n  (if (not= target [:no-op])\n    (publish route-change target)))\n\n\n(defn make-nav-item [key rt {:keys [text on-click target submenus] :as item}]\n  (if (seq submenus)\n    [:li {:key key :tab-index 0  :style {:cursor \"pointer\"} :class-name (str \"dropdown\" (when (= (first target) (first rt)) \" active\"))}\n     ; removing data-toggle in next line means clicking on a dropdown button does not toggle open status\n     [:a.dropdown-toggle {:data-toggle \"dropdown\"\n                          :on-click #(on-click target)} text [:span.caret]]\n     [:ul.dropdown-menu\n      (map-indexed #(make-nav-item %1 rt %2) submenus)]]\n    [:li {:key key :tab-index 0 :style {:cursor \"pointer\"} :class-name (when (= (first target) (first rt)) \"active\")}\n     [:a {:on-click    #(on-click target)\n          :data-toggle \"collapse\"\n          :data-target \".navbar-collapse.in\"\n          } text]]))\n\n\n(def nav-items\n  [(Nav-item. \"Home\" navigate-to [:home {:page :home}])\n   (assoc (Nav-item. \"About Predict Prostate\" navigate-to [:no-op] #_[:about {:page :overview :section :about}])\n     :submenus [(Nav-item. \"About Predict  Prostate\" navigate-to [:about {:page :overview :section :about}])\n                (Nav-item. \"\u2013 Who is it for?\" navigate-to [:about {:page :overview :section :whoisitfor}])\n                (Nav-item. \"\u2013 How Predict Prostate works\" navigate-to [:about {:page :overview :section :howpredictworks}])\n                (Nav-item. \"\u2013 Who built Predict  Prostate\" navigate-to [:about {:page :overview :section :whobuiltpredict}])\n                (Nav-item. \"Technical\" navigate-to [:about {:page :technical :section :technical}])\n                (Nav-item. \"\u2013 Development History\" navigate-to [:about {:page :technical :section :history}])\n                (Nav-item. \"\u2013 Publications\" navigate-to [:about {:page :technical :section :publications}])\n                (Nav-item. \"FAQs\" navigate-to [:about {:page :faqs}])])\n\n\n   (Nav-item. \"Predict  Prostate Tool\" navigate-to [:tool])\n   (Nav-item. \"Contact\" navigate-to [:contact])\n   (assoc (Nav-item. \"Legal\" navigate-to [:no-op])\n     :submenus [(Nav-item. \"Predict: Prostate Cancer\" navigate-to [:legal {:page :product}])\n                (Nav-item. \"Disclaimer\" navigate-to [:legal {:page :disclaimer}])\n                (Nav-item. \"Algorithm\" navigate-to [:legal {:page :algorithm}])\n                (Nav-item. \"Privacy & Data Protection\" navigate-to [:legal {:page :privacy}])])])\n\n(def smartmenus {:did-mount (fn [state]\n                              (js/jQuery.SmartMenus.Bootstrap.init)\n                              state)})\n\n(rum/defc simple-navbar < rum/static rum/reactive [[menu-items]]\n  (let [rt (rum/react route)]\n    (navbar {:id         \"navbar\"\n             :class-name \"navbar-inverse\"\n             :logo       nil}\n            [:ul.nav.navbar-nav\n             (map-indexed #(make-nav-item %1 rt %2) menu-items)])))\n\n(defn scroll-handler\n  \"Returns a 'sticky' scroll event handler for a dom-node\"\n  [node transition-at tolerance]\n  (fn [_]\n    (let [y-off (aget js/window \"pageYOffset\")\n          c (+ transition-at (.-offsetTop node))]\n      (if (>= y-off (+ c tolerance))\n        (.add (.-classList node) \"navbar-fixed-top\")\n        (when (<= y-off (- c tolerance))\n          (.remove (.-classList node) \"navbar-fixed-top\"))))))\n\n(def sticky-mixin\n  {:did-mount    (fn [state]\n                   (let [comp (:rum/react-component state)\n                         dom-node (js/ReactDOM.findDOMNode comp)\n                         #_#_sh (scroll-handler dom-node 100)\n                         sh (scroll-handler dom-node 60 40)]\n                     (js/addEventListener \"scroll\" sh)\n                     (assoc state ::scroll-handler sh\n                                  ::y-off (atom (aget js/window \"pageYOffset\")))))\n\n   :will-unmount (fn [state]\n                   (let [comp (:rum/react-component state)\n                         dom-node (js/ReactDOM.findDOMNode comp)\n                         sh (::scroll-handler state)]\n                     (js/removeEventListener \"scroll\" sh)\n                     (dissoc state ::scroll-handler ::y-off)))})\n\n(rum/defc hamburger-navbar < sticky-mixin smartmenus []\n  [:nav\n   (simple-navbar [nav-items])])\n\n\n(comment\n  ; a bs navbar for reference\n  #_(rum/defc hamburger-navbar* []\n      [:nav.navbar.navbar-inverse\n       [:.container\n        [:.navbar-header\n         [:button.navbar-toggle {:type        \"button\"\n                                 :data-toggle \"collapse\"\n                                 :data-target \"#navbar\"}\n          (map (fn [i] [:span.icon-bar {:key i}]) (range 3))]\n         #_[:img.navbar-brand {:style {:padding 10} :src \"/assets/logo-neg.png\"}]]\n        [:#navbar.collapse.navbar-collapse\n         [:ul.nav.navbar-nav\n          [:li.active\n           [:a {:href \"#\"} \"Home\"]]\n          [:li.dropdown {:key 1}\n           [:a.dropdown-toggle {:data-toggle \"dropdown\"\n                                :href        \"#\"}\n            \"Menu \" [:span.caret]]\n           [:ul.dropdown-menu\n            [:li {:key 1} [:a.link {:href \"#/News\"} \"News\"]]\n            [:li {:key 2} [:a {:href \"#\"} \"Page 1-2\"]]\n            [:li {:key 3} [:a {:href \"#\"} \"Page 1-3\"]]]]\n          [:li [:a {:key  2\n                    :href \"#\"} \"Page 2\"]]\n          [:li [:a {:key  3\n                    :href \"#\"} \"Page 3\"]]]]]])\n  )\n"]}